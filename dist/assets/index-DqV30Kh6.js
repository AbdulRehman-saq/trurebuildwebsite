(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var ny={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function kL(){if(z1)return ot;z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function E(M,B,J){this.props=M,this.context=B,this.refs=S,this.updater=J||v}E.prototype.isReactComponent={},E.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=E.prototype;function b(M,B,J){this.props=M,this.context=B,this.refs=S,this.updater=J||v}var R=b.prototype=new w;R.constructor=b,x(R,E.prototype),R.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function O(M,B,J,ie,ae,te){return J=te.ref,{$$typeof:t,type:M,key:B,ref:J!==void 0?J:null,props:te}}function z(M,B){return O(M.type,B,void 0,void 0,void 0,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function P(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return B[J]})}var G=/\/+/g;function W(M,B){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):B.toString(36)}function I(){}function k(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(B){M.status==="pending"&&(M.status="fulfilled",M.value=B)},function(B){M.status==="pending"&&(M.status="rejected",M.reason=B)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,B,J,ie,ae){var te=typeof M;(te==="undefined"||te==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(te){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case t:case e:pe=!0;break;case p:return pe=M._init,j(pe(M._payload),B,J,ie,ae)}}if(pe)return ae=ae(M),pe=ie===""?"."+W(M,0):ie,D(ae)?(J="",pe!=null&&(J=pe.replace(G,"$&/")+"/"),j(ae,B,J,"",function(De){return De})):ae!=null&&(N(ae)&&(ae=z(ae,J+(ae.key==null||M&&M.key===ae.key?"":(""+ae.key).replace(G,"$&/")+"/")+pe)),B.push(ae)),1;pe=0;var me=ie===""?".":ie+":";if(D(M))for(var Le=0;Le<M.length;Le++)ie=M[Le],te=me+W(ie,Le),pe+=j(ie,B,J,te,ae);else if(Le=g(M),typeof Le=="function")for(M=Le.call(M),Le=0;!(ie=M.next()).done;)ie=ie.value,te=me+W(ie,Le++),pe+=j(ie,B,J,te,ae);else if(te==="object"){if(typeof M.then=="function")return j(k(M),B,J,ie,ae);throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(M,B,J){if(M==null)return M;var ie=[],ae=0;return j(M,ie,"","",function(te){return B.call(J,te,ae++)}),ie}function T(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Y(){}return ot.Children={map:V,forEach:function(M,B,J){V(M,function(){B.apply(this,arguments)},J)},count:function(M){var B=0;return V(M,function(){B++}),B},toArray:function(M){return V(M,function(B){return B})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ot.Component=E,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=b,ot.StrictMode=i,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ot.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},ot.cache=function(M){return function(){return M.apply(null,arguments)}},ot.cloneElement=function(M,B,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=x({},M.props),ae=M.key,te=void 0;if(B!=null)for(pe in B.ref!==void 0&&(te=void 0),B.key!==void 0&&(ae=""+B.key),B)!A.call(B,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&B.ref===void 0||(ie[pe]=B[pe]);var pe=arguments.length-2;if(pe===1)ie.children=J;else if(1<pe){for(var me=Array(pe),Le=0;Le<pe;Le++)me[Le]=arguments[Le+2];ie.children=me}return O(M.type,ae,void 0,void 0,te,ie)},ot.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},ot.createElement=function(M,B,J){var ie,ae={},te=null;if(B!=null)for(ie in B.key!==void 0&&(te=""+B.key),B)A.call(B,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ae[ie]=B[ie]);var pe=arguments.length-2;if(pe===1)ae.children=J;else if(1<pe){for(var me=Array(pe),Le=0;Le<pe;Le++)me[Le]=arguments[Le+2];ae.children=me}if(M&&M.defaultProps)for(ie in pe=M.defaultProps,pe)ae[ie]===void 0&&(ae[ie]=pe[ie]);return O(M,te,void 0,void 0,null,ae)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(M){return{$$typeof:u,render:M}},ot.isValidElement=N,ot.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:T}},ot.memo=function(M,B){return{$$typeof:h,type:M,compare:B===void 0?null:B}},ot.startTransition=function(M){var B=C.T,J={};C.T=J;try{var ie=M(),ae=C.S;ae!==null&&ae(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Y,re)}catch(te){re(te)}finally{C.T=B}},ot.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ot.use=function(M){return C.H.use(M)},ot.useActionState=function(M,B,J){return C.H.useActionState(M,B,J)},ot.useCallback=function(M,B){return C.H.useCallback(M,B)},ot.useContext=function(M){return C.H.useContext(M)},ot.useDebugValue=function(){},ot.useDeferredValue=function(M,B){return C.H.useDeferredValue(M,B)},ot.useEffect=function(M,B,J){var ie=C.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,B)},ot.useId=function(){return C.H.useId()},ot.useImperativeHandle=function(M,B,J){return C.H.useImperativeHandle(M,B,J)},ot.useInsertionEffect=function(M,B){return C.H.useInsertionEffect(M,B)},ot.useLayoutEffect=function(M,B){return C.H.useLayoutEffect(M,B)},ot.useMemo=function(M,B){return C.H.useMemo(M,B)},ot.useOptimistic=function(M,B){return C.H.useOptimistic(M,B)},ot.useReducer=function(M,B,J){return C.H.useReducer(M,B,J)},ot.useRef=function(M){return C.H.useRef(M)},ot.useState=function(M){return C.H.useState(M)},ot.useSyncExternalStore=function(M,B,J){return C.H.useSyncExternalStore(M,B,J)},ot.useTransition=function(){return C.H.useTransition()},ot.version="19.1.1",ot}var U1;function Mr(){return U1||(U1=1,ny.exports=kL()),ny.exports}var oe=Mr();const Q=S0(oe);var iy={exports:{}},Xc={},ry={exports:{}},sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function GL(){return H1||(H1=1,(function(t){function e(V,T){var re=V.length;V.push(T);e:for(;0<re;){var Y=re-1>>>1,M=V[Y];if(0<s(M,T))V[Y]=T,V[re]=M,re=Y;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var T=V[0],re=V.pop();if(re!==T){V[0]=re;e:for(var Y=0,M=V.length,B=M>>>1;Y<B;){var J=2*(Y+1)-1,ie=V[J],ae=J+1,te=V[ae];if(0>s(ie,re))ae<M&&0>s(te,ie)?(V[Y]=te,V[ae]=re,Y=ae):(V[Y]=ie,V[J]=re,Y=J);else if(ae<M&&0>s(te,re))V[Y]=te,V[ae]=re,Y=ae;else break e}}return T}function s(V,T){var re=V.sortIndex-T.sortIndex;return re!==0?re:V.id-T.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,m=null,g=3,v=!1,x=!1,S=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(V){for(var T=n(h);T!==null;){if(T.callback===null)i(h);else if(T.startTime<=V)i(h),T.sortIndex=T.expirationTime,e(f,T);else break;T=n(h)}}function C(V){if(S=!1,D(V),!x)if(n(f)!==null)x=!0,A||(A=!0,W());else{var T=n(h);T!==null&&j(C,T.startTime-V)}}var A=!1,O=-1,z=5,N=-1;function P(){return E?!0:!(t.unstable_now()-N<z)}function G(){if(E=!1,A){var V=t.unstable_now();N=V;var T=!0;try{e:{x=!1,S&&(S=!1,b(O),O=-1),v=!0;var re=g;try{t:{for(D(V),m=n(f);m!==null&&!(m.expirationTime>V&&P());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var M=Y(m.expirationTime<=V);if(V=t.unstable_now(),typeof M=="function"){m.callback=M,D(V),T=!0;break t}m===n(f)&&i(f),D(V)}else i(f);m=n(f)}if(m!==null)T=!0;else{var B=n(h);B!==null&&j(C,B.startTime-V),T=!1}}break e}finally{m=null,g=re,v=!1}T=void 0}}finally{T?W():A=!1}}}var W;if(typeof R=="function")W=function(){R(G)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=G,W=function(){k.postMessage(null)}}else W=function(){w(G,0)};function j(V,T){O=w(function(){V(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var re=g;g=T;try{return V()}finally{g=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(V,T){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=g;g=V;try{return T()}finally{g=re}},t.unstable_scheduleCallback=function(V,T,re){var Y=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Y+re:Y):re=Y,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=re+M,V={id:p++,callback:T,priorityLevel:V,startTime:re,expirationTime:M,sortIndex:-1},re>Y?(V.sortIndex=re,e(h,V),n(f)===null&&V===n(h)&&(S?(b(O),O=-1):S=!0,j(C,re-Y))):(V.sortIndex=M,e(f,V),x||v||(x=!0,A||(A=!0,W()))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var T=g;return function(){var re=g;g=T;try{return V.apply(this,arguments)}finally{g=re}}}})(sy)),sy}var V1;function jL(){return V1||(V1=1,ry.exports=GL()),ry.exports}var ay={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function WL(){if(I1)return On;I1=1;var t=Mr();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},On.flushSync=function(f){var h=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=h,i.p=p,i.d.f()}},On.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},On.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},On.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&i.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},On.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},On.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);i.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},On.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},On.requestFormReset=function(f){i.d.r(f)},On.unstable_batchedUpdates=function(f,h){return f(h)},On.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},On.useFormStatus=function(){return c.H.useHostTransitionStatus()},On.version="19.1.1",On}var F1;function qL(){if(F1)return ay.exports;F1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ay.exports=WL(),ay.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function XL(){if(k1)return Xc;k1=1;var t=jL(),e=Mr(),n=qL();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,d=a;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return u(y),r;if(_===d)return u(y),a;_=_.sibling}throw Error(i(188))}if(l.return!==d.return)l=y,d=_;else{for(var L=!1,H=y.child;H;){if(H===l){L=!0,l=y,d=_;break}if(H===d){L=!0,d=y,l=_;break}H=H.sibling}if(!L){for(H=_.child;H;){if(H===l){L=!0,l=_,d=y;break}if(H===d){L=!0,d=_,l=y;break}H=H.sibling}if(!L)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function h(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=h(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function k(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case R:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case D:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:k(r.type)||"Memo";case z:a=r._payload,r=r._init;try{return k(r(a))}catch{}}return null}var j=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Y=[],M=-1;function B(r){return{current:r}}function J(r){0>M||(r.current=Y[M],Y[M]=null,M--)}function ie(r,a){M++,Y[M]=r.current,r.current=a}var ae=B(null),te=B(null),pe=B(null),me=B(null);function Le(r,a){switch(ie(pe,a),ie(te,r),ie(ae,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?u1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=u1(a),r=f1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(ae),ie(ae,r)}function De(){J(ae),J(te),J(pe)}function Ie(r){r.memoizedState!==null&&ie(me,r);var a=ae.current,l=f1(a,r.type);a!==l&&(ie(te,r),ie(ae,l))}function Ue(r){te.current===r&&(J(ae),J(te)),me.current===r&&(J(me),kc._currentValue=re)}var xe=Object.prototype.hasOwnProperty,Ee=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,Oe=t.unstable_requestPaint,q=t.unstable_now,Z=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,F=t.unstable_UserBlockingPriority,U=t.unstable_NormalPriority,ee=t.unstable_LowPriority,he=t.unstable_IdlePriority,ge=t.log,le=t.unstable_setDisableYieldValue,_e=null,Re=null;function ze(r){if(typeof ge=="function"&&le(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(_e,r)}catch{}}var Be=Math.clz32?Math.clz32:pn,Ye=Math.log,mt=Math.LN2;function pn(r){return r>>>=0,r===0?32:31-(Ye(r)/mt|0)|0}var Hi=256,rr=4194304;function yi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Cr(r,a,l){var d=r.pendingLanes;if(d===0)return 0;var y=0,_=r.suspendedLanes,L=r.pingedLanes;r=r.warmLanes;var H=d&134217727;return H!==0?(d=H&~_,d!==0?y=yi(d):(L&=H,L!==0?y=yi(L):l||(l=H&~r,l!==0&&(y=yi(l))))):(H=d&~_,H!==0?y=yi(H):L!==0?y=yi(L):l||(l=d&~r,l!==0&&(y=yi(l)))),y===0?0:a!==0&&a!==y&&(a&_)===0&&(_=y&-y,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:y}function Vi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function so(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var r=Hi;return Hi<<=1,(Hi&4194048)===0&&(Hi=256),r}function Jl(){var r=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),r}function ao(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function us(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ii(r,a,l,d,y,_){var L=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var H=r.entanglements,$=r.expirationTimes,ue=r.hiddenUpdates;for(l=L&~l;0<l;){var be=31-Be(l),Ae=1<<be;H[be]=0,$[be]=-1;var fe=ue[be];if(fe!==null)for(ue[be]=null,be=0;be<fe.length;be++){var de=fe[be];de!==null&&(de.lane&=-536870913)}l&=~Ae}d!==0&&$l(r,d,0),_!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=_&~(L&~a))}function $l(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-Be(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function Tf(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-Be(l),y=1<<d;y&a|r[d]&a&&(r[d]|=a),l&=~y}}function ec(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function K(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ve(){var r=T.p;return r!==0?r:(r=window.event,r===void 0?32:L1(r.type))}function ye(r,a){var l=T.p;try{return T.p=r,a()}finally{T.p=l}}var we=Math.random().toString(36).slice(2),Pe="__reactFiber$"+we,Ke="__reactProps$"+we,rt="__reactContainer$"+we,ct="__reactEvents$"+we,at="__reactListeners$"+we,qt="__reactHandles$"+we,Ht="__reactResources$"+we,it="__reactMarker$"+we;function bt(r){delete r[Pe],delete r[Ke],delete r[ct],delete r[at],delete r[qt]}function Rn(r){var a=r[Pe];if(a)return a;for(var l=r.parentNode;l;){if(a=l[rt]||l[Pe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=m1(r);r!==null;){if(l=r[Pe])return l;r=m1(r)}return a}r=l,l=r.parentNode}return null}function yt(r){if(r=r[Pe]||r[rt]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function ei(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Nt(r){var a=r[Ht];return a||(a=r[Ht]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Xt(r){r[it]=!0}var _n=new Set,fs={};function qn(r,a){vi(r,a),vi(r+"Capture",a)}function vi(r,a){for(fs[r]=a,r=0;r<a.length;r++)_n.add(a[r])}var PR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tb={},nb={};function NR(r){return xe.call(nb,r)?!0:xe.call(tb,r)?!1:PR.test(r)?nb[r]=!0:(tb[r]=!0,!1)}function Af(r,a,l){if(NR(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Cf(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Rr(r,a,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+d)}}var Kp,ib;function oo(r){if(Kp===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Kp=a&&a[1]||"",ib=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kp+r+ib}var Qp=!1;function Jp(r,a){if(!r||Qp)return"";Qp=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(de){var fe=de}Reflect.construct(r,[],Ae)}else{try{Ae.call()}catch(de){fe=de}r.call(Ae.prototype)}}else{try{throw Error()}catch(de){fe=de}(Ae=r())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(de){if(de&&fe&&typeof de.stack=="string")return[de.stack,fe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),L=_[0],H=_[1];if(L&&H){var $=L.split(`
`),ue=H.split(`
`);for(y=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(d===$.length||y===ue.length)for(d=$.length-1,y=ue.length-1;1<=d&&0<=y&&$[d]!==ue[y];)y--;for(;1<=d&&0<=y;d--,y--)if($[d]!==ue[y]){if(d!==1||y!==1)do if(d--,y--,0>y||$[d]!==ue[y]){var be=`
`+$[d].replace(" at new "," at ");return r.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",r.displayName)),be}while(1<=d&&0<=y);break}}}finally{Qp=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?oo(l):""}function BR(r){switch(r.tag){case 26:case 27:case 5:return oo(r.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return Jp(r.type,!1);case 11:return Jp(r.type.render,!1);case 1:return Jp(r.type,!0);case 31:return oo("Activity");default:return""}}function rb(r){try{var a="";do a+=BR(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function xi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sb(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zR(r){var a=sb(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,_=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){d=""+L,_.call(this,L)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Rf(r){r._valueTracker||(r._valueTracker=zR(r))}function ab(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=sb(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function Lf(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var UR=/[\n"\\]/g;function bi(r){return r.replace(UR,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function $p(r,a,l,d,y,_,L,H){r.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.type=L:r.removeAttribute("type"),a!=null?L==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+xi(a)):r.value!==""+xi(a)&&(r.value=""+xi(a)):L!=="submit"&&L!=="reset"||r.removeAttribute("value"),a!=null?em(r,L,xi(a)):l!=null?em(r,L,xi(l)):d!=null&&r.removeAttribute("value"),y==null&&_!=null&&(r.defaultChecked=!!_),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+xi(H):r.removeAttribute("name")}function ob(r,a,l,d,y,_,L,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+xi(l):"",a=a!=null?""+xi(a):l,H||a===r.value||(r.value=a),r.defaultValue=a}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=H?r.checked:!!d,r.defaultChecked=!!d,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.name=L)}function em(r,a,l){a==="number"&&Lf(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function lo(r,a,l,d){if(r=r.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=a.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&d&&(r[l].defaultSelected=!0)}else{for(l=""+xi(l),a=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function lb(r,a,l){if(a!=null&&(a=""+xi(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+xi(l):""}function cb(r,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(i(92));if(j(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=xi(a),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function co(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var HR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ub(r,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,l):typeof l!="number"||l===0||HR.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function fb(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in a)d=a[y],a.hasOwnProperty(y)&&l[y]!==d&&ub(r,y,d)}else for(var _ in a)a.hasOwnProperty(_)&&ub(r,_,a[_])}function tm(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Of(r){return IR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var nm=null;function im(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,fo=null;function hb(r){var a=yt(r);if(a&&(r=a.stateNode)){var l=r[Ke]||null;e:switch(r=a.stateNode,a.type){case"input":if($p(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var y=d[Ke]||null;if(!y)throw Error(i(90));$p(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===r.form&&ab(d)}break e;case"textarea":lb(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&lo(r,!!l.multiple,a,!1)}}}var rm=!1;function db(r,a,l){if(rm)return r(a,l);rm=!0;try{var d=r(a);return d}finally{if(rm=!1,(uo!==null||fo!==null)&&(gh(),uo&&(a=uo,r=fo,fo=uo=null,hb(a),r)))for(a=0;a<r.length;a++)hb(r[a])}}function tc(r,a){var l=r.stateNode;if(l===null)return null;var d=l[Ke]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=!1;if(Lr)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){sm=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{sm=!1}var hs=null,am=null,Df=null;function pb(){if(Df)return Df;var r,a=am,l=a.length,d,y="value"in hs?hs.value:hs.textContent,_=y.length;for(r=0;r<l&&a[r]===y[r];r++);var L=l-r;for(d=1;d<=L&&a[l-d]===y[_-d];d++);return Df=y.slice(r,1<d?1-d:void 0)}function Pf(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Nf(){return!0}function mb(){return!1}function Xn(r){function a(l,d,y,_,L){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(l=r[H],this[H]=l?l(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Nf:mb,this.isPropagationStopped=mb,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nf)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nf)},persist:function(){},isPersistent:Nf}),a}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=Xn(aa),ic=p({},aa,{view:0,detail:0}),FR=Xn(ic),om,lm,rc,zf=p({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rc&&(rc&&r.type==="mousemove"?(om=r.screenX-rc.screenX,lm=r.screenY-rc.screenY):lm=om=0,rc=r),om)},movementY:function(r){return"movementY"in r?r.movementY:lm}}),gb=Xn(zf),kR=p({},zf,{dataTransfer:0}),GR=Xn(kR),jR=p({},ic,{relatedTarget:0}),cm=Xn(jR),WR=p({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),qR=Xn(WR),XR=p({},aa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),YR=Xn(XR),ZR=p({},aa,{data:0}),yb=Xn(ZR),KR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=JR[r])?!!a[r]:!1}function um(){return $R}var e3=p({},ic,{key:function(r){if(r.key){var a=KR[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pf(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?QR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(r){return r.type==="keypress"?Pf(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pf(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),t3=Xn(e3),n3=p({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=Xn(n3),i3=p({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),r3=Xn(i3),s3=p({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),a3=Xn(s3),o3=p({},zf,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),l3=Xn(o3),c3=p({},aa,{newState:0,oldState:0}),u3=Xn(c3),f3=[9,13,27,32],fm=Lr&&"CompositionEvent"in window,sc=null;Lr&&"documentMode"in document&&(sc=document.documentMode);var h3=Lr&&"TextEvent"in window&&!sc,xb=Lr&&(!fm||sc&&8<sc&&11>=sc),bb=" ",_b=!1;function wb(r,a){switch(r){case"keyup":return f3.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ho=!1;function d3(r,a){switch(r){case"compositionend":return Sb(a);case"keypress":return a.which!==32?null:(_b=!0,bb);case"textInput":return r=a.data,r===bb&&_b?null:r;default:return null}}function p3(r,a){if(ho)return r==="compositionend"||!fm&&wb(r,a)?(r=pb(),Df=am=hs=null,ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xb&&a.locale!=="ko"?null:a.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!m3[r.type]:a==="textarea"}function Eb(r,a,l,d){uo?fo?fo.push(d):fo=[d]:uo=d,a=wh(a,"onChange"),0<a.length&&(l=new Bf("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var ac=null,oc=null;function g3(r){s1(r,0)}function Uf(r){var a=ei(r);if(ab(a))return r}function Tb(r,a){if(r==="change")return a}var Ab=!1;if(Lr){var hm;if(Lr){var dm="oninput"in document;if(!dm){var Cb=document.createElement("div");Cb.setAttribute("oninput","return;"),dm=typeof Cb.oninput=="function"}hm=dm}else hm=!1;Ab=hm&&(!document.documentMode||9<document.documentMode)}function Rb(){ac&&(ac.detachEvent("onpropertychange",Lb),oc=ac=null)}function Lb(r){if(r.propertyName==="value"&&Uf(oc)){var a=[];Eb(a,oc,r,im(r)),db(g3,a)}}function y3(r,a,l){r==="focusin"?(Rb(),ac=a,oc=l,ac.attachEvent("onpropertychange",Lb)):r==="focusout"&&Rb()}function v3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uf(oc)}function x3(r,a){if(r==="click")return Uf(a)}function b3(r,a){if(r==="input"||r==="change")return Uf(a)}function _3(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ti=typeof Object.is=="function"?Object.is:_3;function lc(r,a){if(ti(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!xe.call(a,y)||!ti(r[y],a[y]))return!1}return!0}function Ob(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Db(r,a){var l=Ob(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ob(l)}}function Pb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Pb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Nb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Lf(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Lf(r.document)}return a}function pm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var w3=Lr&&"documentMode"in document&&11>=document.documentMode,po=null,mm=null,cc=null,gm=!1;function Bb(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gm||po==null||po!==Lf(d)||(d=po,"selectionStart"in d&&pm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),cc&&lc(cc,d)||(cc=d,d=wh(mm,"onSelect"),0<d.length&&(a=new Bf("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=po)))}function oa(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var mo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},ym={},zb={};Lr&&(zb=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function la(r){if(ym[r])return ym[r];if(!mo[r])return r;var a=mo[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in zb)return ym[r]=a[l];return r}var Ub=la("animationend"),Hb=la("animationiteration"),Vb=la("animationstart"),S3=la("transitionrun"),M3=la("transitionstart"),E3=la("transitioncancel"),Ib=la("transitionend"),Fb=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function Fi(r,a){Fb.set(r,a),qn(a,[r])}var kb=new WeakMap;function _i(r,a){if(typeof r=="object"&&r!==null){var l=kb.get(r);return l!==void 0?l:(a={value:r,source:a,stack:rb(a)},kb.set(r,a),a)}return{value:r,source:a,stack:rb(a)}}var wi=[],go=0,xm=0;function Hf(){for(var r=go,a=xm=go=0;a<r;){var l=wi[a];wi[a++]=null;var d=wi[a];wi[a++]=null;var y=wi[a];wi[a++]=null;var _=wi[a];if(wi[a++]=null,d!==null&&y!==null){var L=d.pending;L===null?y.next=y:(y.next=L.next,L.next=y),d.pending=y}_!==0&&Gb(l,y,_)}}function Vf(r,a,l,d){wi[go++]=r,wi[go++]=a,wi[go++]=l,wi[go++]=d,xm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function bm(r,a,l,d){return Vf(r,a,l,d),If(r)}function yo(r,a){return Vf(r,null,null,a),If(r)}function Gb(r,a,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var y=!1,_=r.return;_!==null;)_.childLanes|=l,d=_.alternate,d!==null&&(d.childLanes|=l),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(y=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,y&&a!==null&&(y=31-Be(l),r=_.hiddenUpdates,d=r[y],d===null?r[y]=[a]:d.push(a),a.lane=l|536870912),_):null}function If(r){if(50<Nc)throw Nc=0,Tg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var vo={};function T3(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,a,l,d){return new T3(r,a,l,d)}function _m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Or(r,a){var l=r.alternate;return l===null?(l=ni(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function jb(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Ff(r,a,l,d,y,_){var L=0;if(d=r,typeof r=="function")_m(r)&&(L=1);else if(typeof r=="string")L=CL(r,l,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=ni(31,l,a,y),r.elementType=N,r.lanes=_,r;case x:return ca(l.children,y,_,a);case S:L=8,y|=24;break;case E:return r=ni(12,l,a,y|2),r.elementType=E,r.lanes=_,r;case C:return r=ni(13,l,a,y),r.elementType=C,r.lanes=_,r;case A:return r=ni(19,l,a,y),r.elementType=A,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case R:L=10;break e;case b:L=9;break e;case D:L=11;break e;case O:L=14;break e;case z:L=16,d=null;break e}L=29,l=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=ni(L,l,a,y),a.elementType=r,a.type=d,a.lanes=_,a}function ca(r,a,l,d){return r=ni(7,r,d,a),r.lanes=l,r}function wm(r,a,l){return r=ni(6,r,null,a),r.lanes=l,r}function Sm(r,a,l){return a=ni(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var xo=[],bo=0,kf=null,Gf=0,Si=[],Mi=0,ua=null,Dr=1,Pr="";function fa(r,a){xo[bo++]=Gf,xo[bo++]=kf,kf=r,Gf=a}function Wb(r,a,l){Si[Mi++]=Dr,Si[Mi++]=Pr,Si[Mi++]=ua,ua=r;var d=Dr;r=Pr;var y=32-Be(d)-1;d&=~(1<<y),l+=1;var _=32-Be(a)+y;if(30<_){var L=y-y%5;_=(d&(1<<L)-1).toString(32),d>>=L,y-=L,Dr=1<<32-Be(a)+y|l<<y|d,Pr=_+r}else Dr=1<<_|l<<y|d,Pr=r}function Mm(r){r.return!==null&&(fa(r,1),Wb(r,1,0))}function Em(r){for(;r===kf;)kf=xo[--bo],xo[bo]=null,Gf=xo[--bo],xo[bo]=null;for(;r===ua;)ua=Si[--Mi],Si[Mi]=null,Pr=Si[--Mi],Si[Mi]=null,Dr=Si[--Mi],Si[Mi]=null}var Un=null,Yt=null,xt=!1,ha=null,sr=!1,Tm=Error(i(519));function da(r){var a=Error(i(418,""));throw hc(_i(a,r)),Tm}function qb(r){var a=r.stateNode,l=r.type,d=r.memoizedProps;switch(a[Pe]=r,a[Ke]=d,l){case"dialog":pt("cancel",a),pt("close",a);break;case"iframe":case"object":case"embed":pt("load",a);break;case"video":case"audio":for(l=0;l<zc.length;l++)pt(zc[l],a);break;case"source":pt("error",a);break;case"img":case"image":case"link":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"input":pt("invalid",a),ob(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Rf(a);break;case"select":pt("invalid",a);break;case"textarea":pt("invalid",a),cb(a,d.value,d.defaultValue,d.children),Rf(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||c1(a.textContent,l)?(d.popover!=null&&(pt("beforetoggle",a),pt("toggle",a)),d.onScroll!=null&&pt("scroll",a),d.onScrollEnd!=null&&pt("scrollend",a),d.onClick!=null&&(a.onclick=Sh),a=!0):a=!1,a||da(r)}function Xb(r){for(Un=r.return;Un;)switch(Un.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Un=Un.return}}function uc(r){if(r!==Un)return!1;if(!xt)return Xb(r),xt=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||kg(r.type,r.memoizedProps)),l=!l),l&&Yt&&da(r),Xb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Yt=Gi(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Yt=null}}else a===27?(a=Yt,Cs(r.type)?(r=qg,qg=null,Yt=r):Yt=a):Yt=Un?Gi(r.stateNode.nextSibling):null;return!0}function fc(){Yt=Un=null,xt=!1}function Yb(){var r=ha;return r!==null&&(Kn===null?Kn=r:Kn.push.apply(Kn,r),ha=null),r}function hc(r){ha===null?ha=[r]:ha.push(r)}var Am=B(null),pa=null,Nr=null;function ds(r,a,l){ie(Am,a._currentValue),a._currentValue=l}function Br(r){r._currentValue=Am.current,J(Am)}function Cm(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function Rm(r,a,l,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){var L=y.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=y;for(var $=0;$<a.length;$++)if(H.context===a[$]){_.lanes|=l,H=_.alternate,H!==null&&(H.lanes|=l),Cm(_.return,l,r),d||(L=null);break e}_=H.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(i(341));L.lanes|=l,_=L.alternate,_!==null&&(_.lanes|=l),Cm(L,l,r),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===r){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function dc(r,a,l,d){r=null;for(var y=a,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var H=y.type;ti(y.pendingProps.value,L.value)||(r!==null?r.push(H):r=[H])}}else if(y===me.current){if(L=y.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(kc):r=[kc])}y=y.return}r!==null&&Rm(a,r,l,d),a.flags|=262144}function jf(r){for(r=r.firstContext;r!==null;){if(!ti(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ma(r){pa=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Zb(pa,r)}function Wf(r,a){return pa===null&&ma(r),Zb(r,a)}function Zb(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Nr===null){if(r===null)throw Error(i(308));Nr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Nr=Nr.next=a;return l}var A3=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},C3=t.unstable_scheduleCallback,R3=t.unstable_NormalPriority,un={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new A3,data:new Map,refCount:0}}function pc(r){r.refCount--,r.refCount===0&&C3(R3,function(){r.controller.abort()})}var mc=null,Om=0,_o=0,wo=null;function L3(r,a){if(mc===null){var l=mc=[];Om=0,_o=Pg(),wo={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Om++,a.then(Kb,Kb),a}function Kb(){if(--Om===0&&mc!==null){wo!==null&&(wo.status="fulfilled");var r=mc;mc=null,_o=0,wo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function O3(r,a){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var Qb=V.S;V.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&L3(r,a),Qb!==null&&Qb(r,a)};var ga=B(null);function Dm(){var r=ga.current;return r!==null?r:Ot.pooledCache}function qf(r,a){a===null?ie(ga,ga.current):ie(ga,a.pool)}function Jb(){var r=Dm();return r===null?null:{parent:un._currentValue,pool:r}}var gc=Error(i(460)),$b=Error(i(474)),Xf=Error(i(542)),Pm={then:function(){}};function e_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yf(){}function t_(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Yf,Yf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,i_(r),r;default:if(typeof a.status=="string")a.then(Yf,Yf);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=d}},function(d){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,i_(r),r}throw yc=a,gc}}var yc=null;function n_(){if(yc===null)throw Error(i(459));var r=yc;return yc=null,r}function i_(r){if(r===gc||r===Xf)throw Error(i(483))}var ps=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function gs(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(_t&2)!==0){var y=d.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a,a=If(r),Gb(r,null,l),a}return Vf(r,d,a,l),If(r)}function vc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,Tf(r,l)}}function zm(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=L:_=_.next=L,l=l.next}while(l!==null);_===null?y=_=a:_=_.next=a}else y=_=a;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Um=!1;function xc(){if(Um){var r=wo;if(r!==null)throw r}}function bc(r,a,l,d){Um=!1;var y=r.updateQueue;ps=!1;var _=y.firstBaseUpdate,L=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var $=H,ue=$.next;$.next=null,L===null?_=ue:L.next=ue,L=$;var be=r.alternate;be!==null&&(be=be.updateQueue,H=be.lastBaseUpdate,H!==L&&(H===null?be.firstBaseUpdate=ue:H.next=ue,be.lastBaseUpdate=$))}if(_!==null){var Ae=y.baseState;L=0,be=ue=$=null,H=_;do{var fe=H.lane&-536870913,de=fe!==H.lane;if(de?(gt&fe)===fe:(d&fe)===fe){fe!==0&&fe===_o&&(Um=!0),be!==null&&(be=be.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var tt=r,Qe=H;fe=a;var Tt=l;switch(Qe.tag){case 1:if(tt=Qe.payload,typeof tt=="function"){Ae=tt.call(Tt,Ae,fe);break e}Ae=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Qe.payload,fe=typeof tt=="function"?tt.call(Tt,Ae,fe):tt,fe==null)break e;Ae=p({},Ae,fe);break e;case 2:ps=!0}}fe=H.callback,fe!==null&&(r.flags|=64,de&&(r.flags|=8192),de=y.callbacks,de===null?y.callbacks=[fe]:de.push(fe))}else de={lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},be===null?(ue=be=de,$=Ae):be=be.next=de,L|=fe;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;de=H,H=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);be===null&&($=Ae),y.baseState=$,y.firstBaseUpdate=ue,y.lastBaseUpdate=be,_===null&&(y.shared.lanes=0),Ms|=L,r.lanes=L,r.memoizedState=Ae}}function r_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function s_(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)r_(l[r],a)}var So=B(null),Zf=B(0);function a_(r,a){r=kr,ie(Zf,r),ie(So,a),kr=r|a.baseLanes}function Hm(){ie(Zf,kr),ie(So,So.current)}function Vm(){kr=Zf.current,J(So),J(Zf)}var ys=0,ut=null,Mt=null,nn=null,Kf=!1,Mo=!1,ya=!1,Qf=0,_c=0,Eo=null,D3=0;function Jt(){throw Error(i(321))}function Im(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!ti(r[l],a[l]))return!1;return!0}function Fm(r,a,l,d,y,_){return ys=_,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=r===null||r.memoizedState===null?G_:j_,ya=!1,_=l(d,y),ya=!1,Mo&&(_=l_(a,l,d,y)),o_(r),_}function o_(r){V.H=ih;var a=Mt!==null&&Mt.next!==null;if(ys=0,nn=Mt=ut=null,Kf=!1,_c=0,Eo=null,a)throw Error(i(300));r===null||mn||(r=r.dependencies,r!==null&&jf(r)&&(mn=!0))}function l_(r,a,l,d){ut=r;var y=0;do{if(Mo&&(Eo=null),_c=0,Mo=!1,25<=y)throw Error(i(301));if(y+=1,nn=Mt=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}V.H=V3,_=a(l,d)}while(Mo);return _}function P3(){var r=V.H,a=r.useState()[0];return a=typeof a.then=="function"?wc(a):a,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(ut.flags|=1024),a}function km(){var r=Qf!==0;return Qf=0,r}function Gm(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function jm(r){if(Kf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Kf=!1}ys=0,nn=Mt=ut=null,Mo=!1,_c=Qf=0,Eo=null}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?ut.memoizedState=nn=r:nn=nn.next=r,nn}function rn(){if(Mt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=nn===null?ut.memoizedState:nn.next;if(a!==null)nn=a,Mt=r;else{if(r===null)throw ut.alternate===null?Error(i(467)):Error(i(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},nn===null?ut.memoizedState=nn=r:nn=nn.next=r}return nn}function Wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(r){var a=_c;return _c+=1,Eo===null&&(Eo=[]),r=t_(Eo,r,a),a=ut,(nn===null?a.memoizedState:nn.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?G_:j_),r}function Jf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return wc(r);if(r.$$typeof===R)return Ln(r)}throw Error(i(438,String(r)))}function qm(r){var a=null,l=ut.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=ut.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wm(),ut.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),d=0;d<r;d++)l[d]=P;return a.index++,l}function zr(r,a){return typeof a=="function"?a(r):a}function $f(r){var a=rn();return Xm(a,Mt,r)}function Xm(r,a,l){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var y=r.baseQueue,_=d.pending;if(_!==null){if(y!==null){var L=y.next;y.next=_.next,_.next=L}a.baseQueue=y=_,d.pending=null}if(_=r.baseState,y===null)r.memoizedState=_;else{a=y.next;var H=L=null,$=null,ue=a,be=!1;do{var Ae=ue.lane&-536870913;if(Ae!==ue.lane?(gt&Ae)===Ae:(ys&Ae)===Ae){var fe=ue.revertLane;if(fe===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ae===_o&&(be=!0);else if((ys&fe)===fe){ue=ue.next,fe===_o&&(be=!0);continue}else Ae={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},$===null?(H=$=Ae,L=_):$=$.next=Ae,ut.lanes|=fe,Ms|=fe;Ae=ue.action,ya&&l(_,Ae),_=ue.hasEagerState?ue.eagerState:l(_,Ae)}else fe={lane:Ae,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},$===null?(H=$=fe,L=_):$=$.next=fe,ut.lanes|=Ae,Ms|=Ae;ue=ue.next}while(ue!==null&&ue!==a);if($===null?L=_:$.next=H,!ti(_,r.memoizedState)&&(mn=!0,be&&(l=wo,l!==null)))throw l;r.memoizedState=_,r.baseState=L,r.baseQueue=$,d.lastRenderedState=_}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Ym(r){var a=rn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=l.dispatch,y=l.pending,_=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do _=r(_,L.action),L=L.next;while(L!==y);ti(_,a.memoizedState)||(mn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,d]}function c_(r,a,l){var d=ut,y=rn(),_=xt;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=a();var L=!ti((Mt||y).memoizedState,l);L&&(y.memoizedState=l,mn=!0),y=y.queue;var H=h_.bind(null,d,y,r);if(Sc(2048,8,H,[r]),y.getSnapshot!==a||L||nn!==null&&nn.memoizedState.tag&1){if(d.flags|=2048,To(9,eh(),f_.bind(null,d,y,l,a),null),Ot===null)throw Error(i(349));_||(ys&124)!==0||u_(d,a,l)}return l}function u_(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=ut.updateQueue,a===null?(a=Wm(),ut.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function f_(r,a,l,d){a.value=l,a.getSnapshot=d,d_(a)&&p_(r)}function h_(r,a,l){return l(function(){d_(a)&&p_(r)})}function d_(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!ti(r,l)}catch{return!0}}function p_(r){var a=yo(r,2);a!==null&&oi(a,r,2)}function Zm(r){var a=Yn();if(typeof r=="function"){var l=r;if(r=l(),ya){ze(!0);try{l()}finally{ze(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:r},a}function m_(r,a,l,d){return r.baseState=l,Xm(r,Mt,typeof d=="function"?d:zr)}function N3(r,a,l,d,y){if(nh(r))throw Error(i(485));if(r=a.action,r!==null){var _={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};V.T!==null?l(!0):_.isTransition=!1,d(_),l=a.pending,l===null?(_.next=a.pending=_,g_(a,_)):(_.next=l.next,a.pending=l.next=_)}}function g_(r,a){var l=a.action,d=a.payload,y=r.state;if(a.isTransition){var _=V.T,L={};V.T=L;try{var H=l(y,d),$=V.S;$!==null&&$(L,H),y_(r,a,H)}catch(ue){Km(r,a,ue)}finally{V.T=_}}else try{_=l(y,d),y_(r,a,_)}catch(ue){Km(r,a,ue)}}function y_(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){v_(r,a,d)},function(d){return Km(r,a,d)}):v_(r,a,l)}function v_(r,a,l){a.status="fulfilled",a.value=l,x_(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,g_(r,l)))}function Km(r,a,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,x_(a),a=a.next;while(a!==d)}r.action=null}function x_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function b_(r,a){return a}function __(r,a){if(xt){var l=Ot.formState;if(l!==null){e:{var d=ut;if(xt){if(Yt){t:{for(var y=Yt,_=sr;y.nodeType!==8;){if(!_){y=null;break t}if(y=Gi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Yt=Gi(y.nextSibling),d=y.data==="F!";break e}}da(d)}d=!1}d&&(a=l[0])}}return l=Yn(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:a},l.queue=d,l=I_.bind(null,ut,d),d.dispatch=l,d=Zm(!1),_=tg.bind(null,ut,!1,d.queue),d=Yn(),y={state:a,dispatch:null,action:r,pending:null},d.queue=y,l=N3.bind(null,ut,y,_,l),y.dispatch=l,d.memoizedState=r,[a,l,!1]}function w_(r){var a=rn();return S_(a,Mt,r)}function S_(r,a,l){if(a=Xm(r,a,b_)[0],r=$f(zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=wc(a)}catch(L){throw L===gc?Xf:L}else d=a;a=rn();var y=a.queue,_=y.dispatch;return l!==a.memoizedState&&(ut.flags|=2048,To(9,eh(),B3.bind(null,y,l),null)),[d,_,r]}function B3(r,a){r.action=a}function M_(r){var a=rn(),l=Mt;if(l!==null)return S_(a,l,r);rn(),a=a.memoizedState,l=rn();var d=l.queue.dispatch;return l.memoizedState=r,[a,d,!1]}function To(r,a,l,d){return r={tag:r,create:l,deps:d,inst:a,next:null},a=ut.updateQueue,a===null&&(a=Wm(),ut.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r),r}function eh(){return{destroy:void 0,resource:void 0}}function E_(){return rn().memoizedState}function th(r,a,l,d){var y=Yn();d=d===void 0?null:d,ut.flags|=r,y.memoizedState=To(1|a,eh(),l,d)}function Sc(r,a,l,d){var y=rn();d=d===void 0?null:d;var _=y.memoizedState.inst;Mt!==null&&d!==null&&Im(d,Mt.memoizedState.deps)?y.memoizedState=To(a,_,l,d):(ut.flags|=r,y.memoizedState=To(1|a,_,l,d))}function T_(r,a){th(8390656,8,r,a)}function A_(r,a){Sc(2048,8,r,a)}function C_(r,a){return Sc(4,2,r,a)}function R_(r,a){return Sc(4,4,r,a)}function L_(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function O_(r,a,l){l=l!=null?l.concat([r]):null,Sc(4,4,L_.bind(null,a,r),l)}function Qm(){}function D_(r,a){var l=rn();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Im(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function P_(r,a){var l=rn();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Im(a,d[1]))return d[0];if(d=r(),ya){ze(!0);try{r()}finally{ze(!1)}}return l.memoizedState=[d,a],d}function Jm(r,a,l){return l===void 0||(ys&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=zw(),ut.lanes|=r,Ms|=r,l)}function N_(r,a,l,d){return ti(l,a)?l:So.current!==null?(r=Jm(r,l,d),ti(r,a)||(mn=!0),r):(ys&42)===0?(mn=!0,r.memoizedState=l):(r=zw(),ut.lanes|=r,Ms|=r,a)}function B_(r,a,l,d,y){var _=T.p;T.p=_!==0&&8>_?_:8;var L=V.T,H={};V.T=H,tg(r,!1,a,l);try{var $=y(),ue=V.S;if(ue!==null&&ue(H,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var be=O3($,d);Mc(r,a,be,ai(r))}else Mc(r,a,d,ai(r))}catch(Ae){Mc(r,a,{then:function(){},status:"rejected",reason:Ae},ai())}finally{T.p=_,V.T=L}}function z3(){}function $m(r,a,l,d){if(r.tag!==5)throw Error(i(476));var y=z_(r).queue;B_(r,y,a,re,l===null?z3:function(){return U_(r),l(d)})}function z_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function U_(r){var a=z_(r).next.queue;Mc(r,a,{},ai())}function eg(){return Ln(kc)}function H_(){return rn().memoizedState}function V_(){return rn().memoizedState}function U3(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=ai();r=ms(l);var d=gs(a,r,l);d!==null&&(oi(d,a,l),vc(d,a,l)),a={cache:Lm()},r.payload=a;return}a=a.return}}function H3(r,a,l){var d=ai();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},nh(r)?F_(a,l):(l=bm(r,a,l,d),l!==null&&(oi(l,r,d),k_(l,a,d)))}function I_(r,a,l){var d=ai();Mc(r,a,l,d)}function Mc(r,a,l,d){var y={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(nh(r))F_(a,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var L=a.lastRenderedState,H=_(L,l);if(y.hasEagerState=!0,y.eagerState=H,ti(H,L))return Vf(r,a,y,0),Ot===null&&Hf(),!1}catch{}finally{}if(l=bm(r,a,y,d),l!==null)return oi(l,r,d),k_(l,a,d),!0}return!1}function tg(r,a,l,d){if(d={lane:2,revertLane:Pg(),action:d,hasEagerState:!1,eagerState:null,next:null},nh(r)){if(a)throw Error(i(479))}else a=bm(r,l,d,2),a!==null&&oi(a,r,2)}function nh(r){var a=r.alternate;return r===ut||a!==null&&a===ut}function F_(r,a){Mo=Kf=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function k_(r,a,l){if((l&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,Tf(r,l)}}var ih={readContext:Ln,use:Jf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},G_={readContext:Ln,use:Jf,useCallback:function(r,a){return Yn().memoizedState=[r,a===void 0?null:a],r},useContext:Ln,useEffect:T_,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,th(4194308,4,L_.bind(null,a,r),l)},useLayoutEffect:function(r,a){return th(4194308,4,r,a)},useInsertionEffect:function(r,a){th(4,2,r,a)},useMemo:function(r,a){var l=Yn();a=a===void 0?null:a;var d=r();if(ya){ze(!0);try{r()}finally{ze(!1)}}return l.memoizedState=[d,a],d},useReducer:function(r,a,l){var d=Yn();if(l!==void 0){var y=l(a);if(ya){ze(!0);try{l(a)}finally{ze(!1)}}}else y=a;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=H3.bind(null,ut,r),[d.memoizedState,r]},useRef:function(r){var a=Yn();return r={current:r},a.memoizedState=r},useState:function(r){r=Zm(r);var a=r.queue,l=I_.bind(null,ut,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Qm,useDeferredValue:function(r,a){var l=Yn();return Jm(l,r,a)},useTransition:function(){var r=Zm(!1);return r=B_.bind(null,ut,r.queue,!0,!1),Yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var d=ut,y=Yn();if(xt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ot===null)throw Error(i(349));(gt&124)!==0||u_(d,a,l)}y.memoizedState=l;var _={value:l,getSnapshot:a};return y.queue=_,T_(h_.bind(null,d,_,r),[r]),d.flags|=2048,To(9,eh(),f_.bind(null,d,_,l,a),null),l},useId:function(){var r=Yn(),a=Ot.identifierPrefix;if(xt){var l=Pr,d=Dr;l=(d&~(1<<32-Be(d)-1)).toString(32)+l,a=""+a+"R"+l,l=Qf++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=D3++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:eg,useFormState:__,useActionState:__,useOptimistic:function(r){var a=Yn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tg.bind(null,ut,!0,l),l.dispatch=a,[r,a]},useMemoCache:qm,useCacheRefresh:function(){return Yn().memoizedState=U3.bind(null,ut)}},j_={readContext:Ln,use:Jf,useCallback:D_,useContext:Ln,useEffect:A_,useImperativeHandle:O_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:P_,useReducer:$f,useRef:E_,useState:function(){return $f(zr)},useDebugValue:Qm,useDeferredValue:function(r,a){var l=rn();return N_(l,Mt.memoizedState,r,a)},useTransition:function(){var r=$f(zr)[0],a=rn().memoizedState;return[typeof r=="boolean"?r:wc(r),a]},useSyncExternalStore:c_,useId:H_,useHostTransitionStatus:eg,useFormState:w_,useActionState:w_,useOptimistic:function(r,a){var l=rn();return m_(l,Mt,r,a)},useMemoCache:qm,useCacheRefresh:V_},V3={readContext:Ln,use:Jf,useCallback:D_,useContext:Ln,useEffect:A_,useImperativeHandle:O_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:P_,useReducer:Ym,useRef:E_,useState:function(){return Ym(zr)},useDebugValue:Qm,useDeferredValue:function(r,a){var l=rn();return Mt===null?Jm(l,r,a):N_(l,Mt.memoizedState,r,a)},useTransition:function(){var r=Ym(zr)[0],a=rn().memoizedState;return[typeof r=="boolean"?r:wc(r),a]},useSyncExternalStore:c_,useId:H_,useHostTransitionStatus:eg,useFormState:M_,useActionState:M_,useOptimistic:function(r,a){var l=rn();return Mt!==null?m_(l,Mt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:qm,useCacheRefresh:V_},Ao=null,Ec=0;function rh(r){var a=Ec;return Ec+=1,Ao===null&&(Ao=[]),t_(Ao,r,a)}function Tc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function sh(r,a){throw a.$$typeof===m?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function W_(r){var a=r._init;return a(r._payload)}function q_(r){function a(se,ne){if(r){var ce=se.deletions;ce===null?(se.deletions=[ne],se.flags|=16):ce.push(ne)}}function l(se,ne){if(!r)return null;for(;ne!==null;)a(se,ne),ne=ne.sibling;return null}function d(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function y(se,ne){return se=Or(se,ne),se.index=0,se.sibling=null,se}function _(se,ne,ce){return se.index=ce,r?(ce=se.alternate,ce!==null?(ce=ce.index,ce<ne?(se.flags|=67108866,ne):ce):(se.flags|=67108866,ne)):(se.flags|=1048576,ne)}function L(se){return r&&se.alternate===null&&(se.flags|=67108866),se}function H(se,ne,ce,Me){return ne===null||ne.tag!==6?(ne=wm(ce,se.mode,Me),ne.return=se,ne):(ne=y(ne,ce),ne.return=se,ne)}function $(se,ne,ce,Me){var Ge=ce.type;return Ge===x?be(se,ne,ce.props.children,Me,ce.key):ne!==null&&(ne.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===z&&W_(Ge)===ne.type)?(ne=y(ne,ce.props),Tc(ne,ce),ne.return=se,ne):(ne=Ff(ce.type,ce.key,ce.props,null,se.mode,Me),Tc(ne,ce),ne.return=se,ne)}function ue(se,ne,ce,Me){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=Sm(ce,se.mode,Me),ne.return=se,ne):(ne=y(ne,ce.children||[]),ne.return=se,ne)}function be(se,ne,ce,Me,Ge){return ne===null||ne.tag!==7?(ne=ca(ce,se.mode,Me,Ge),ne.return=se,ne):(ne=y(ne,ce),ne.return=se,ne)}function Ae(se,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=wm(""+ne,se.mode,ce),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:return ce=Ff(ne.type,ne.key,ne.props,null,se.mode,ce),Tc(ce,ne),ce.return=se,ce;case v:return ne=Sm(ne,se.mode,ce),ne.return=se,ne;case z:var Me=ne._init;return ne=Me(ne._payload),Ae(se,ne,ce)}if(j(ne)||W(ne))return ne=ca(ne,se.mode,ce,null),ne.return=se,ne;if(typeof ne.then=="function")return Ae(se,rh(ne),ce);if(ne.$$typeof===R)return Ae(se,Wf(se,ne),ce);sh(se,ne)}return null}function fe(se,ne,ce,Me){var Ge=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ge!==null?null:H(se,ne,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return ce.key===Ge?$(se,ne,ce,Me):null;case v:return ce.key===Ge?ue(se,ne,ce,Me):null;case z:return Ge=ce._init,ce=Ge(ce._payload),fe(se,ne,ce,Me)}if(j(ce)||W(ce))return Ge!==null?null:be(se,ne,ce,Me,null);if(typeof ce.then=="function")return fe(se,ne,rh(ce),Me);if(ce.$$typeof===R)return fe(se,ne,Wf(se,ce),Me);sh(se,ce)}return null}function de(se,ne,ce,Me,Ge){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return se=se.get(ce)||null,H(ne,se,""+Me,Ge);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case g:return se=se.get(Me.key===null?ce:Me.key)||null,$(ne,se,Me,Ge);case v:return se=se.get(Me.key===null?ce:Me.key)||null,ue(ne,se,Me,Ge);case z:var ft=Me._init;return Me=ft(Me._payload),de(se,ne,ce,Me,Ge)}if(j(Me)||W(Me))return se=se.get(ce)||null,be(ne,se,Me,Ge,null);if(typeof Me.then=="function")return de(se,ne,ce,rh(Me),Ge);if(Me.$$typeof===R)return de(se,ne,ce,Wf(ne,Me),Ge);sh(ne,Me)}return null}function tt(se,ne,ce,Me){for(var Ge=null,ft=null,qe=ne,$e=ne=0,yn=null;qe!==null&&$e<ce.length;$e++){qe.index>$e?(yn=qe,qe=null):yn=qe.sibling;var vt=fe(se,qe,ce[$e],Me);if(vt===null){qe===null&&(qe=yn);break}r&&qe&&vt.alternate===null&&a(se,qe),ne=_(vt,ne,$e),ft===null?Ge=vt:ft.sibling=vt,ft=vt,qe=yn}if($e===ce.length)return l(se,qe),xt&&fa(se,$e),Ge;if(qe===null){for(;$e<ce.length;$e++)qe=Ae(se,ce[$e],Me),qe!==null&&(ne=_(qe,ne,$e),ft===null?Ge=qe:ft.sibling=qe,ft=qe);return xt&&fa(se,$e),Ge}for(qe=d(qe);$e<ce.length;$e++)yn=de(qe,se,$e,ce[$e],Me),yn!==null&&(r&&yn.alternate!==null&&qe.delete(yn.key===null?$e:yn.key),ne=_(yn,ne,$e),ft===null?Ge=yn:ft.sibling=yn,ft=yn);return r&&qe.forEach(function(Ps){return a(se,Ps)}),xt&&fa(se,$e),Ge}function Qe(se,ne,ce,Me){if(ce==null)throw Error(i(151));for(var Ge=null,ft=null,qe=ne,$e=ne=0,yn=null,vt=ce.next();qe!==null&&!vt.done;$e++,vt=ce.next()){qe.index>$e?(yn=qe,qe=null):yn=qe.sibling;var Ps=fe(se,qe,vt.value,Me);if(Ps===null){qe===null&&(qe=yn);break}r&&qe&&Ps.alternate===null&&a(se,qe),ne=_(Ps,ne,$e),ft===null?Ge=Ps:ft.sibling=Ps,ft=Ps,qe=yn}if(vt.done)return l(se,qe),xt&&fa(se,$e),Ge;if(qe===null){for(;!vt.done;$e++,vt=ce.next())vt=Ae(se,vt.value,Me),vt!==null&&(ne=_(vt,ne,$e),ft===null?Ge=vt:ft.sibling=vt,ft=vt);return xt&&fa(se,$e),Ge}for(qe=d(qe);!vt.done;$e++,vt=ce.next())vt=de(qe,se,$e,vt.value,Me),vt!==null&&(r&&vt.alternate!==null&&qe.delete(vt.key===null?$e:vt.key),ne=_(vt,ne,$e),ft===null?Ge=vt:ft.sibling=vt,ft=vt);return r&&qe.forEach(function(IL){return a(se,IL)}),xt&&fa(se,$e),Ge}function Tt(se,ne,ce,Me){if(typeof ce=="object"&&ce!==null&&ce.type===x&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:e:{for(var Ge=ce.key;ne!==null;){if(ne.key===Ge){if(Ge=ce.type,Ge===x){if(ne.tag===7){l(se,ne.sibling),Me=y(ne,ce.props.children),Me.return=se,se=Me;break e}}else if(ne.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===z&&W_(Ge)===ne.type){l(se,ne.sibling),Me=y(ne,ce.props),Tc(Me,ce),Me.return=se,se=Me;break e}l(se,ne);break}else a(se,ne);ne=ne.sibling}ce.type===x?(Me=ca(ce.props.children,se.mode,Me,ce.key),Me.return=se,se=Me):(Me=Ff(ce.type,ce.key,ce.props,null,se.mode,Me),Tc(Me,ce),Me.return=se,se=Me)}return L(se);case v:e:{for(Ge=ce.key;ne!==null;){if(ne.key===Ge)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){l(se,ne.sibling),Me=y(ne,ce.children||[]),Me.return=se,se=Me;break e}else{l(se,ne);break}else a(se,ne);ne=ne.sibling}Me=Sm(ce,se.mode,Me),Me.return=se,se=Me}return L(se);case z:return Ge=ce._init,ce=Ge(ce._payload),Tt(se,ne,ce,Me)}if(j(ce))return tt(se,ne,ce,Me);if(W(ce)){if(Ge=W(ce),typeof Ge!="function")throw Error(i(150));return ce=Ge.call(ce),Qe(se,ne,ce,Me)}if(typeof ce.then=="function")return Tt(se,ne,rh(ce),Me);if(ce.$$typeof===R)return Tt(se,ne,Wf(se,ce),Me);sh(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(l(se,ne.sibling),Me=y(ne,ce),Me.return=se,se=Me):(l(se,ne),Me=wm(ce,se.mode,Me),Me.return=se,se=Me),L(se)):l(se,ne)}return function(se,ne,ce,Me){try{Ec=0;var Ge=Tt(se,ne,ce,Me);return Ao=null,Ge}catch(qe){if(qe===gc||qe===Xf)throw qe;var ft=ni(29,qe,null,se.mode);return ft.lanes=Me,ft.return=se,ft}finally{}}}var Co=q_(!0),X_=q_(!1),Ei=B(null),ar=null;function vs(r){var a=r.alternate;ie(fn,fn.current&1),ie(Ei,r),ar===null&&(a===null||So.current!==null||a.memoizedState!==null)&&(ar=r)}function Y_(r){if(r.tag===22){if(ie(fn,fn.current),ie(Ei,r),ar===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ar=r)}}else xs()}function xs(){ie(fn,fn.current),ie(Ei,Ei.current)}function Ur(r){J(Ei),ar===r&&(ar=null),J(fn)}var fn=B(0);function ah(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Wg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ng(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:p({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ig={enqueueSetState:function(r,a,l){r=r._reactInternals;var d=ai(),y=ms(d);y.payload=a,l!=null&&(y.callback=l),a=gs(r,y,d),a!==null&&(oi(a,r,d),vc(a,r,d))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=ai(),y=ms(d);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=gs(r,y,d),a!==null&&(oi(a,r,d),vc(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=ai(),d=ms(l);d.tag=2,a!=null&&(d.callback=a),a=gs(r,d,l),a!==null&&(oi(a,r,l),vc(a,r,l))}};function Z_(r,a,l,d,y,_,L){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,_,L):a.prototype&&a.prototype.isPureReactComponent?!lc(l,d)||!lc(y,_):!0}function K_(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&ig.enqueueReplaceState(a,a.state,null)}function va(r,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(r=r.defaultProps){l===a&&(l=p({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}var oh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Q_(r){oh(r)}function J_(r){console.error(r)}function $_(r){oh(r)}function lh(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function ew(r,a,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function rg(r,a,l){return l=ms(l),l.tag=3,l.payload={element:null},l.callback=function(){lh(r,a)},l}function tw(r){return r=ms(r),r.tag=3,r}function nw(r,a,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;r.payload=function(){return y(_)},r.callback=function(){ew(a,l,d)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(r.callback=function(){ew(a,l,d),typeof y!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})})}function I3(r,a,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&dc(a,l,y,!0),l=Ei.current,l!==null){switch(l.tag){case 13:return ar===null?Cg():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===Pm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Lg(r,d,y)),!1;case 22:return l.flags|=65536,d===Pm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Lg(r,d,y)),!1}throw Error(i(435,l.tag))}return Lg(r,d,y),Cg(),!1}if(xt)return a=Ei.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,d!==Tm&&(r=Error(i(422),{cause:d}),hc(_i(r,l)))):(d!==Tm&&(a=Error(i(423),{cause:d}),hc(_i(a,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=_i(d,l),y=rg(r.stateNode,d,y),zm(r,y),Zt!==4&&(Zt=2)),!1;var _=Error(i(520),{cause:d});if(_=_i(_,l),Pc===null?Pc=[_]:Pc.push(_),Zt!==4&&(Zt=2),a===null)return!0;d=_i(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=rg(l.stateNode,d,r),zm(l,r),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Es===null||!Es.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=tw(y),nw(y,r,l,d),zm(l,y),!1}l=l.return}while(l!==null);return!1}var iw=Error(i(461)),mn=!1;function wn(r,a,l,d){a.child=r===null?X_(a,null,l,d):Co(a,r.child,l,d)}function rw(r,a,l,d,y){l=l.render;var _=a.ref;if("ref"in d){var L={};for(var H in d)H!=="ref"&&(L[H]=d[H])}else L=d;return ma(a),d=Fm(r,a,l,L,_,y),H=km(),r!==null&&!mn?(Gm(r,a,y),Hr(r,a,y)):(xt&&H&&Mm(a),a.flags|=1,wn(r,a,d,y),a.child)}function sw(r,a,l,d,y){if(r===null){var _=l.type;return typeof _=="function"&&!_m(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,aw(r,a,_,d,y)):(r=Ff(l.type,null,d,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(_=r.child,!hg(r,y)){var L=_.memoizedProps;if(l=l.compare,l=l!==null?l:lc,l(L,d)&&r.ref===a.ref)return Hr(r,a,y)}return a.flags|=1,r=Or(_,d),r.ref=a.ref,r.return=a,a.child=r}function aw(r,a,l,d,y){if(r!==null){var _=r.memoizedProps;if(lc(_,d)&&r.ref===a.ref)if(mn=!1,a.pendingProps=d=_,hg(r,y))(r.flags&131072)!==0&&(mn=!0);else return a.lanes=r.lanes,Hr(r,a,y)}return sg(r,a,l,d,y)}function ow(r,a,l){var d=a.pendingProps,y=d.children,_=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=_!==null?_.baseLanes|l:l,r!==null){for(y=a.child=r.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;a.childLanes=_&~d}else a.childLanes=0,a.child=null;return lw(r,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&qf(a,_!==null?_.cachePool:null),_!==null?a_(a,_):Hm(),Y_(a);else return a.lanes=a.childLanes=536870912,lw(r,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(qf(a,_.cachePool),a_(a,_),xs(),a.memoizedState=null):(r!==null&&qf(a,null),Hm(),xs());return wn(r,a,y,l),a.child}function lw(r,a,l,d){var y=Dm();return y=y===null?null:{parent:un._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},r!==null&&qf(a,null),Hm(),Y_(a),r!==null&&dc(r,a,d,!0),null}function ch(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function sg(r,a,l,d,y){return ma(a),l=Fm(r,a,l,d,void 0,y),d=km(),r!==null&&!mn?(Gm(r,a,y),Hr(r,a,y)):(xt&&d&&Mm(a),a.flags|=1,wn(r,a,l,y),a.child)}function cw(r,a,l,d,y,_){return ma(a),a.updateQueue=null,l=l_(a,d,l,y),o_(r),d=km(),r!==null&&!mn?(Gm(r,a,_),Hr(r,a,_)):(xt&&d&&Mm(a),a.flags|=1,wn(r,a,l,_),a.child)}function uw(r,a,l,d,y){if(ma(a),a.stateNode===null){var _=vo,L=l.contextType;typeof L=="object"&&L!==null&&(_=Ln(L)),_=new l(d,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ig,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=d,_.state=a.memoizedState,_.refs={},Nm(a),L=l.contextType,_.context=typeof L=="object"&&L!==null?Ln(L):vo,_.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(ng(a,l,L,d),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&ig.enqueueReplaceState(_,_.state,null),bc(a,d,_,y),xc(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){_=a.stateNode;var H=a.memoizedProps,$=va(l,H);_.props=$;var ue=_.context,be=l.contextType;L=vo,typeof be=="object"&&be!==null&&(L=Ln(be));var Ae=l.getDerivedStateFromProps;be=typeof Ae=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=a.pendingProps!==H,be||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||ue!==L)&&K_(a,_,d,L),ps=!1;var fe=a.memoizedState;_.state=fe,bc(a,d,_,y),xc(),ue=a.memoizedState,H||fe!==ue||ps?(typeof Ae=="function"&&(ng(a,l,Ae,d),ue=a.memoizedState),($=ps||Z_(a,l,$,d,fe,ue,L))?(be||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ue),_.props=d,_.state=ue,_.context=L,d=$):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{_=a.stateNode,Bm(r,a),L=a.memoizedProps,be=va(l,L),_.props=be,Ae=a.pendingProps,fe=_.context,ue=l.contextType,$=vo,typeof ue=="object"&&ue!==null&&($=Ln(ue)),H=l.getDerivedStateFromProps,(ue=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==Ae||fe!==$)&&K_(a,_,d,$),ps=!1,fe=a.memoizedState,_.state=fe,bc(a,d,_,y),xc();var de=a.memoizedState;L!==Ae||fe!==de||ps||r!==null&&r.dependencies!==null&&jf(r.dependencies)?(typeof H=="function"&&(ng(a,l,H,d),de=a.memoizedState),(be=ps||Z_(a,l,be,d,fe,de,$)||r!==null&&r.dependencies!==null&&jf(r.dependencies))?(ue||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,de,$),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,de,$)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=de),_.props=d,_.state=de,_.context=$,d=be):(typeof _.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(a.flags|=1024),d=!1)}return _=d,ch(r,a),d=(a.flags&128)!==0,_||d?(_=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,r!==null&&d?(a.child=Co(a,r.child,null,y),a.child=Co(a,null,l,y)):wn(r,a,l,y),a.memoizedState=_.state,r=a.child):r=Hr(r,a,y),r}function fw(r,a,l,d){return fc(),a.flags|=256,wn(r,a,l,d),a.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(r){return{baseLanes:r,cachePool:Jb()}}function lg(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Ti),r}function hw(r,a,l){var d=a.pendingProps,y=!1,_=(a.flags&128)!==0,L;if((L=_)||(L=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,r===null){if(xt){if(y?vs(a):xs(),xt){var H=Yt,$;if($=H){e:{for($=H,H=sr;$.nodeType!==8;){if(!H){H=null;break e}if($=Gi($.nextSibling),$===null){H=null;break e}}H=$}H!==null?(a.memoizedState={dehydrated:H,treeContext:ua!==null?{id:Dr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},$=ni(18,null,null,0),$.stateNode=H,$.return=a,a.child=$,Un=a,Yt=null,$=!0):$=!1}$||da(a)}if(H=a.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Wg(H)?a.lanes=32:a.lanes=536870912,null;Ur(a)}return H=d.children,d=d.fallback,y?(xs(),y=a.mode,H=uh({mode:"hidden",children:H},y),d=ca(d,y,l,null),H.return=a,d.return=a,H.sibling=d,a.child=H,y=a.child,y.memoizedState=og(l),y.childLanes=lg(r,L,l),a.memoizedState=ag,d):(vs(a),cg(a,H))}if($=r.memoizedState,$!==null&&(H=$.dehydrated,H!==null)){if(_)a.flags&256?(vs(a),a.flags&=-257,a=ug(r,a,l)):a.memoizedState!==null?(xs(),a.child=r.child,a.flags|=128,a=null):(xs(),y=d.fallback,H=a.mode,d=uh({mode:"visible",children:d.children},H),y=ca(y,H,l,null),y.flags|=2,d.return=a,y.return=a,d.sibling=y,a.child=d,Co(a,r.child,null,l),d=a.child,d.memoizedState=og(l),d.childLanes=lg(r,L,l),a.memoizedState=ag,a=y);else if(vs(a),Wg(H)){if(L=H.nextSibling&&H.nextSibling.dataset,L)var ue=L.dgst;L=ue,d=Error(i(419)),d.stack="",d.digest=L,hc({value:d,source:null,stack:null}),a=ug(r,a,l)}else if(mn||dc(r,a,l,!1),L=(l&r.childLanes)!==0,mn||L){if(L=Ot,L!==null&&(d=l&-l,d=(d&42)!==0?1:ec(d),d=(d&(L.suspendedLanes|l))!==0?0:d,d!==0&&d!==$.retryLane))throw $.retryLane=d,yo(r,d),oi(L,r,d),iw;H.data==="$?"||Cg(),a=ug(r,a,l)}else H.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=$.treeContext,Yt=Gi(H.nextSibling),Un=a,xt=!0,ha=null,sr=!1,r!==null&&(Si[Mi++]=Dr,Si[Mi++]=Pr,Si[Mi++]=ua,Dr=r.id,Pr=r.overflow,ua=a),a=cg(a,d.children),a.flags|=4096);return a}return y?(xs(),y=d.fallback,H=a.mode,$=r.child,ue=$.sibling,d=Or($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,ue!==null?y=Or(ue,y):(y=ca(y,H,l,null),y.flags|=2),y.return=a,d.return=a,d.sibling=y,a.child=d,d=y,y=a.child,H=r.child.memoizedState,H===null?H=og(l):($=H.cachePool,$!==null?(ue=un._currentValue,$=$.parent!==ue?{parent:ue,pool:ue}:$):$=Jb(),H={baseLanes:H.baseLanes|l,cachePool:$}),y.memoizedState=H,y.childLanes=lg(r,L,l),a.memoizedState=ag,d):(vs(a),l=r.child,r=l.sibling,l=Or(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,r!==null&&(L=a.deletions,L===null?(a.deletions=[r],a.flags|=16):L.push(r)),a.child=l,a.memoizedState=null,l)}function cg(r,a){return a=uh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function uh(r,a){return r=ni(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ug(r,a,l){return Co(a,r.child,null,l),r=cg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function dw(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Cm(r.return,a,l)}function fg(r,a,l,d,y){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=y)}function pw(r,a,l){var d=a.pendingProps,y=d.revealOrder,_=d.tail;if(wn(r,a,d.children,l),d=fn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dw(r,l,a);else if(r.tag===19)dw(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(ie(fn,d),y){case"forwards":for(l=a.child,y=null;l!==null;)r=l.alternate,r!==null&&ah(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),fg(a,!1,y,l,_);break;case"backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&ah(r)===null){a.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}fg(a,!0,l,null,_);break;case"together":fg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Ms|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(dc(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Or(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Or(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function hg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&jf(r)))}function F3(r,a,l){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),ds(a,un,r.memoizedState.cache),fc();break;case 27:case 5:Ie(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:ds(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(vs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?hw(r,a,l):(vs(a),r=Hr(r,a,l),r!==null?r.sibling:null);vs(a);break;case 19:var y=(r.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(dc(r,a,l,!1),d=(l&a.childLanes)!==0),y){if(d)return pw(r,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(fn,fn.current),d)break;return null;case 22:case 23:return a.lanes=0,ow(r,a,l);case 24:ds(a,un,r.memoizedState.cache)}return Hr(r,a,l)}function mw(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)mn=!0;else{if(!hg(r,l)&&(a.flags&128)===0)return mn=!1,F3(r,a,l);mn=(r.flags&131072)!==0}else mn=!1,xt&&(a.flags&1048576)!==0&&Wb(a,Gf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,y=d._init;if(d=y(d._payload),a.type=d,typeof d=="function")_m(d)?(r=va(d,r),a.tag=1,a=uw(null,a,d,r,l)):(a.tag=0,a=sg(null,a,d,r,l));else{if(d!=null){if(y=d.$$typeof,y===D){a.tag=11,a=rw(null,a,d,r,l);break e}else if(y===O){a.tag=14,a=sw(null,a,d,r,l);break e}}throw a=k(d)||d,Error(i(306,a,""))}}return a;case 0:return sg(r,a,a.type,a.pendingProps,l);case 1:return d=a.type,y=va(d,a.pendingProps),uw(r,a,d,y,l);case 3:e:{if(Le(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var _=a.memoizedState;y=_.element,Bm(r,a),bc(a,d,null,l);var L=a.memoizedState;if(d=L.cache,ds(a,un,d),d!==_.cache&&Rm(a,[un],l,!0),xc(),d=L.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=fw(r,a,d,l);break e}else if(d!==y){y=_i(Error(i(424)),a),hc(y),a=fw(r,a,d,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Yt=Gi(r.firstChild),Un=a,xt=!0,ha=null,sr=!0,l=X_(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fc(),d===y){a=Hr(r,a,l);break e}wn(r,a,d,l)}a=a.child}return a;case 26:return ch(r,a),r===null?(l=x1(a.type,null,a.pendingProps,null))?a.memoizedState=l:xt||(l=a.type,r=a.pendingProps,d=Mh(pe.current).createElement(l),d[Pe]=a,d[Ke]=r,Mn(d,l,r),Xt(d),a.stateNode=d):a.memoizedState=x1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ie(a),r===null&&xt&&(d=a.stateNode=g1(a.type,a.pendingProps,pe.current),Un=a,sr=!0,y=Yt,Cs(a.type)?(qg=y,Yt=Gi(d.firstChild)):Yt=y),wn(r,a,a.pendingProps.children,l),ch(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&xt&&((y=d=Yt)&&(d=mL(d,a.type,a.pendingProps,sr),d!==null?(a.stateNode=d,Un=a,Yt=Gi(d.firstChild),sr=!1,y=!0):y=!1),y||da(a)),Ie(a),y=a.type,_=a.pendingProps,L=r!==null?r.memoizedProps:null,d=_.children,kg(y,_)?d=null:L!==null&&kg(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=Fm(r,a,P3,null,null,l),kc._currentValue=y),ch(r,a),wn(r,a,d,l),a.child;case 6:return r===null&&xt&&((r=l=Yt)&&(l=gL(l,a.pendingProps,sr),l!==null?(a.stateNode=l,Un=a,Yt=null,r=!0):r=!1),r||da(a)),null;case 13:return hw(r,a,l);case 4:return Le(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Co(a,null,d,l):wn(r,a,d,l),a.child;case 11:return rw(r,a,a.type,a.pendingProps,l);case 7:return wn(r,a,a.pendingProps,l),a.child;case 8:return wn(r,a,a.pendingProps.children,l),a.child;case 12:return wn(r,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,ds(a,a.type,d.value),wn(r,a,d.children,l),a.child;case 9:return y=a.type._context,d=a.pendingProps.children,ma(a),y=Ln(y),d=d(y),a.flags|=1,wn(r,a,d,l),a.child;case 14:return sw(r,a,a.type,a.pendingProps,l);case 15:return aw(r,a,a.type,a.pendingProps,l);case 19:return pw(r,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},r===null?(l=uh(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Or(r.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ow(r,a,l);case 24:return ma(a),d=Ln(un),r===null?(y=Dm(),y===null&&(y=Ot,_=Lm(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),a.memoizedState={parent:d,cache:y},Nm(a),ds(a,un,y)):((r.lanes&l)!==0&&(Bm(r,a),bc(a,null,null,l),xc()),y=r.memoizedState,_=a.memoizedState,y.parent!==d?(y={parent:d,cache:d},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),ds(a,un,d)):(d=_.cache,ds(a,un,d),d!==y.cache&&Rm(a,[un],l,!0))),wn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Vr(r){r.flags|=4}function gw(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!M1(a)){if(a=Ei.current,a!==null&&((gt&4194048)===gt?ar!==null:(gt&62914560)!==gt&&(gt&536870912)===0||a!==ar))throw yc=Pm,$b;r.flags|=8192}}function fh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Jl():536870912,r.lanes|=a,Do|=a)}function Ac(r,a){if(!xt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function kt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function k3(r,a,l){var d=a.pendingProps;switch(Em(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(a),null;case 1:return kt(a),null;case 3:return l=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Br(un),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(uc(a)?Vr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yb())),kt(a),null;case 26:return l=a.memoizedState,r===null?(Vr(a),l!==null?(kt(a),gw(a,l)):(kt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Vr(a),kt(a),gw(a,l)):(kt(a),a.flags&=-16777217):(r.memoizedProps!==d&&Vr(a),kt(a),a.flags&=-16777217),null;case 27:Ue(a),l=pe.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Vr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return kt(a),null}r=ae.current,uc(a)?qb(a):(r=g1(y,d,l),a.stateNode=r,Vr(a))}return kt(a),null;case 5:if(Ue(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Vr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return kt(a),null}if(r=ae.current,uc(a))qb(a);else{switch(y=Mh(pe.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?y.createElement(l,{is:d.is}):y.createElement(l)}}r[Pe]=a,r[Ke]=d;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(Mn(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vr(a)}}return kt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Vr(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=pe.current,uc(a)){if(r=a.stateNode,l=a.memoizedProps,d=null,y=Un,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[Pe]=a,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||c1(r.nodeValue,l)),r||da(a)}else r=Mh(r).createTextNode(d),r[Pe]=a,a.stateNode=r}return kt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=uc(a),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Pe]=a}else fc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kt(a),y=!1}else y=Yb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Ur(a),a):(Ur(a),null)}if(Ur(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=a.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),fh(a,a.updateQueue),kt(a),null;case 4:return De(),r===null&&Ug(a.stateNode.containerInfo),kt(a),null;case 10:return Br(a.type),kt(a),null;case 19:if(J(fn),y=a.memoizedState,y===null)return kt(a),null;if(d=(a.flags&128)!==0,_=y.rendering,_===null)if(d)Ac(y,!1);else{if(Zt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(_=ah(r),_!==null){for(a.flags|=128,Ac(y,!1),r=_.updateQueue,a.updateQueue=r,fh(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)jb(l,r),l=l.sibling;return ie(fn,fn.current&1|2),a.child}r=r.sibling}y.tail!==null&&q()>ph&&(a.flags|=128,d=!0,Ac(y,!1),a.lanes=4194304)}else{if(!d)if(r=ah(_),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,fh(a,r),Ac(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!xt)return kt(a),null}else 2*q()-y.renderingStartTime>ph&&l!==536870912&&(a.flags|=128,d=!0,Ac(y,!1),a.lanes=4194304);y.isBackwards?(_.sibling=a.child,a.child=_):(r=y.last,r!==null?r.sibling=_:a.child=_,y.last=_)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=q(),a.sibling=null,r=fn.current,ie(fn,d?r&1|2:r&1),a):(kt(a),null);case 22:case 23:return Ur(a),Vm(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(kt(a),a.subtreeFlags&6&&(a.flags|=8192)):kt(a),l=a.updateQueue,l!==null&&fh(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),r!==null&&J(ga),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Br(un),kt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function G3(r,a){switch(Em(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Br(un),De(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 13:if(Ur(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));fc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return J(fn),null;case 4:return De(),null;case 10:return Br(a.type),null;case 22:case 23:return Ur(a),Vm(),r!==null&&J(ga),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Br(un),null;case 25:return null;default:return null}}function yw(r,a){switch(Em(a),a.tag){case 3:Br(un),De();break;case 26:case 27:case 5:Ue(a);break;case 4:De();break;case 13:Ur(a);break;case 19:J(fn);break;case 10:Br(a.type);break;case 22:case 23:Ur(a),Vm(),r!==null&&J(ga);break;case 24:Br(un)}}function Cc(r,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&r)===r){d=void 0;var _=l.create,L=l.inst;d=_(),L.destroy=d}l=l.next}while(l!==y)}}catch(H){Lt(a,a.return,H)}}function bs(r,a,l){try{var d=a.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&r)===r){var L=d.inst,H=L.destroy;if(H!==void 0){L.destroy=void 0,y=a;var $=l,ue=H;try{ue()}catch(be){Lt(y,$,be)}}}d=d.next}while(d!==_)}}catch(be){Lt(a,a.return,be)}}function vw(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{s_(a,l)}catch(d){Lt(r,r.return,d)}}}function xw(r,a,l){l.props=va(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){Lt(r,a,d)}}function Rc(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(y){Lt(r,a,y)}}function or(r,a){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){Lt(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Lt(r,a,y)}else l.current=null}function bw(r){var a=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){Lt(r,r.return,y)}}function dg(r,a,l){try{var d=r.stateNode;uL(d,r.type,l,a),d[Ke]=a}catch(y){Lt(r,r.return,y)}}function _w(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Cs(r.type)||r.tag===4}function pg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_w(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Cs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mg(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Sh));else if(d!==4&&(d===27&&Cs(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(mg(r,a,l),r=r.sibling;r!==null;)mg(r,a,l),r=r.sibling}function hh(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(d===27&&Cs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(hh(r,a,l),r=r.sibling;r!==null;)hh(r,a,l),r=r.sibling}function ww(r){var a=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Mn(a,d,l),a[Pe]=r,a[Ke]=l}catch(_){Lt(r,r.return,_)}}var Ir=!1,$t=!1,gg=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,gn=null;function j3(r,a){if(r=r.containerInfo,Ig=Lh,r=Nb(r),pm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var L=0,H=-1,$=-1,ue=0,be=0,Ae=r,fe=null;t:for(;;){for(var de;Ae!==l||y!==0&&Ae.nodeType!==3||(H=L+y),Ae!==_||d!==0&&Ae.nodeType!==3||($=L+d),Ae.nodeType===3&&(L+=Ae.nodeValue.length),(de=Ae.firstChild)!==null;)fe=Ae,Ae=de;for(;;){if(Ae===r)break t;if(fe===l&&++ue===y&&(H=L),fe===_&&++be===d&&($=L),(de=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=de}l=H===-1||$===-1?null:{start:H,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:r,selectionRange:l},Lh=!1,gn=a;gn!==null;)if(a=gn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,gn=r;else for(;gn!==null;){switch(a=gn,_=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,l=a,y=_.memoizedProps,_=_.memoizedState,d=l.stateNode;try{var tt=va(l.type,y,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(tt,_),d.__reactInternalSnapshotBeforeUpdate=r}catch(Qe){Lt(l,l.return,Qe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)jg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,gn=r;break}gn=a.return}}function Mw(r,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:_s(r,l),d&4&&Cc(5,l);break;case 1:if(_s(r,l),d&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(L){Lt(l,l.return,L)}else{var y=va(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(L){Lt(l,l.return,L)}}d&64&&vw(l),d&512&&Rc(l,l.return);break;case 3:if(_s(r,l),d&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{s_(r,a)}catch(L){Lt(l,l.return,L)}}break;case 27:a===null&&d&4&&ww(l);case 26:case 5:_s(r,l),a===null&&d&4&&bw(l),d&512&&Rc(l,l.return);break;case 12:_s(r,l);break;case 13:_s(r,l),d&4&&Aw(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=$3.bind(null,l),yL(r,l))));break;case 22:if(d=l.memoizedState!==null||Ir,!d){a=a!==null&&a.memoizedState!==null||$t,y=Ir;var _=$t;Ir=d,($t=a)&&!_?ws(r,l,(l.subtreeFlags&8772)!==0):_s(r,l),Ir=y,$t=_}break;case 30:break;default:_s(r,l)}}function Ew(r){var a=r.alternate;a!==null&&(r.alternate=null,Ew(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&bt(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Vt=null,Zn=!1;function Fr(r,a,l){for(l=l.child;l!==null;)Tw(r,a,l),l=l.sibling}function Tw(r,a,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(_e,l)}catch{}switch(l.tag){case 26:$t||or(l,a),Fr(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||or(l,a);var d=Vt,y=Zn;Cs(l.type)&&(Vt=l.stateNode,Zn=!1),Fr(r,a,l),Hc(l.stateNode),Vt=d,Zn=y;break;case 5:$t||or(l,a);case 6:if(d=Vt,y=Zn,Vt=null,Fr(r,a,l),Vt=d,Zn=y,Vt!==null)if(Zn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(l.stateNode)}catch(_){Lt(l,a,_)}else try{Vt.removeChild(l.stateNode)}catch(_){Lt(l,a,_)}break;case 18:Vt!==null&&(Zn?(r=Vt,p1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),qc(r)):p1(Vt,l.stateNode));break;case 4:d=Vt,y=Zn,Vt=l.stateNode.containerInfo,Zn=!0,Fr(r,a,l),Vt=d,Zn=y;break;case 0:case 11:case 14:case 15:$t||bs(2,l,a),$t||bs(4,l,a),Fr(r,a,l);break;case 1:$t||(or(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&xw(l,a,d)),Fr(r,a,l);break;case 21:Fr(r,a,l);break;case 22:$t=(d=$t)||l.memoizedState!==null,Fr(r,a,l),$t=d;break;default:Fr(r,a,l)}}function Aw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qc(r)}catch(l){Lt(a,a.return,l)}}function W3(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Sw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Sw),a;default:throw Error(i(435,r.tag))}}function yg(r,a){var l=W3(r);a.forEach(function(d){var y=eL.bind(null,r,d);l.has(d)||(l.add(d),d.then(y,y))})}function ii(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],_=r,L=a,H=L;e:for(;H!==null;){switch(H.tag){case 27:if(Cs(H.type)){Vt=H.stateNode,Zn=!1;break e}break;case 5:Vt=H.stateNode,Zn=!1;break e;case 3:case 4:Vt=H.stateNode.containerInfo,Zn=!0;break e}H=H.return}if(Vt===null)throw Error(i(160));Tw(_,L,y),Vt=null,Zn=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Cw(a,r),a=a.sibling}var ki=null;function Cw(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ii(a,r),ri(r),d&4&&(bs(3,r,r.return),Cc(3,r),bs(5,r,r.return));break;case 1:ii(a,r),ri(r),d&512&&($t||l===null||or(l,l.return)),d&64&&Ir&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=ki;if(ii(a,r),ri(r),d&512&&($t||l===null||or(l,l.return)),d&4){var _=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[it]||_[Pe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),Mn(_,d,l),_[Pe]=r,Xt(_),d=_;break e;case"link":var L=w1("link","href",y).get(d+(l.href||""));if(L){for(var H=0;H<L.length;H++)if(_=L[H],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(H,1);break t}}_=y.createElement(d),Mn(_,d,l),y.head.appendChild(_);break;case"meta":if(L=w1("meta","content",y).get(d+(l.content||""))){for(H=0;H<L.length;H++)if(_=L[H],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(H,1);break t}}_=y.createElement(d),Mn(_,d,l),y.head.appendChild(_);break;default:throw Error(i(468,d))}_[Pe]=r,Xt(_),d=_}r.stateNode=d}else S1(y,r.type,r.stateNode);else r.stateNode=_1(y,d,r.memoizedProps);else _!==d?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,d===null?S1(y,r.type,r.stateNode):_1(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&dg(r,r.memoizedProps,l.memoizedProps)}break;case 27:ii(a,r),ri(r),d&512&&($t||l===null||or(l,l.return)),l!==null&&d&4&&dg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ii(a,r),ri(r),d&512&&($t||l===null||or(l,l.return)),r.flags&32){y=r.stateNode;try{co(y,"")}catch(de){Lt(r,r.return,de)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,dg(r,y,l!==null?l.memoizedProps:y)),d&1024&&(gg=!0);break;case 6:if(ii(a,r),ri(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(de){Lt(r,r.return,de)}}break;case 3:if(Ah=null,y=ki,ki=Eh(a.containerInfo),ii(a,r),ki=y,ri(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qc(a.containerInfo)}catch(de){Lt(r,r.return,de)}gg&&(gg=!1,Rw(r));break;case 4:d=ki,ki=Eh(r.stateNode.containerInfo),ii(a,r),ri(r),ki=d;break;case 12:ii(a,r),ri(r);break;case 13:ii(a,r),ri(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sg=q()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,yg(r,d)));break;case 22:y=r.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,ue=Ir,be=$t;if(Ir=ue||y,$t=be||$,ii(a,r),$t=be,Ir=ue,ri(r),d&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||$||Ir||$t||xa(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){$=l=a;try{if(_=$.stateNode,y)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{H=$.stateNode;var Ae=$.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;H.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(de){Lt($,$.return,de)}}}else if(a.tag===6){if(l===null){$=a;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(de){Lt($,$.return,de)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,yg(r,l))));break;case 19:ii(a,r),ri(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,yg(r,d)));break;case 30:break;case 21:break;default:ii(a,r),ri(r)}}function ri(r){var a=r.flags;if(a&2){try{for(var l,d=r.return;d!==null;){if(_w(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,_=pg(r);hh(r,_,y);break;case 5:var L=l.stateNode;l.flags&32&&(co(L,""),l.flags&=-33);var H=pg(r);hh(r,H,L);break;case 3:case 4:var $=l.stateNode.containerInfo,ue=pg(r);mg(r,ue,$);break;default:throw Error(i(161))}}catch(be){Lt(r,r.return,be)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Rw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Rw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _s(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Mw(r,a.alternate,a),a=a.sibling}function xa(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:bs(4,a,a.return),xa(a);break;case 1:or(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&xw(a,a.return,l),xa(a);break;case 27:Hc(a.stateNode);case 26:case 5:or(a,a.return),xa(a);break;case 22:a.memoizedState===null&&xa(a);break;case 30:xa(a);break;default:xa(a)}r=r.sibling}}function ws(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,y=r,_=a,L=_.flags;switch(_.tag){case 0:case 11:case 15:ws(y,_,l),Cc(4,_);break;case 1:if(ws(y,_,l),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){Lt(d,d.return,ue)}if(d=_,y=d.updateQueue,y!==null){var H=d.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)r_($[y],H)}catch(ue){Lt(d,d.return,ue)}}l&&L&64&&vw(_),Rc(_,_.return);break;case 27:ww(_);case 26:case 5:ws(y,_,l),l&&d===null&&L&4&&bw(_),Rc(_,_.return);break;case 12:ws(y,_,l);break;case 13:ws(y,_,l),l&&L&4&&Aw(y,_);break;case 22:_.memoizedState===null&&ws(y,_,l),Rc(_,_.return);break;case 30:break;default:ws(y,_,l)}a=a.sibling}}function vg(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&pc(l))}function xg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&pc(r))}function lr(r,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Lw(r,a,l,d),a=a.sibling}function Lw(r,a,l,d){var y=a.flags;switch(a.tag){case 0:case 11:case 15:lr(r,a,l,d),y&2048&&Cc(9,a);break;case 1:lr(r,a,l,d);break;case 3:lr(r,a,l,d),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&pc(r)));break;case 12:if(y&2048){lr(r,a,l,d),r=a.stateNode;try{var _=a.memoizedProps,L=_.id,H=_.onPostCommit;typeof H=="function"&&H(L,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){Lt(a,a.return,$)}}else lr(r,a,l,d);break;case 13:lr(r,a,l,d);break;case 23:break;case 22:_=a.stateNode,L=a.alternate,a.memoizedState!==null?_._visibility&2?lr(r,a,l,d):Lc(r,a):_._visibility&2?lr(r,a,l,d):(_._visibility|=2,Ro(r,a,l,d,(a.subtreeFlags&10256)!==0)),y&2048&&vg(L,a);break;case 24:lr(r,a,l,d),y&2048&&xg(a.alternate,a);break;default:lr(r,a,l,d)}}function Ro(r,a,l,d,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=r,L=a,H=l,$=d,ue=L.flags;switch(L.tag){case 0:case 11:case 15:Ro(_,L,H,$,y),Cc(8,L);break;case 23:break;case 22:var be=L.stateNode;L.memoizedState!==null?be._visibility&2?Ro(_,L,H,$,y):Lc(_,L):(be._visibility|=2,Ro(_,L,H,$,y)),y&&ue&2048&&vg(L.alternate,L);break;case 24:Ro(_,L,H,$,y),y&&ue&2048&&xg(L.alternate,L);break;default:Ro(_,L,H,$,y)}a=a.sibling}}function Lc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,d=a,y=d.flags;switch(d.tag){case 22:Lc(l,d),y&2048&&vg(d.alternate,d);break;case 24:Lc(l,d),y&2048&&xg(d.alternate,d);break;default:Lc(l,d)}a=a.sibling}}var Oc=8192;function Lo(r){if(r.subtreeFlags&Oc)for(r=r.child;r!==null;)Ow(r),r=r.sibling}function Ow(r){switch(r.tag){case 26:Lo(r),r.flags&Oc&&r.memoizedState!==null&&LL(ki,r.memoizedState,r.memoizedProps);break;case 5:Lo(r);break;case 3:case 4:var a=ki;ki=Eh(r.stateNode.containerInfo),Lo(r),ki=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Oc,Oc=16777216,Lo(r),Oc=a):Lo(r));break;default:Lo(r)}}function Dw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Dc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];gn=d,Nw(d,r)}Dw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pw(r),r=r.sibling}function Pw(r){switch(r.tag){case 0:case 11:case 15:Dc(r),r.flags&2048&&bs(9,r,r.return);break;case 3:Dc(r);break;case 12:Dc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,dh(r)):Dc(r);break;default:Dc(r)}}function dh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];gn=d,Nw(d,r)}Dw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:bs(8,a,a.return),dh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,dh(a));break;default:dh(a)}r=r.sibling}}function Nw(r,a){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:bs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,gn=d;else e:for(l=r;gn!==null;){d=gn;var y=d.sibling,_=d.return;if(Ew(d),d===l){gn=null;break e}if(y!==null){y.return=_,gn=y;break e}gn=_}}}var q3={getCacheForType:function(r){var a=Ln(un),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},X3=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ot=null,dt=null,gt=0,wt=0,si=null,Ss=!1,Oo=!1,bg=!1,kr=0,Zt=0,Ms=0,ba=0,_g=0,Ti=0,Do=0,Pc=null,Kn=null,wg=!1,Sg=0,ph=1/0,mh=null,Es=null,Sn=0,Ts=null,Po=null,No=0,Mg=0,Eg=null,Bw=null,Nc=0,Tg=null;function ai(){if((_t&2)!==0&&gt!==0)return gt&-gt;if(V.T!==null){var r=_o;return r!==0?r:Pg()}return ve()}function zw(){Ti===0&&(Ti=(gt&536870912)===0||xt?cs():536870912);var r=Ei.current;return r!==null&&(r.flags|=32),Ti}function oi(r,a,l){(r===Ot&&(wt===2||wt===9)||r.cancelPendingCommit!==null)&&(Bo(r,0),As(r,gt,Ti,!1)),us(r,l),((_t&2)===0||r!==Ot)&&(r===Ot&&((_t&2)===0&&(ba|=l),Zt===4&&As(r,gt,Ti,!1)),cr(r))}function Uw(r,a,l){if((_t&6)!==0)throw Error(i(327));var d=!l&&(a&124)===0&&(a&r.expiredLanes)===0||Vi(r,a),y=d?K3(r,a):Rg(r,a,!0),_=d;do{if(y===0){Oo&&!d&&As(r,a,0,!1);break}else{if(l=r.current.alternate,_&&!Y3(l)){y=Rg(r,a,!1),_=!1;continue}if(y===2){if(_=a,r.errorRecoveryDisabledLanes&_)var L=0;else L=r.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var H=r;y=Pc;var $=H.current.memoizedState.isDehydrated;if($&&(Bo(H,L).flags|=256),L=Rg(H,L,!1),L!==2){if(bg&&!$){H.errorRecoveryDisabledLanes|=_,ba|=_,y=4;break e}_=Kn,Kn=y,_!==null&&(Kn===null?Kn=_:Kn.push.apply(Kn,_))}y=L}if(_=!1,y!==2)continue}}if(y===1){Bo(r,0),As(r,a,0,!0);break}e:{switch(d=r,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:As(d,a,Ti,!Ss);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=Sg+300-q(),10<y)){if(As(d,a,Ti,!Ss),Cr(d,0,!0)!==0)break e;d.timeoutHandle=h1(Hw.bind(null,d,l,Kn,mh,wg,a,Ti,ba,Do,Ss,_,2,-0,0),y);break e}Hw(d,l,Kn,mh,wg,a,Ti,ba,Do,Ss,_,0,-0,0)}}break}while(!0);cr(r)}function Hw(r,a,l,d,y,_,L,H,$,ue,be,Ae,fe,de){if(r.timeoutHandle=-1,Ae=a.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:RL},Ow(a),Ae=OL(),Ae!==null)){r.cancelPendingCommit=Ae(Ww.bind(null,r,a,_,l,d,y,L,H,$,be,1,fe,de)),As(r,_,L,!ue);return}Ww(r,a,_,l,d,y,L,H,$)}function Y3(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],_=y.getSnapshot;y=y.value;try{if(!ti(_(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function As(r,a,l,d){a&=~_g,a&=~ba,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var y=a;0<y;){var _=31-Be(y),L=1<<_;d[_]=-1,y&=~L}l!==0&&$l(r,l,a)}function gh(){return(_t&6)===0?(Bc(0),!1):!0}function Ag(){if(dt!==null){if(wt===0)var r=dt.return;else r=dt,Nr=pa=null,jm(r),Ao=null,Ec=0,r=dt;for(;r!==null;)yw(r.alternate,r),r=r.return;dt=null}}function Bo(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,hL(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ag(),Ot=r,dt=l=Or(r.current,null),gt=a,wt=0,si=null,Ss=!1,Oo=Vi(r,a),bg=!1,Do=Ti=_g=ba=Ms=Zt=0,Kn=Pc=null,wg=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var y=31-Be(d),_=1<<y;a|=r[y],d&=~_}return kr=a,Hf(),l}function Vw(r,a){ut=null,V.H=ih,a===gc||a===Xf?(a=n_(),wt=3):a===$b?(a=n_(),wt=4):wt=a===iw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,dt===null&&(Zt=1,lh(r,_i(a,r.current)))}function Iw(){var r=V.H;return V.H=ih,r===null?ih:r}function Fw(){var r=V.A;return V.A=q3,r}function Cg(){Zt=4,Ss||(gt&4194048)!==gt&&Ei.current!==null||(Oo=!0),(Ms&134217727)===0&&(ba&134217727)===0||Ot===null||As(Ot,gt,Ti,!1)}function Rg(r,a,l){var d=_t;_t|=2;var y=Iw(),_=Fw();(Ot!==r||gt!==a)&&(mh=null,Bo(r,a)),a=!1;var L=Zt;e:do try{if(wt!==0&&dt!==null){var H=dt,$=si;switch(wt){case 8:Ag(),L=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(a=!0);var ue=wt;if(wt=0,si=null,zo(r,H,$,ue),l&&Oo){L=0;break e}break;default:ue=wt,wt=0,si=null,zo(r,H,$,ue)}}Z3(),L=Zt;break}catch(be){Vw(r,be)}while(!0);return a&&r.shellSuspendCounter++,Nr=pa=null,_t=d,V.H=y,V.A=_,dt===null&&(Ot=null,gt=0,Hf()),L}function Z3(){for(;dt!==null;)kw(dt)}function K3(r,a){var l=_t;_t|=2;var d=Iw(),y=Fw();Ot!==r||gt!==a?(mh=null,ph=q()+500,Bo(r,a)):Oo=Vi(r,a);e:do try{if(wt!==0&&dt!==null){a=dt;var _=si;t:switch(wt){case 1:wt=0,si=null,zo(r,a,_,1);break;case 2:case 9:if(e_(_)){wt=0,si=null,Gw(a);break}a=function(){wt!==2&&wt!==9||Ot!==r||(wt=7),cr(r)},_.then(a,a);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:e_(_)?(wt=0,si=null,Gw(a)):(wt=0,si=null,zo(r,a,_,7));break;case 5:var L=null;switch(dt.tag){case 26:L=dt.memoizedState;case 5:case 27:var H=dt;if(!L||M1(L)){wt=0,si=null;var $=H.sibling;if($!==null)dt=$;else{var ue=H.return;ue!==null?(dt=ue,yh(ue)):dt=null}break t}}wt=0,si=null,zo(r,a,_,5);break;case 6:wt=0,si=null,zo(r,a,_,6);break;case 8:Ag(),Zt=6;break e;default:throw Error(i(462))}}Q3();break}catch(be){Vw(r,be)}while(!0);return Nr=pa=null,V.H=d,V.A=y,_t=l,dt!==null?0:(Ot=null,gt=0,Hf(),Zt)}function Q3(){for(;dt!==null&&!Ne();)kw(dt)}function kw(r){var a=mw(r.alternate,r,kr);r.memoizedProps=r.pendingProps,a===null?yh(r):dt=a}function Gw(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=cw(l,a,a.pendingProps,a.type,void 0,gt);break;case 11:a=cw(l,a,a.pendingProps,a.type.render,a.ref,gt);break;case 5:jm(a);default:yw(l,a),a=dt=jb(a,kr),a=mw(l,a,kr)}r.memoizedProps=r.pendingProps,a===null?yh(r):dt=a}function zo(r,a,l,d){Nr=pa=null,jm(a),Ao=null,Ec=0;var y=a.return;try{if(I3(r,y,a,l,gt)){Zt=1,lh(r,_i(l,r.current)),dt=null;return}}catch(_){if(y!==null)throw dt=y,_;Zt=1,lh(r,_i(l,r.current)),dt=null;return}a.flags&32768?(xt||d===1?r=!0:Oo||(gt&536870912)!==0?r=!1:(Ss=r=!0,(d===2||d===9||d===3||d===6)&&(d=Ei.current,d!==null&&d.tag===13&&(d.flags|=16384))),jw(a,r)):yh(a)}function yh(r){var a=r;do{if((a.flags&32768)!==0){jw(a,Ss);return}r=a.return;var l=k3(a.alternate,a,kr);if(l!==null){dt=l;return}if(a=a.sibling,a!==null){dt=a;return}dt=a=r}while(a!==null);Zt===0&&(Zt=5)}function jw(r,a){do{var l=G3(r.alternate,r);if(l!==null){l.flags&=32767,dt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){dt=r;return}dt=r=l}while(r!==null);Zt=6,dt=null}function Ww(r,a,l,d,y,_,L,H,$){r.cancelPendingCommit=null;do vh();while(Sn!==0);if((_t&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=xm,Ii(r,l,_,L,H,$),r===Ot&&(dt=Ot=null,gt=0),Po=a,Ts=r,No=l,Mg=_,Eg=y,Bw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tL(U,function(){return Kw(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,y=T.p,T.p=2,L=_t,_t|=4;try{j3(r,a,l)}finally{_t=L,T.p=y,V.T=d}}Sn=1,qw(),Xw(),Yw()}}function qw(){if(Sn===1){Sn=0;var r=Ts,a=Po,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var d=T.p;T.p=2;var y=_t;_t|=4;try{Cw(a,r);var _=Fg,L=Nb(r.containerInfo),H=_.focusedElem,$=_.selectionRange;if(L!==H&&H&&H.ownerDocument&&Pb(H.ownerDocument.documentElement,H)){if($!==null&&pm(H)){var ue=$.start,be=$.end;if(be===void 0&&(be=ue),"selectionStart"in H)H.selectionStart=ue,H.selectionEnd=Math.min(be,H.value.length);else{var Ae=H.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var de=fe.getSelection(),tt=H.textContent.length,Qe=Math.min($.start,tt),Tt=$.end===void 0?Qe:Math.min($.end,tt);!de.extend&&Qe>Tt&&(L=Tt,Tt=Qe,Qe=L);var se=Db(H,Qe),ne=Db(H,Tt);if(se&&ne&&(de.rangeCount!==1||de.anchorNode!==se.node||de.anchorOffset!==se.offset||de.focusNode!==ne.node||de.focusOffset!==ne.offset)){var ce=Ae.createRange();ce.setStart(se.node,se.offset),de.removeAllRanges(),Qe>Tt?(de.addRange(ce),de.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),de.addRange(ce))}}}}for(Ae=[],de=H;de=de.parentNode;)de.nodeType===1&&Ae.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ae.length;H++){var Me=Ae[H];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Lh=!!Ig,Fg=Ig=null}finally{_t=y,T.p=d,V.T=l}}r.current=a,Sn=2}}function Xw(){if(Sn===2){Sn=0;var r=Ts,a=Po,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var d=T.p;T.p=2;var y=_t;_t|=4;try{Mw(r,a.alternate,a)}finally{_t=y,T.p=d,V.T=l}}Sn=3}}function Yw(){if(Sn===4||Sn===3){Sn=0,Oe();var r=Ts,a=Po,l=No,d=Bw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,Po=Ts=null,Zw(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Es=null),K(l),a=a.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(_e,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=V.T,y=T.p,T.p=2,V.T=null;try{for(var _=r.onRecoverableError,L=0;L<d.length;L++){var H=d[L];_(H.value,{componentStack:H.stack})}}finally{V.T=a,T.p=y}}(No&3)!==0&&vh(),cr(r),y=r.pendingLanes,(l&4194090)!==0&&(y&42)!==0?r===Tg?Nc++:(Nc=0,Tg=r):Nc=0,Bc(0)}}function Zw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,pc(a)))}function vh(r){return qw(),Xw(),Yw(),Kw()}function Kw(){if(Sn!==5)return!1;var r=Ts,a=Mg;Mg=0;var l=K(No),d=V.T,y=T.p;try{T.p=32>l?32:l,V.T=null,l=Eg,Eg=null;var _=Ts,L=No;if(Sn=0,Po=Ts=null,No=0,(_t&6)!==0)throw Error(i(331));var H=_t;if(_t|=4,Pw(_.current),Lw(_,_.current,L,l),_t=H,Bc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(_e,_)}catch{}return!0}finally{T.p=y,V.T=d,Zw(r,a)}}function Qw(r,a,l){a=_i(l,a),a=rg(r.stateNode,a,2),r=gs(r,a,2),r!==null&&(us(r,2),cr(r))}function Lt(r,a,l){if(r.tag===3)Qw(r,r,l);else for(;a!==null;){if(a.tag===3){Qw(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))){r=_i(l,r),l=tw(2),d=gs(a,l,2),d!==null&&(nw(l,d,a,r),us(d,2),cr(d));break}}a=a.return}}function Lg(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new X3;var y=new Set;d.set(a,y)}else y=d.get(a),y===void 0&&(y=new Set,d.set(a,y));y.has(l)||(bg=!0,y.add(l),r=J3.bind(null,r,a,l),a.then(r,r))}function J3(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ot===r&&(gt&l)===l&&(Zt===4||Zt===3&&(gt&62914560)===gt&&300>q()-Sg?(_t&2)===0&&Bo(r,0):_g|=l,Do===gt&&(Do=0)),cr(r)}function Jw(r,a){a===0&&(a=Jl()),r=yo(r,a),r!==null&&(us(r,a),cr(r))}function $3(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Jw(r,l)}function eL(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),Jw(r,l)}function tL(r,a){return Ee(r,a)}var xh=null,Uo=null,Og=!1,bh=!1,Dg=!1,_a=0;function cr(r){r!==Uo&&r.next===null&&(Uo===null?xh=Uo=r:Uo=Uo.next=r),bh=!0,Og||(Og=!0,iL())}function Bc(r,a){if(!Dg&&bh){Dg=!0;do for(var l=!1,d=xh;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var L=d.suspendedLanes,H=d.pingedLanes;_=(1<<31-Be(42|r)+1)-1,_&=y&~(L&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,n1(d,_))}else _=gt,_=Cr(d,d===Ot?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Vi(d,_)||(l=!0,n1(d,_));d=d.next}while(l);Dg=!1}}function nL(){$w()}function $w(){bh=Og=!1;var r=0;_a!==0&&(fL()&&(r=_a),_a=0);for(var a=q(),l=null,d=xh;d!==null;){var y=d.next,_=e1(d,a);_===0?(d.next=null,l===null?xh=y:l.next=y,y===null&&(Uo=l)):(l=d,(r!==0||(_&3)!==0)&&(bh=!0)),d=y}Bc(r)}function e1(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var L=31-Be(_),H=1<<L,$=y[L];$===-1?((H&l)===0||(H&d)!==0)&&(y[L]=so(H,a)):$<=a&&(r.expiredLanes|=H),_&=~H}if(a=Ot,l=gt,l=Cr(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===a&&(wt===2||wt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Se(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Vi(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(d!==null&&Se(d),K(l)){case 2:case 8:l=F;break;case 32:l=U;break;case 268435456:l=he;break;default:l=U}return d=t1.bind(null,r),l=Ee(l,d),r.callbackPriority=a,r.callbackNode=l,a}return d!==null&&d!==null&&Se(d),r.callbackPriority=2,r.callbackNode=null,2}function t1(r,a){if(Sn!==0&&Sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(vh()&&r.callbackNode!==l)return null;var d=gt;return d=Cr(r,r===Ot?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Uw(r,d,a),e1(r,q()),r.callbackNode!=null&&r.callbackNode===l?t1.bind(null,r):null)}function n1(r,a){if(vh())return null;Uw(r,a,!0)}function iL(){dL(function(){(_t&6)!==0?Ee(Te,nL):$w()})}function Pg(){return _a===0&&(_a=cs()),_a}function i1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Of(""+r)}function r1(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function rL(r,a,l,d,y){if(a==="submit"&&l&&l.stateNode===y){var _=i1((y[Ke]||null).action),L=d.submitter;L&&(a=(a=L[Ke]||null)?i1(a.formAction):L.getAttribute("formAction"),a!==null&&(_=a,L=null));var H=new Bf("action","action",null,d,y);r.push({event:H,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_a!==0){var $=L?r1(y,L):new FormData(y);$m(l,{pending:!0,data:$,method:y.method,action:_},null,$)}}else typeof _=="function"&&(H.preventDefault(),$=L?r1(y,L):new FormData(y),$m(l,{pending:!0,data:$,method:y.method,action:_},_,$))},currentTarget:y}]})}}for(var Ng=0;Ng<vm.length;Ng++){var Bg=vm[Ng],sL=Bg.toLowerCase(),aL=Bg[0].toUpperCase()+Bg.slice(1);Fi(sL,"on"+aL)}Fi(Ub,"onAnimationEnd"),Fi(Hb,"onAnimationIteration"),Fi(Vb,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(S3,"onTransitionRun"),Fi(M3,"onTransitionStart"),Fi(E3,"onTransitionCancel"),Fi(Ib,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function s1(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],y=d.event;d=d.listeners;e:{var _=void 0;if(a)for(var L=d.length-1;0<=L;L--){var H=d[L],$=H.instance,ue=H.currentTarget;if(H=H.listener,$!==_&&y.isPropagationStopped())break e;_=H,y.currentTarget=ue;try{_(y)}catch(be){oh(be)}y.currentTarget=null,_=$}else for(L=0;L<d.length;L++){if(H=d[L],$=H.instance,ue=H.currentTarget,H=H.listener,$!==_&&y.isPropagationStopped())break e;_=H,y.currentTarget=ue;try{_(y)}catch(be){oh(be)}y.currentTarget=null,_=$}}}}function pt(r,a){var l=a[ct];l===void 0&&(l=a[ct]=new Set);var d=r+"__bubble";l.has(d)||(a1(a,r,2,!1),l.add(d))}function zg(r,a,l){var d=0;a&&(d|=4),a1(l,r,d,a)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Ug(r){if(!r[_h]){r[_h]=!0,_n.forEach(function(l){l!=="selectionchange"&&(oL.has(l)||zg(l,!1,r),zg(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[_h]||(a[_h]=!0,zg("selectionchange",!1,a))}}function a1(r,a,l,d){switch(L1(a)){case 2:var y=NL;break;case 8:y=BL;break;default:y=Qg}l=y.bind(null,a,l,r),y=void 0,!sm||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(a,l,{capture:!0,passive:y}):r.addEventListener(a,l,!0):y!==void 0?r.addEventListener(a,l,{passive:y}):r.addEventListener(a,l,!1)}function Hg(r,a,l,d,y){var _=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var L=d.tag;if(L===3||L===4){var H=d.stateNode.containerInfo;if(H===y)break;if(L===4)for(L=d.return;L!==null;){var $=L.tag;if(($===3||$===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;H!==null;){if(L=Rn(H),L===null)return;if($=L.tag,$===5||$===6||$===26||$===27){d=_=L;continue e}H=H.parentNode}}d=d.return}db(function(){var ue=_,be=im(l),Ae=[];e:{var fe=Fb.get(r);if(fe!==void 0){var de=Bf,tt=r;switch(r){case"keypress":if(Pf(l)===0)break e;case"keydown":case"keyup":de=t3;break;case"focusin":tt="focus",de=cm;break;case"focusout":tt="blur",de=cm;break;case"beforeblur":case"afterblur":de=cm;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=GR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=r3;break;case Ub:case Hb:case Vb:de=qR;break;case Ib:de=a3;break;case"scroll":case"scrollend":de=FR;break;case"wheel":de=l3;break;case"copy":case"cut":case"paste":de=YR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=vb;break;case"toggle":case"beforetoggle":de=u3}var Qe=(a&4)!==0,Tt=!Qe&&(r==="scroll"||r==="scrollend"),se=Qe?fe!==null?fe+"Capture":null:fe;Qe=[];for(var ne=ue,ce;ne!==null;){var Me=ne;if(ce=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||ce===null||se===null||(Me=tc(ne,se),Me!=null&&Qe.push(Uc(ne,Me,ce))),Tt)break;ne=ne.return}0<Qe.length&&(fe=new de(fe,tt,null,l,be),Ae.push({event:fe,listeners:Qe}))}}if((a&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",fe&&l!==nm&&(tt=l.relatedTarget||l.fromElement)&&(Rn(tt)||tt[rt]))break e;if((de||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,de?(tt=l.relatedTarget||l.toElement,de=ue,tt=tt?Rn(tt):null,tt!==null&&(Tt=o(tt),Qe=tt.tag,tt!==Tt||Qe!==5&&Qe!==27&&Qe!==6)&&(tt=null)):(de=null,tt=ue),de!==tt)){if(Qe=gb,Me="onMouseLeave",se="onMouseEnter",ne="mouse",(r==="pointerout"||r==="pointerover")&&(Qe=vb,Me="onPointerLeave",se="onPointerEnter",ne="pointer"),Tt=de==null?fe:ei(de),ce=tt==null?fe:ei(tt),fe=new Qe(Me,ne+"leave",de,l,be),fe.target=Tt,fe.relatedTarget=ce,Me=null,Rn(be)===ue&&(Qe=new Qe(se,ne+"enter",tt,l,be),Qe.target=ce,Qe.relatedTarget=Tt,Me=Qe),Tt=Me,de&&tt)t:{for(Qe=de,se=tt,ne=0,ce=Qe;ce;ce=Ho(ce))ne++;for(ce=0,Me=se;Me;Me=Ho(Me))ce++;for(;0<ne-ce;)Qe=Ho(Qe),ne--;for(;0<ce-ne;)se=Ho(se),ce--;for(;ne--;){if(Qe===se||se!==null&&Qe===se.alternate)break t;Qe=Ho(Qe),se=Ho(se)}Qe=null}else Qe=null;de!==null&&o1(Ae,fe,de,Qe,!1),tt!==null&&Tt!==null&&o1(Ae,Tt,tt,Qe,!0)}}e:{if(fe=ue?ei(ue):window,de=fe.nodeName&&fe.nodeName.toLowerCase(),de==="select"||de==="input"&&fe.type==="file")var Ge=Tb;else if(Mb(fe))if(Ab)Ge=b3;else{Ge=v3;var ft=y3}else de=fe.nodeName,!de||de.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&tm(ue.elementType)&&(Ge=Tb):Ge=x3;if(Ge&&(Ge=Ge(r,ue))){Eb(Ae,Ge,l,be);break e}ft&&ft(r,fe,ue),r==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&em(fe,"number",fe.value)}switch(ft=ue?ei(ue):window,r){case"focusin":(Mb(ft)||ft.contentEditable==="true")&&(po=ft,mm=ue,cc=null);break;case"focusout":cc=mm=po=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Bb(Ae,l,be);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":Bb(Ae,l,be)}var qe;if(fm)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ho?wb(r,l)&&($e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(xb&&l.locale!=="ko"&&(ho||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ho&&(qe=pb()):(hs=be,am="value"in hs?hs.value:hs.textContent,ho=!0)),ft=wh(ue,$e),0<ft.length&&($e=new yb($e,r,null,l,be),Ae.push({event:$e,listeners:ft}),qe?$e.data=qe:(qe=Sb(l),qe!==null&&($e.data=qe)))),(qe=h3?d3(r,l):p3(r,l))&&($e=wh(ue,"onBeforeInput"),0<$e.length&&(ft=new yb("onBeforeInput","beforeinput",null,l,be),Ae.push({event:ft,listeners:$e}),ft.data=qe)),rL(Ae,r,ue,l,be)}s1(Ae,a)})}function Uc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function wh(r,a){for(var l=a+"Capture",d=[];r!==null;){var y=r,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=tc(r,l),y!=null&&d.unshift(Uc(r,y,_)),y=tc(r,a),y!=null&&d.push(Uc(r,y,_))),r.tag===3)return d;r=r.return}return[]}function Ho(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function o1(r,a,l,d,y){for(var _=a._reactName,L=[];l!==null&&l!==d;){var H=l,$=H.alternate,ue=H.stateNode;if(H=H.tag,$!==null&&$===d)break;H!==5&&H!==26&&H!==27||ue===null||($=ue,y?(ue=tc(l,_),ue!=null&&L.unshift(Uc(l,ue,$))):y||(ue=tc(l,_),ue!=null&&L.push(Uc(l,ue,$)))),l=l.return}L.length!==0&&r.push({event:a,listeners:L})}var lL=/\r\n?/g,cL=/\u0000|\uFFFD/g;function l1(r){return(typeof r=="string"?r:""+r).replace(lL,`
`).replace(cL,"")}function c1(r,a){return a=l1(a),l1(r)===a}function Sh(){}function Et(r,a,l,d,y,_){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||co(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&co(r,""+d);break;case"className":Cf(r,"class",d);break;case"tabIndex":Cf(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Cf(r,l,d);break;case"style":fb(r,d,_);break;case"data":if(a!=="object"){Cf(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Of(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&Et(r,a,"name",y.name,y,null),Et(r,a,"formEncType",y.formEncType,y,null),Et(r,a,"formMethod",y.formMethod,y,null),Et(r,a,"formTarget",y.formTarget,y,null)):(Et(r,a,"encType",y.encType,y,null),Et(r,a,"method",y.method,y,null),Et(r,a,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Of(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=Sh);break;case"onScroll":d!=null&&pt("scroll",r);break;case"onScrollEnd":d!=null&&pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Of(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":pt("beforetoggle",r),pt("toggle",r),Af(r,"popover",d);break;case"xlinkActuate":Rr(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rr(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rr(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rr(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rr(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rr(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rr(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Af(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=VR.get(l)||l,Af(r,l,d))}}function Vg(r,a,l,d,y,_){switch(l){case"style":fb(r,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof d=="string"?co(r,d):(typeof d=="number"||typeof d=="bigint")&&co(r,""+d);break;case"onScroll":d!=null&&pt("scroll",r);break;case"onScrollEnd":d!=null&&pt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),_=r[Ke]||null,_=_!=null?_[l]:null,typeof _=="function"&&r.removeEventListener(a,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,d,y);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):Af(r,l,d)}}}function Mn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",r),pt("load",r);var d=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var L=l[_];if(L!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(r,a,_,L,l,null)}}y&&Et(r,a,"srcSet",l.srcSet,l,null),d&&Et(r,a,"src",l.src,l,null);return;case"input":pt("invalid",r);var H=_=L=y=null,$=null,ue=null;for(d in l)if(l.hasOwnProperty(d)){var be=l[d];if(be!=null)switch(d){case"name":y=be;break;case"type":L=be;break;case"checked":$=be;break;case"defaultChecked":ue=be;break;case"value":_=be;break;case"defaultValue":H=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,a));break;default:Et(r,a,d,be,l,null)}}ob(r,_,H,$,ue,L,y,!1),Rf(r);return;case"select":pt("invalid",r),d=L=_=null;for(y in l)if(l.hasOwnProperty(y)&&(H=l[y],H!=null))switch(y){case"value":_=H;break;case"defaultValue":L=H;break;case"multiple":d=H;default:Et(r,a,y,H,l,null)}a=_,l=L,r.multiple=!!d,a!=null?lo(r,!!d,a,!1):l!=null&&lo(r,!!d,l,!0);return;case"textarea":pt("invalid",r),_=y=d=null;for(L in l)if(l.hasOwnProperty(L)&&(H=l[L],H!=null))switch(L){case"value":d=H;break;case"defaultValue":y=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:Et(r,a,L,H,l,null)}cb(r,d,y,_),Rf(r);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(d=l[$],d!=null))switch($){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(r,a,$,d,l,null)}return;case"dialog":pt("beforetoggle",r),pt("toggle",r),pt("cancel",r),pt("close",r);break;case"iframe":case"object":pt("load",r);break;case"video":case"audio":for(d=0;d<zc.length;d++)pt(zc[d],r);break;case"image":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"embed":case"source":case"link":pt("error",r),pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in l)if(l.hasOwnProperty(ue)&&(d=l[ue],d!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(r,a,ue,d,l,null)}return;default:if(tm(a)){for(be in l)l.hasOwnProperty(be)&&(d=l[be],d!==void 0&&Vg(r,a,be,d,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(d=l[H],d!=null&&Et(r,a,H,d,l,null))}function uL(r,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,L=null,H=null,$=null,ue=null,be=null;for(de in l){var Ae=l[de];if(l.hasOwnProperty(de)&&Ae!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":$=Ae;default:d.hasOwnProperty(de)||Et(r,a,de,null,d,Ae)}}for(var fe in d){var de=d[fe];if(Ae=l[fe],d.hasOwnProperty(fe)&&(de!=null||Ae!=null))switch(fe){case"type":_=de;break;case"name":y=de;break;case"checked":ue=de;break;case"defaultChecked":be=de;break;case"value":L=de;break;case"defaultValue":H=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,a));break;default:de!==Ae&&Et(r,a,fe,de,d,Ae)}}$p(r,L,H,$,ue,be,_,y);return;case"select":de=L=H=fe=null;for(_ in l)if($=l[_],l.hasOwnProperty(_)&&$!=null)switch(_){case"value":break;case"multiple":de=$;default:d.hasOwnProperty(_)||Et(r,a,_,null,d,$)}for(y in d)if(_=d[y],$=l[y],d.hasOwnProperty(y)&&(_!=null||$!=null))switch(y){case"value":fe=_;break;case"defaultValue":H=_;break;case"multiple":L=_;default:_!==$&&Et(r,a,y,_,d,$)}a=H,l=L,d=de,fe!=null?lo(r,!!l,fe,!1):!!d!=!!l&&(a!=null?lo(r,!!l,a,!0):lo(r,!!l,l?[]:"",!1));return;case"textarea":de=fe=null;for(H in l)if(y=l[H],l.hasOwnProperty(H)&&y!=null&&!d.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Et(r,a,H,null,d,y)}for(L in d)if(y=d[L],_=l[L],d.hasOwnProperty(L)&&(y!=null||_!=null))switch(L){case"value":fe=y;break;case"defaultValue":de=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&Et(r,a,L,y,d,_)}lb(r,fe,de);return;case"option":for(var tt in l)if(fe=l[tt],l.hasOwnProperty(tt)&&fe!=null&&!d.hasOwnProperty(tt))switch(tt){case"selected":r.selected=!1;break;default:Et(r,a,tt,null,d,fe)}for($ in d)if(fe=d[$],de=l[$],d.hasOwnProperty($)&&fe!==de&&(fe!=null||de!=null))switch($){case"selected":r.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Et(r,a,$,fe,d,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in l)fe=l[Qe],l.hasOwnProperty(Qe)&&fe!=null&&!d.hasOwnProperty(Qe)&&Et(r,a,Qe,null,d,fe);for(ue in d)if(fe=d[ue],de=l[ue],d.hasOwnProperty(ue)&&fe!==de&&(fe!=null||de!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,a));break;default:Et(r,a,ue,fe,d,de)}return;default:if(tm(a)){for(var Tt in l)fe=l[Tt],l.hasOwnProperty(Tt)&&fe!==void 0&&!d.hasOwnProperty(Tt)&&Vg(r,a,Tt,void 0,d,fe);for(be in d)fe=d[be],de=l[be],!d.hasOwnProperty(be)||fe===de||fe===void 0&&de===void 0||Vg(r,a,be,fe,d,de);return}}for(var se in l)fe=l[se],l.hasOwnProperty(se)&&fe!=null&&!d.hasOwnProperty(se)&&Et(r,a,se,null,d,fe);for(Ae in d)fe=d[Ae],de=l[Ae],!d.hasOwnProperty(Ae)||fe===de||fe==null&&de==null||Et(r,a,Ae,fe,d,de)}var Ig=null,Fg=null;function Mh(r){return r.nodeType===9?r:r.ownerDocument}function u1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function kg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gg=null;function fL(){var r=window.event;return r&&r.type==="popstate"?r===Gg?!1:(Gg=r,!0):(Gg=null,!1)}var h1=typeof setTimeout=="function"?setTimeout:void 0,hL=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,dL=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(r){return d1.resolve(null).then(r).catch(pL)}:h1;function pL(r){setTimeout(function(){throw r})}function Cs(r){return r==="head"}function p1(r,a){var l=a,d=0,y=0;do{var _=l.nextSibling;if(r.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<d&&8>d){l=d;var L=r.ownerDocument;if(l&1&&Hc(L.documentElement),l&2&&Hc(L.body),l&4)for(l=L.head,Hc(l),L=l.firstChild;L;){var H=L.nextSibling,$=L.nodeName;L[it]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&L.rel.toLowerCase()==="stylesheet"||l.removeChild(L),L=H}}if(y===0){r.removeChild(_),qc(a);return}y--}else l==="$"||l==="$?"||l==="$!"?y++:d=l.charCodeAt(0)-48;else d=0;l=_}while(l);qc(a)}function jg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jg(l),bt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function mL(r,a,l,d){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[it])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Gi(r.nextSibling),r===null)break}return null}function gL(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Gi(r.nextSibling),r===null))return null;return r}function Wg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yL(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Gi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var qg=null;function m1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function g1(r,a,l){switch(a=Mh(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Hc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);bt(r)}var Ai=new Map,y1=new Set;function Eh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gr=T.d;T.d={f:vL,r:xL,D:bL,C:_L,L:wL,m:SL,X:EL,S:ML,M:TL};function vL(){var r=Gr.f(),a=gh();return r||a}function xL(r){var a=yt(r);a!==null&&a.tag===5&&a.type==="form"?U_(a):Gr.r(r)}var Vo=typeof document>"u"?null:document;function v1(r,a,l){var d=Vo;if(d&&typeof a=="string"&&a){var y=bi(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),y1.has(y)||(y1.add(y),r={rel:r,crossOrigin:l,href:a},d.querySelector(y)===null&&(a=d.createElement("link"),Mn(a,"link",r),Xt(a),d.head.appendChild(a)))}}function bL(r){Gr.D(r),v1("dns-prefetch",r,null)}function _L(r,a){Gr.C(r,a),v1("preconnect",r,a)}function wL(r,a,l){Gr.L(r,a,l);var d=Vo;if(d&&r&&a){var y='link[rel="preload"][as="'+bi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+bi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+bi(l.imageSizes)+'"]')):y+='[href="'+bi(r)+'"]';var _=y;switch(a){case"style":_=Io(r);break;case"script":_=Fo(r)}Ai.has(_)||(r=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Ai.set(_,r),d.querySelector(y)!==null||a==="style"&&d.querySelector(Vc(_))||a==="script"&&d.querySelector(Ic(_))||(a=d.createElement("link"),Mn(a,"link",r),Xt(a),d.head.appendChild(a)))}}function SL(r,a){Gr.m(r,a);var l=Vo;if(l&&r){var d=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+bi(d)+'"][href="'+bi(r)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Fo(r)}if(!Ai.has(_)&&(r=p({rel:"modulepreload",href:r},a),Ai.set(_,r),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ic(_)))return}d=l.createElement("link"),Mn(d,"link",r),Xt(d),l.head.appendChild(d)}}}function ML(r,a,l){Gr.S(r,a,l);var d=Vo;if(d&&r){var y=Nt(d).hoistableStyles,_=Io(r);a=a||"default";var L=y.get(_);if(!L){var H={loading:0,preload:null};if(L=d.querySelector(Vc(_)))H.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Ai.get(_))&&Xg(r,l);var $=L=d.createElement("link");Xt($),Mn($,"link",r),$._p=new Promise(function(ue,be){$.onload=ue,$.onerror=be}),$.addEventListener("load",function(){H.loading|=1}),$.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Th(L,a,d)}L={type:"stylesheet",instance:L,count:1,state:H},y.set(_,L)}}}function EL(r,a){Gr.X(r,a);var l=Vo;if(l&&r){var d=Nt(l).hoistableScripts,y=Fo(r),_=d.get(y);_||(_=l.querySelector(Ic(y)),_||(r=p({src:r,async:!0},a),(a=Ai.get(y))&&Yg(r,a),_=l.createElement("script"),Xt(_),Mn(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function TL(r,a){Gr.M(r,a);var l=Vo;if(l&&r){var d=Nt(l).hoistableScripts,y=Fo(r),_=d.get(y);_||(_=l.querySelector(Ic(y)),_||(r=p({src:r,async:!0,type:"module"},a),(a=Ai.get(y))&&Yg(r,a),_=l.createElement("script"),Xt(_),Mn(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function x1(r,a,l,d){var y=(y=pe.current)?Eh(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Io(l.href),l=Nt(y).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Io(l.href);var _=Nt(y).hoistableStyles,L=_.get(r);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,L),(_=y.querySelector(Vc(r)))&&!_._p&&(L.instance=_,L.state.loading=5),Ai.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ai.set(r,l),_||AL(y,r,l,L.state))),a&&d===null)throw Error(i(528,""));return L}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(l),l=Nt(y).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Io(r){return'href="'+bi(r)+'"'}function Vc(r){return'link[rel="stylesheet"]['+r+"]"}function b1(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function AL(r,a,l,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Mn(a,"link",l),Xt(a),r.head.appendChild(a))}function Fo(r){return'[src="'+bi(r)+'"]'}function Ic(r){return"script[async]"+r}function _1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+bi(l.href)+'"]');if(d)return a.instance=d,Xt(d),d;var y=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Xt(d),Mn(d,"style",y),Th(d,l.precedence,r),a.instance=d;case"stylesheet":y=Io(l.href);var _=r.querySelector(Vc(y));if(_)return a.state.loading|=4,a.instance=_,Xt(_),_;d=b1(l),(y=Ai.get(y))&&Xg(d,y),_=(r.ownerDocument||r).createElement("link"),Xt(_);var L=_;return L._p=new Promise(function(H,$){L.onload=H,L.onerror=$}),Mn(_,"link",d),a.state.loading|=4,Th(_,l.precedence,r),a.instance=_;case"script":return _=Fo(l.src),(y=r.querySelector(Ic(_)))?(a.instance=y,Xt(y),y):(d=l,(y=Ai.get(_))&&(d=p({},l),Yg(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),Xt(y),Mn(y,"link",d),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Th(d,l.precedence,r));return a.instance}function Th(r,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,L=0;L<d.length;L++){var H=d[L];if(H.dataset.precedence===a)_=H;else if(_!==y)break}_?_.parentNode.insertBefore(r,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Xg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Yg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Ah=null;function w1(r,a,l){if(Ah===null){var d=new Map,y=Ah=new Map;y.set(l,d)}else y=Ah,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var _=l[y];if(!(_[it]||_[Pe]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(a)||"";L=r+L;var H=d.get(L);H?H.push(_):d.set(L,[_])}}return d}function S1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function CL(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function M1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Fc=null;function RL(){}function LL(r,a,l){if(Fc===null)throw Error(i(475));var d=Fc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Io(l.href),_=r.querySelector(Vc(y));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Ch.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=_,Xt(_);return}_=r.ownerDocument||r,l=b1(l),(y=Ai.get(y))&&Xg(l,y),_=_.createElement("link"),Xt(_);var L=_;L._p=new Promise(function(H,$){L.onload=H,L.onerror=$}),Mn(_,"link",l),a.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Ch.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function OL(){if(Fc===null)throw Error(i(475));var r=Fc;return r.stylesheets&&r.count===0&&Zg(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Zg(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)Zg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rh=null;function Zg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rh=new Map,a.forEach(DL,r),Rh=null,Ch.call(r))}function DL(r,a){if(!(a.state.loading&4)){var l=Rh.get(r);if(l)var d=l.get(null);else{l=new Map,Rh.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var L=y[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),d=L)}d&&l.set(null,d)}y=a.instance,L=y.getAttribute("data-precedence"),_=l.get(L)||d,_===d&&l.set(null,y),l.set(L,y),this.count++,d=Ch.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var kc={$$typeof:R,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function PL(r,a,l,d,y,_,L,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function E1(r,a,l,d,y,_,L,H,$,ue,be,Ae){return r=new PL(r,a,l,L,H,$,ue,Ae),a=1,_===!0&&(a|=24),_=ni(3,null,null,a),r.current=_,_.stateNode=r,a=Lm(),a.refCount++,r.pooledCache=a,a.refCount++,_.memoizedState={element:d,isDehydrated:l,cache:a},Nm(_),r}function T1(r){return r?(r=vo,r):vo}function A1(r,a,l,d,y,_){y=T1(y),d.context===null?d.context=y:d.pendingContext=y,d=ms(a),d.payload={element:l},_=_===void 0?null:_,_!==null&&(d.callback=_),l=gs(r,d,a),l!==null&&(oi(l,r,a),vc(l,r,a))}function C1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Kg(r,a){C1(r,a),(r=r.alternate)&&C1(r,a)}function R1(r){if(r.tag===13){var a=yo(r,67108864);a!==null&&oi(a,r,67108864),Kg(r,67108864)}}var Lh=!0;function NL(r,a,l,d){var y=V.T;V.T=null;var _=T.p;try{T.p=2,Qg(r,a,l,d)}finally{T.p=_,V.T=y}}function BL(r,a,l,d){var y=V.T;V.T=null;var _=T.p;try{T.p=8,Qg(r,a,l,d)}finally{T.p=_,V.T=y}}function Qg(r,a,l,d){if(Lh){var y=Jg(d);if(y===null)Hg(r,a,d,Oh,l),O1(r,d);else if(UL(y,r,a,l,d))d.stopPropagation();else if(O1(r,d),a&4&&-1<zL.indexOf(r)){for(;y!==null;){var _=yt(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=yi(_.pendingLanes);if(L!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;L;){var $=1<<31-Be(L);H.entanglements[1]|=$,L&=~$}cr(_),(_t&6)===0&&(ph=q()+500,Bc(0))}}break;case 13:H=yo(_,2),H!==null&&oi(H,_,2),gh(),Kg(_,2)}if(_=Jg(d),_===null&&Hg(r,a,d,Oh,l),_===y)break;y=_}y!==null&&d.stopPropagation()}else Hg(r,a,d,null,l)}}function Jg(r){return r=im(r),$g(r)}var Oh=null;function $g(r){if(Oh=null,r=Rn(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Oh=r,null}function L1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case Te:return 2;case F:return 8;case U:case ee:return 32;case he:return 268435456;default:return 32}default:return 32}}var ey=!1,Rs=null,Ls=null,Os=null,Gc=new Map,jc=new Map,Ds=[],zL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O1(r,a){switch(r){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(a.pointerId)}}function Wc(r,a,l,d,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},a!==null&&(a=yt(a),a!==null&&R1(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function UL(r,a,l,d,y){switch(a){case"focusin":return Rs=Wc(Rs,r,a,l,d,y),!0;case"dragenter":return Ls=Wc(Ls,r,a,l,d,y),!0;case"mouseover":return Os=Wc(Os,r,a,l,d,y),!0;case"pointerover":var _=y.pointerId;return Gc.set(_,Wc(Gc.get(_)||null,r,a,l,d,y)),!0;case"gotpointercapture":return _=y.pointerId,jc.set(_,Wc(jc.get(_)||null,r,a,l,d,y)),!0}return!1}function D1(r){var a=Rn(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,ye(r.priority,function(){if(l.tag===13){var d=ai();d=ec(d);var y=yo(l,d);y!==null&&oi(y,l,d),Kg(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Jg(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);nm=d,l.target.dispatchEvent(d),nm=null}else return a=yt(l),a!==null&&R1(a),r.blockedOn=l,!1;a.shift()}return!0}function P1(r,a,l){Dh(r)&&l.delete(a)}function HL(){ey=!1,Rs!==null&&Dh(Rs)&&(Rs=null),Ls!==null&&Dh(Ls)&&(Ls=null),Os!==null&&Dh(Os)&&(Os=null),Gc.forEach(P1),jc.forEach(P1)}function Ph(r,a){r.blockedOn===a&&(r.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HL)))}var Nh=null;function N1(r){Nh!==r&&(Nh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nh===r&&(Nh=null);for(var a=0;a<r.length;a+=3){var l=r[a],d=r[a+1],y=r[a+2];if(typeof d!="function"){if($g(d||l)===null)continue;break}var _=yt(l);_!==null&&(r.splice(a,3),a-=3,$m(_,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function qc(r){function a($){return Ph($,r)}Rs!==null&&Ph(Rs,r),Ls!==null&&Ph(Ls,r),Os!==null&&Ph(Os,r),Gc.forEach(a),jc.forEach(a);for(var l=0;l<Ds.length;l++){var d=Ds[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ds.length&&(l=Ds[0],l.blockedOn===null);)D1(l),l.blockedOn===null&&Ds.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],_=l[d+1],L=y[Ke]||null;if(typeof _=="function")L||N1(l);else if(L){var H=null;if(_&&_.hasAttribute("formAction")){if(y=_,L=_[Ke]||null)H=L.formAction;else if($g(y)!==null)continue}else H=L.action;typeof H=="function"?l[d+1]=H:(l.splice(d,3),d-=3),N1(l)}}}function ty(r){this._internalRoot=r}Bh.prototype.render=ty.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,d=ai();A1(l,d,r,a,null,null)},Bh.prototype.unmount=ty.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;A1(r.current,2,null,r,null,null),gh(),a[rt]=null}};function Bh(r){this._internalRoot=r}Bh.prototype.unstable_scheduleHydration=function(r){if(r){var a=ve();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Ds.length&&a!==0&&a<Ds[l].priority;l++);Ds.splice(l,0,r),l===0&&D1(r)}};var B1=e.version;if(B1!=="19.1.1")throw Error(i(527,B1,"19.1.1"));T.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var VL={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{_e=zh.inject(VL),Re=zh}catch{}}return Xc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,d="",y=Q_,_=J_,L=$_,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(H=a.unstable_transitionCallbacks)),a=E1(r,1,!1,null,null,l,d,y,_,L,H,null),r[rt]=a.current,Ug(r),new ty(a)},Xc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var d=!1,y="",_=Q_,L=J_,H=$_,$=null,ue=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(ue=l.formState)),a=E1(r,1,!0,a,l??null,d,y,_,L,H,$,ue),a.context=T1(null),l=a.current,d=ai(),d=ec(d),y=ms(d),y.callback=null,gs(l,y,d),l=d,a.current.lanes=l,us(a,l),cr(a),r[rt]=a.current,Ug(r),new Bh(a)},Xc.version="19.1.1",Xc}var G1;function YL(){if(G1)return iy.exports;G1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=XL(),iy.exports}var ZL=YL();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j1="popstate";function KL(t={}){function e(i,s){let{pathname:o,search:c,hash:u}=i.location;return fv("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Tu(s)}return JL(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QL(){return Math.random().toString(36).substring(2,10)}function W1(t,e){return{usr:t.state,key:t.key,idx:e}}function fv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vl(e):e,state:n,key:e&&e.key||i||QL()}}function Tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function JL(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,u="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let E=p(),w=E==null?null:E-h;h=E,f&&f({action:u,location:S.location,delta:w})}function g(E,w){u="PUSH";let b=fv(S.location,E,w);h=p()+1;let R=W1(b,h),D=S.createHref(b);try{c.pushState(R,"",D)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(D)}o&&f&&f({action:u,location:S.location,delta:1})}function v(E,w){u="REPLACE";let b=fv(S.location,E,w);h=p();let R=W1(b,h),D=S.createHref(b);c.replaceState(R,"",D),o&&f&&f({action:u,location:S.location,delta:0})}function x(E){return $L(E)}let S={get action(){return u},get location(){return t(s,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(j1,m),f=E,()=>{s.removeEventListener(j1,m),f=null}},createHref(E){return e(s,E)},createURL:x,encodeLocation(E){let w=x(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(E){return c.go(E)}};return S}function $L(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Tu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function kE(t,e,n="/"){return eO(t,e,n,!1)}function eO(t,e,n,i){let s=typeof e=="string"?Vl(e):e,o=ts(s.pathname||"/",n);if(o==null)return null;let c=GE(t);tO(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=hO(o);u=uO(c[f],h,i)}return u}function GE(t,e=[],n=[],i="",s=!1){let o=(c,u,f=s,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;Wt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=Jr([i,p.relativePath]),g=n.concat(p);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),GE(c.children,e,g,m,f)),!(c.path==null&&!c.index)&&e.push({path:m,score:lO(m,c.index),routesMeta:g})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let f of jE(c.path))o(c,u,!0,f)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=jE(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function tO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var nO=/^:[\w-]+$/,iO=3,rO=2,sO=1,aO=10,oO=-2,q1=t=>t==="*";function lO(t,e){let n=t.split("/"),i=n.length;return n.some(q1)&&(i+=oO),e&&(i+=rO),n.filter(s=>!q1(s)).reduce((s,o)=>s+(nO.test(o)?iO:o===""?sO:aO),i)}function cO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function uO(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],h=u===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=Fd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),g=f.route;if(!m&&h&&n&&!i[i.length-1].route.index&&(m=Fd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),c.push({params:s,pathname:Jr([o,m.pathname]),pathnameBase:gO(Jr([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=Jr([o,m.pathnameBase]))}return c}function Fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let x=u[g]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:t}}function fO(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function hO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ts(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function dO(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Vl(t):t;return{pathname:n?n.startsWith("/")?n:pO(n,e):e,search:yO(i),hash:vO(s)}}function pO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WE(t){let e=mO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function qE(t,e,n,i=!1){let s;typeof t=="string"?s=Vl(t):(s={...t},Wt(!s.pathname||!s.pathname.includes("?"),oy("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),oy("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),oy("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let m=e.length-1;if(!i&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?e[m]:"/"}let f=dO(s,u),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Jr=t=>t.join("/").replace(/\/\/+/g,"/"),gO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var bO=["GET",...XE];new Set(bO);var Il=oe.createContext(null);Il.displayName="DataRouter";var Cp=oe.createContext(null);Cp.displayName="DataRouterState";oe.createContext(!1);var YE=oe.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var _O=oe.createContext(new Map);_O.displayName="Fetchers";var wO=oe.createContext(null);wO.displayName="Await";var Er=oe.createContext(null);Er.displayName="Navigation";var sf=oe.createContext(null);sf.displayName="Location";var os=oe.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var M0=oe.createContext(null);M0.displayName="RouteError";function SO(t,{relative:e}={}){Wt(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=oe.useContext(Er),{hash:s,pathname:o,search:c}=of(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Jr([n,o])),i.createHref({pathname:u,search:c,hash:s})}function af(){return oe.useContext(sf)!=null}function no(){return Wt(af(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(sf).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(t){oe.useContext(Er).static||oe.useLayoutEffect(t)}function Fl(){let{isDataRoute:t}=oe.useContext(os);return t?zO():MO()}function MO(){Wt(af(),"useNavigate() may be used only in the context of a <Router> component.");let t=oe.useContext(Il),{basename:e,navigator:n}=oe.useContext(Er),{matches:i}=oe.useContext(os),{pathname:s}=no(),o=JSON.stringify(WE(i)),c=oe.useRef(!1);return KE(()=>{c.current=!0}),oe.useCallback((f,h={})=>{if(vr(c.current,ZE),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=qE(f,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jr([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,t])}oe.createContext(null);function of(t,{relative:e}={}){let{matches:n}=oe.useContext(os),{pathname:i}=no(),s=JSON.stringify(WE(n));return oe.useMemo(()=>qE(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function EO(t,e){return QE(t,e)}function QE(t,e,n,i,s){Wt(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=oe.useContext(Er),{matches:c}=oe.useContext(os),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let b=m&&m.path||"";JE(h,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=no(),v;if(e){let b=typeof e=="string"?Vl(e):e;Wt(p==="/"||b.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${b.pathname}" was given in the \`location\` prop.`),v=b}else v=g;let x=v.pathname||"/",S=x;if(p!=="/"){let b=p.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=kE(t,{pathname:S});vr(m||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),vr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=LO(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:Jr([p,o.encodeLocation?o.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:Jr([p,o.encodeLocation?o.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),c,n,i,s);return e&&w?oe.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function TO(){let t=BO(),e=xO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:o},"ErrorBoundary")," or"," ",oe.createElement("code",{style:o},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:s},n):null,c)}var AO=oe.createElement(TO,null),CO=class extends oe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?oe.createElement(os.Provider,{value:this.props.routeContext},oe.createElement(M0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RO({routeContext:t,match:e,children:n}){let i=oe.useContext(Il);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(os.Provider,{value:t},n)}function LO(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let h=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:m,errors:g}=n,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let g,v=!1,x=null,S=null;n&&(g=c&&p.route.id?c[p.route.id]:void 0,x=p.route.errorElement||AO,u&&(f<0&&m===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===m&&(v=!0,S=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),w=()=>{let b;return g?b=x:v?b=S:p.route.Component?b=oe.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=h,oe.createElement(RO,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?oe.createElement(CO,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):w()},null)}function E0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OO(t){let e=oe.useContext(Il);return Wt(e,E0(t)),e}function DO(t){let e=oe.useContext(Cp);return Wt(e,E0(t)),e}function PO(t){let e=oe.useContext(os);return Wt(e,E0(t)),e}function T0(t){let e=PO(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NO(){return T0("useRouteId")}function BO(){let t=oe.useContext(M0),e=DO("useRouteError"),n=T0("useRouteError");return t!==void 0?t:e.errors?.[n]}function zO(){let{router:t}=OO("useNavigate"),e=T0("useNavigate"),n=oe.useRef(!1);return KE(()=>{n.current=!0}),oe.useCallback(async(s,o={})=>{vr(n.current,ZE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var X1={};function JE(t,e,n){!e&&!X1[t]&&(X1[t]=!0,vr(!1,n))}oe.memo(UO);function UO({routes:t,future:e,state:n,unstable_onError:i}){return QE(t,void 0,n,i,e)}function Od(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HO({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){Wt(!af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=Vl(n));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:g="default"}=n,v=oe.useMemo(()=>{let x=ts(f,c);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:g},navigationType:i}},[c,f,h,p,m,g,i]);return vr(v!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:oe.createElement(Er.Provider,{value:u},oe.createElement(sf.Provider,{children:e,value:v}))}function VO({children:t,location:e}){return EO(hv(t),e)}function hv(t,e=[]){let n=[];return oe.Children.forEach(t,(i,s)=>{if(!oe.isValidElement(i))return;let o=[...e,s];if(i.type===oe.Fragment){n.push.apply(n,hv(i.props.children,o));return}Wt(i.type===Od,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=hv(i.props.children,o)),n.push(c)}),n}var Dd="get",Pd="application/x-www-form-urlencoded";function Rp(t){return t!=null&&typeof t.tagName=="string"}function IO(t){return Rp(t)&&t.tagName.toLowerCase()==="button"}function FO(t){return Rp(t)&&t.tagName.toLowerCase()==="form"}function kO(t){return Rp(t)&&t.tagName.toLowerCase()==="input"}function GO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jO(t,e){return t.button===0&&(!e||e==="_self")&&!GO(t)}var Hh=null;function WO(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var qO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!qO.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):t}function XO(t,e){let n,i,s,o,c;if(FO(t)){let u=t.getAttribute("action");i=u?ts(u,e):null,n=t.getAttribute("method")||Dd,s=ly(t.getAttribute("enctype"))||Pd,o=new FormData(t)}else if(IO(t)||kO(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(i=f?ts(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Dd,s=ly(t.getAttribute("formenctype"))||ly(u.getAttribute("enctype"))||Pd,o=new FormData(u,t),!WO()){let{name:h,type:p,value:m}=t;if(p==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(Rp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,i=null,s=Pd,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YO(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ts(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ZO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QO(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await ZO(o,n);return c.links?c.links():[]}return[]}));return tD(i.flat(1).filter(KO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Y1(t,e,n,i,s,o){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>c(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function JO(t,e,{includeHydrateFallback:n}={}){return $O(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function $O(t){return[...new Set(t)]}function eD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function tD(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(eD(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function $E(){let t=oe.useContext(Il);return A0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nD(){let t=oe.useContext(Cp);return A0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var C0=oe.createContext(void 0);C0.displayName="FrameworkContext";function eT(){let t=oe.useContext(C0);return A0(t,"You must render this element inside a <HydratedRouter> element"),t}function iD(t,e){let n=oe.useContext(C0),[i,s]=oe.useState(!1),[o,c]=oe.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,g=oe.useRef(null);oe.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=w=>{w.forEach(b=>{c(b.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[t]),oe.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{s(!0)},x=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Yc(u,v),onBlur:Yc(f,x),onMouseEnter:Yc(h,v),onMouseLeave:Yc(p,x),onTouchStart:Yc(m,v)}]:[!1,g,{}]}function Yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rD({page:t,...e}){let{router:n}=$E(),i=oe.useMemo(()=>kE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?oe.createElement(aD,{page:t,matches:i,...e}):null}function sD(t){let{manifest:e,routeModules:n}=eT(),[i,s]=oe.useState([]);return oe.useEffect(()=>{let o=!1;return QO(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),i}function aD({page:t,matches:e,...n}){let i=no(),{manifest:s,routeModules:o}=eT(),{basename:c}=$E(),{loaderData:u,matches:f}=nD(),h=oe.useMemo(()=>Y1(t,e,f,s,i,"data"),[t,e,f,s,i]),p=oe.useMemo(()=>Y1(t,e,f,s,i,"assets"),[t,e,f,s,i]),m=oe.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(e.forEach(w=>{let b=s.routes[w.route.id];!b||!b.hasLoader||(!h.some(R=>R.route.id===w.route.id)&&w.route.id in u&&o[w.route.id]?.shouldRevalidate||b.hasClientLoader?S=!0:x.add(w.route.id))}),x.size===0)return[];let E=YO(t,c,"data");return S&&x.size>0&&E.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[c,u,i,s,h,e,t,o]),g=oe.useMemo(()=>JO(p,s),[p,s]),v=sD(p);return oe.createElement(oe.Fragment,null,m.map(x=>oe.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>oe.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:S})=>oe.createElement("link",{key:x,nonce:n.nonce,...S})))}function oD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.9.2")}catch{}function lD({basename:t,children:e,window:n}){let i=oe.useRef();i.current==null&&(i.current=KL({window:n,v5Compat:!0}));let s=i.current,[o,c]=oe.useState({action:s.action,location:s.location}),u=oe.useCallback(f=>{oe.startTransition(()=>c(f))},[c]);return oe.useLayoutEffect(()=>s.listen(u),[s,u]),oe.createElement(HO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=oe.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:m,...g},v){let{basename:x}=oe.useContext(Er),S=typeof h=="string"&&nT.test(h),E,w=!1;if(typeof h=="string"&&S&&(E=h,tT))try{let N=new URL(window.location.href),P=h.startsWith("//")?new URL(N.protocol+h):new URL(h),G=ts(P.pathname,x);P.origin===N.origin&&G!=null?h=G+P.search+P.hash:w=!0}catch{vr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=SO(h,{relative:s}),[R,D,C]=iD(i,g),A=hD(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:m});function O(N){e&&e(N),N.defaultPrevented||A(N)}let z=oe.createElement("a",{...g,...C,href:E||b,onClick:w||o?e:O,ref:oD(v,D),target:f,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?oe.createElement(oe.Fragment,null,z,oe.createElement(rD,{page:b})):z});iT.displayName="Link";var cD=oe.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:u,children:f,...h},p){let m=of(c,{relative:h.relative}),g=no(),v=oe.useContext(Cp),{navigator:x,basename:S}=oe.useContext(Er),E=v!=null&&yD(m)&&u===!0,w=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,b=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(b=b.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&S&&(R=ts(R,S)||R);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=b===w||!s&&b.startsWith(w)&&b.charAt(D)==="/",A=R!=null&&(R===w||!s&&R.startsWith(w)&&R.charAt(w.length)==="/"),O={isActive:C,isPending:A,isTransitioning:E},z=C?e:void 0,N;typeof i=="function"?N=i(O):N=[i,C?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(O):o;return oe.createElement(iT,{...h,"aria-current":z,className:N,ref:p,style:P,to:c,viewTransition:u},typeof f=="function"?f(O):f)});cD.displayName="NavLink";var uD=oe.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:c=Dd,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:m,...g},v)=>{let x=mD(),S=gD(u,{relative:h}),E=c.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&nT.test(u),b=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let D=R.nativeEvent.submitter,C=D?.getAttribute("formmethod")||c;x(D||R.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:m})};return oe.createElement("form",{ref:v,method:E,action:S,onSubmit:i?f:b,...g,"data-discover":!w&&t==="render"?"true":void 0})});uD.displayName="Form";function fD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(t){let e=oe.useContext(Il);return Wt(e,fD(t)),e}function hD(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=Fl(),f=no(),h=of(t,{relative:o});return oe.useCallback(p=>{if(jO(p,e)){p.preventDefault();let m=n!==void 0?n:Tu(f)===Tu(h);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[f,u,h,n,i,e,t,s,o,c])}var dD=0,pD=()=>`__${String(++dD)}__`;function mD(){let{router:t}=rT("useSubmit"),{basename:e}=oe.useContext(Er),n=NO();return oe.useCallback(async(i,s={})=>{let{action:o,method:c,encType:u,formData:f,body:h}=XO(i,e);if(s.navigate===!1){let p=s.fetcherKey||pD();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function gD(t,{relative:e}={}){let{basename:n}=oe.useContext(Er),i=oe.useContext(os);Wt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...of(t||".",{relative:e})},c=no();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Jr([n,o.pathname])),Tu(o)}function yD(t,{relative:e}={}){let n=oe.useContext(YE);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rT("useViewTransitionState"),s=of(t,{relative:e});if(!n.isTransitioning)return!1;let o=ts(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ts(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fd(s.pathname,c)!=null||Fd(s.pathname,o)!=null}const vD="/assets/about-0uFAPswR.png";var cy={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function xD(){if(Z1)return Zc;Z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:o}}return Zc.Fragment=e,Zc.jsx=n,Zc.jsxs=n,Zc}var K1;function bD(){return K1||(K1=1,cy.exports=xD()),cy.exports}var dv=bD();const sT=oe.createContext({});function aT(t){const e=oe.useRef(null);return e.current===null&&(e.current=t()),e.current}const R0=typeof window<"u",_D=R0?oe.useLayoutEffect:oe.useEffect,L0=oe.createContext(null);function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function D0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ns=(t,e,n)=>n>e?e:n<t?t:n;let P0=()=>{};const is={},oT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lT(t){return typeof t=="object"&&t!==null}const cT=t=>/^0[^.\s]+$/u.test(t);function N0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Di=t=>t,wD=(t,e)=>n=>e(t(n)),lf=(...t)=>t.reduce(wD),Au=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class B0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>D0(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=t=>t*1e3,Oi=t=>t/1e3;function uT(t,e){return e?t*(1e3/e):0}const fT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SD=1e-7,MD=12;function ED(t,e,n,i,s){let o,c,u=0;do c=e+(n-e)/2,o=fT(c,i,s)-t,o>0?n=c:e=c;while(Math.abs(o)>SD&&++u<MD);return c}function cf(t,e,n,i){if(t===e&&n===i)return Di;const s=o=>ED(o,0,1,t,n);return o=>o===0||o===1?o:fT(s(o),e,i)}const hT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),pT=cf(.33,1.53,.69,.99),z0=dT(pT),mT=hT(z0),gT=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),U0=t=>1-Math.sin(Math.acos(t)),yT=dT(U0),vT=hT(U0),TD=cf(.42,0,1,1),AD=cf(0,0,.58,1),xT=cf(.42,0,.58,1),CD=t=>Array.isArray(t)&&typeof t[0]!="number",bT=t=>Array.isArray(t)&&typeof t[0]=="number",RD={linear:Di,easeIn:TD,easeInOut:xT,easeOut:AD,circIn:U0,circInOut:vT,circOut:yT,backIn:z0,backInOut:mT,backOut:pT,anticipate:gT},LD=t=>typeof t=="string",Q1=t=>{if(bT(t)){P0(t.length===4);const[e,n,i,s]=t;return cf(e,n,i,s)}else if(LD(t))return RD[t];return t},Vh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OD(t,e){let n=new Set,i=new Set,s=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,m=!1,g=!1)=>{const x=g&&s?n:i;return m&&c.add(p),x.has(p)||x.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,h.process(p))}};return h}const DD=40;function _T(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Vh.reduce((R,D)=>(R[D]=OD(o),R),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:p,update:m,preRender:g,render:v,postRender:x}=c,S=()=>{const R=is.useManualTiming?s.timestamp:performance.now();n=!1,is.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(R-s.timestamp,DD),1)),s.timestamp=R,s.isProcessing=!0,u.process(s),f.process(s),h.process(s),p.process(s),m.process(s),g.process(s),v.process(s),x.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(S))},E=()=>{n=!0,i=!0,s.isProcessing||t(S)};return{schedule:Vh.reduce((R,D)=>{const C=c[D];return R[D]=(A,O=!1,z=!1)=>(n||E(),C.schedule(A,O,z)),R},{}),cancel:R=>{for(let D=0;D<Vh.length;D++)c[Vh[D]].cancel(R)},state:s,steps:c}}const{schedule:zt,cancel:rs,state:Tn,steps:uy}=_T(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0);let Nd;function PD(){Nd=void 0}const Jn={now:()=>(Nd===void 0&&Jn.set(Tn.isProcessing||is.useManualTiming?Tn.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(PD)}},wT=t=>e=>typeof e=="string"&&e.startsWith(t),H0=wT("--"),ND=wT("var(--"),V0=t=>ND(t)?BD.test(t.split("/*")[0].trim()):!1,BD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cu={...kl,transform:t=>ns(0,1,t)},Ih={...kl,default:1},du=t=>Math.round(t*1e5)/1e5,I0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zD(t){return t==null}const UD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F0=(t,e)=>n=>!!(typeof n=="string"&&UD.test(n)&&n.startsWith(t)||e&&!zD(n)&&Object.prototype.hasOwnProperty.call(n,e)),ST=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,c,u]=i.match(I0);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},HD=t=>ns(0,255,t),fy={...kl,transform:t=>Math.round(HD(t))},Ba={test:F0("rgb","red"),parse:ST("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+fy.transform(t)+", "+fy.transform(e)+", "+fy.transform(n)+", "+du(Cu.transform(i))+")"};function VD(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const pv={test:F0("#"),parse:VD,transform:Ba.transform},uf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=uf("deg"),yr=uf("%"),nt=uf("px"),ID=uf("vh"),FD=uf("vw"),J1={...yr,parse:t=>yr.parse(t)/100,transform:t=>yr.transform(t*100)},cl={test:F0("hsl","hue"),parse:ST("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+yr.transform(du(e))+", "+yr.transform(du(n))+", "+du(Cu.transform(i))+")"},an={test:t=>Ba.test(t)||pv.test(t)||cl.test(t),parse:t=>Ba.test(t)?Ba.parse(t):cl.test(t)?cl.parse(t):pv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ba.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=an.parse(t);return e.alpha=0,an.transform(e)}},kD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GD(t){return isNaN(t)&&typeof t=="string"&&(t.match(I0)?.length||0)+(t.match(kD)?.length||0)>0}const MT="number",ET="color",jD="var",WD="var(",$1="${}",qD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ru(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(qD,f=>(an.test(f)?(i.color.push(o),s.push(ET),n.push(an.parse(f))):f.startsWith(WD)?(i.var.push(o),s.push(jD),n.push(f)):(i.number.push(o),s.push(MT),n.push(parseFloat(f))),++o,$1)).split($1);return{values:n,split:u,indexes:i,types:s}}function TT(t){return Ru(t).values}function AT(t){const{split:e,types:n}=Ru(t),i=e.length;return s=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],s[c]!==void 0){const u=n[c];u===MT?o+=du(s[c]):u===ET?o+=an.transform(s[c]):o+=s[c]}return o}}const XD=t=>typeof t=="number"?0:an.test(t)?an.getAnimatableNone(t):t;function YD(t){const e=TT(t);return AT(t)(e.map(XD))}const Zs={test:GD,parse:TT,createTransformer:AT,getAnimatableNone:YD};function hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZD({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,c=0;if(!e)s=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;s=hy(f,u,t+1/3),o=hy(f,u,t),c=hy(f,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function kd(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,dy=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},KD=[pv,Ba,cl],QD=t=>KD.find(e=>e.test(t));function eS(t){const e=QD(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=ZD(n)),n}const tS=(t,e)=>{const n=eS(t),i=eS(e);if(!n||!i)return kd(t,e);const s={...n};return o=>(s.red=dy(n.red,i.red,o),s.green=dy(n.green,i.green,o),s.blue=dy(n.blue,i.blue,o),s.alpha=Gt(n.alpha,i.alpha,o),Ba.transform(s))},mv=new Set(["none","hidden"]);function JD(t,e){return mv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $D(t,e){return n=>Gt(t,e,n)}function k0(t){return typeof t=="number"?$D:typeof t=="string"?V0(t)?kd:an.test(t)?tS:nP:Array.isArray(t)?CT:typeof t=="object"?an.test(t)?tS:eP:kd}function CT(t,e){const n=[...t],i=n.length,s=t.map((o,c)=>k0(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=s[c](o);return n}}function eP(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=k0(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function tP(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],c=t.indexes[o][i[o]],u=t.values[c]??0;n[s]=u,i[o]++}return n}const nP=(t,e)=>{const n=Zs.createTransformer(e),i=Ru(t),s=Ru(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?mv.has(t)&&!s.values.length||mv.has(e)&&!i.values.length?JD(t,e):lf(CT(tP(i,s),s.values),n):kd(t,e)};function RT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):k0(t)(t,e)}const iP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>rs(e),now:()=>Tn.isProcessing?Tn.timestamp:Jn.now()}},LT=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Gd=2e4;function G0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Gd;)e+=n,i=t.next(e);return e>=Gd?1/0:e}function rP(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(G0(i),Gd);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:Oi(s)}}const sP=5;function OT(t,e,n){const i=Math.max(e-sP,0);return uT(n-t(i),e-i)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},py=.001;function aP({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:i=Qt.mass}){let s,o,c=1-e;c=ns(Qt.minDamping,Qt.maxDamping,c),t=ns(Qt.minDuration,Qt.maxDuration,Oi(t)),c<1?(s=h=>{const p=h*c,m=p*t,g=p-n,v=gv(h,c),x=Math.exp(-m);return py-g/v*x},o=h=>{const m=h*c*t,g=m*n+n,v=Math.pow(c,2)*Math.pow(h,2)*t,x=Math.exp(-m),S=gv(Math.pow(h,2),c);return(-s(h)+py>0?-1:1)*((g-v)*x)/S}):(s=h=>{const p=Math.exp(-h*t),m=(h-n)*t+1;return-py+p*m},o=h=>{const p=Math.exp(-h*t),m=(n-h)*(t*t);return p*m});const u=5/t,f=lP(s,o,u);if(t=gr(t),isNaN(f))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const h=Math.pow(f,2)*i;return{stiffness:h,damping:c*2*Math.sqrt(i*h),duration:t}}}const oP=12;function lP(t,e,n){let i=n;for(let s=1;s<oP;s++)i=i-t(i)/e(i);return i}function gv(t,e){return t*Math.sqrt(1-e*e)}const cP=["duration","bounce"],uP=["stiffness","damping","mass"];function nS(t,e){return e.some(n=>t[n]!==void 0)}function fP(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!nS(t,uP)&&nS(t,cP))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*ns(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Qt.mass,stiffness:s,damping:o}}else{const n=aP(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function jd(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:p,duration:m,velocity:g,isResolvedFromDuration:v}=fP({...n,velocity:-Oi(n.velocity||0)}),x=g||0,S=h/(2*Math.sqrt(f*p)),E=c-o,w=Oi(Math.sqrt(f/p)),b=Math.abs(E)<5;i||(i=b?Qt.restSpeed.granular:Qt.restSpeed.default),s||(s=b?Qt.restDelta.granular:Qt.restDelta.default);let R;if(S<1){const C=gv(w,S);R=A=>{const O=Math.exp(-S*w*A);return c-O*((x+S*w*E)/C*Math.sin(C*A)+E*Math.cos(C*A))}}else if(S===1)R=C=>c-Math.exp(-w*C)*(E+(x+w*E)*C);else{const C=w*Math.sqrt(S*S-1);R=A=>{const O=Math.exp(-S*w*A),z=Math.min(C*A,300);return c-O*((x+S*w*E)*Math.sinh(z)+C*E*Math.cosh(z))/C}}const D={calculatedDuration:v&&m||null,next:C=>{const A=R(C);if(v)u.done=C>=m;else{let O=C===0?x:0;S<1&&(O=C===0?gr(x):OT(R,C,A));const z=Math.abs(O)<=i,N=Math.abs(c-A)<=s;u.done=z&&N}return u.value=u.done?c:A,u},toString:()=>{const C=Math.min(G0(D),Gd),A=LT(O=>D.next(C*O).value,C,30);return C+"ms "+A},toTransition:()=>{}};return D}jd.applyToOptions=t=>{const e=rP(t,100,jd);return t.ease=e.ease,t.duration=gr(e.duration),t.type="keyframes",t};function yv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:p}){const m=t[0],g={done:!1,value:m},v=z=>u!==void 0&&z<u||f!==void 0&&z>f,x=z=>u===void 0?f:f===void 0||Math.abs(u-z)<Math.abs(f-z)?u:f;let S=n*e;const E=m+S,w=c===void 0?E:c(E);w!==E&&(S=w-m);const b=z=>-S*Math.exp(-z/i),R=z=>w+b(z),D=z=>{const N=b(z),P=R(z);g.done=Math.abs(N)<=h,g.value=g.done?w:P};let C,A;const O=z=>{v(g.value)&&(C=z,A=jd({keyframes:[g.value,x(g.value)],velocity:OT(R,z,g.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return O(0),{calculatedDuration:null,next:z=>{let N=!1;return!A&&C===void 0&&(N=!0,D(z),O(z)),C!==void 0&&z>=C?A.next(z-C):(!N&&D(z),g)}}}function hP(t,e,n){const i=[],s=n||is.mix||RT,o=t.length-1;for(let c=0;c<o;c++){let u=s(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Di:e;u=lf(f,u)}i.push(u)}return i}function dP(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(P0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=hP(e,i,s),f=u.length,h=p=>{if(c&&p<t[0])return e[0];let m=0;if(f>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const g=Au(t[m],t[m+1],p);return u[m](g)};return n?p=>h(ns(t[0],t[o-1],p)):h}function pP(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Au(0,e,i);t.push(Gt(n,1,s))}}function mP(t){const e=[0];return pP(e,t.length-1),e}function gP(t,e){return t.map(n=>n*e)}function yP(t,e){return t.map(()=>e||xT).splice(0,t.length-1)}function pu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=CD(i)?i.map(Q1):Q1(i),o={done:!1,value:e[0]},c=gP(n&&n.length===e.length?n:mP(e),t),u=dP(c,e,{ease:Array.isArray(s)?s:yP(e,s)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const vP=t=>t!==null;function j0(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(vP),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const xP={decay:yv,inertia:yv,tween:pu,keyframes:pu,spring:jd};function DT(t){typeof t.type=="string"&&(t.type=xP[t.type])}class W0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bP=t=>t/100;class q0 extends W0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DT(e);const{type:n=pu,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const f=n||pu;f!==pu&&typeof u[0]!="number"&&(this.mixKeyframes=lf(bP,RT(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=G0(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:m,repeatType:g,repeatDelay:v,type:x,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,D=i;if(m){const z=Math.min(this.currentTime,s)/u;let N=Math.floor(z),P=z%1;!P&&z>=1&&(P=1),P===1&&N--,N=Math.min(N,m+1),!!(N%2)&&(g==="reverse"?(P=1-P,v&&(P-=v/u)):g==="mirror"&&(D=c)),R=ns(0,1,P)*u}const C=b?{done:!1,value:p[0]}:D.next(R);o&&(C.value=o(C.value));let{done:A}=C;!b&&f!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&x!==yv&&(C.value=j0(p,this.options,E,this.speed)),S&&S(C.value),O&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){e=gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=iP,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _P(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const za=t=>t*180/Math.PI,vv=t=>{const e=za(Math.atan2(t[1],t[0]));return xv(e)},wP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vv,rotateZ:vv,skewX:t=>za(Math.atan(t[1])),skewY:t=>za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xv=t=>(t=t%360,t<0&&(t+=360),t),iS=vv,rS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rS,scaleY:sS,scale:t=>(rS(t)+sS(t))/2,rotateX:t=>xv(za(Math.atan2(t[6],t[5]))),rotateY:t=>xv(za(Math.atan2(-t[2],t[0]))),rotateZ:iS,rotate:iS,skewX:t=>za(Math.atan(t[4])),skewY:t=>za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bv(t){return t.includes("scale")?1:0}function _v(t,e){if(!t||t==="none")return bv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=SP,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=wP,s=u}if(!s)return bv(e);const o=i[e],c=s[1].split(",").map(EP);return typeof o=="function"?o(c):c[o]}const MP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return _v(n,e)};function EP(t){return parseFloat(t.trim())}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Gl),aS=t=>t===kl||t===nt,TP=new Set(["x","y","z"]),AP=Gl.filter(t=>!TP.has(t));function CP(t){const e=[];return AP.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_v(e,"x"),y:(t,{transform:e})=>_v(e,"y")};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const Fa=new Set;let wv=!1,Sv=!1,Mv=!1;function PT(){if(Sv){const t=Array.from(Fa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=CP(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sv=!1,wv=!1,Fa.forEach(t=>t.complete(Mv)),Fa.clear()}function NT(){Fa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sv=!0)})}function RP(){Mv=!0,NT(),PT(),Mv=!1}class X0{constructor(e,n,i,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fa.add(this),wv||(wv=!0,zt.read(NT),zt.resolveKeyframes(PT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const u=i.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}_P(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fa.delete(this)}cancel(){this.state==="scheduled"&&(Fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LP=t=>t.startsWith("--");function OP(t,e,n){LP(e)?t.style.setProperty(e,n):t.style[e]=n}const DP=N0(()=>window.ScrollTimeline!==void 0),PP={};function NP(t,e){const n=N0(t);return()=>PP[e]??n()}const BT=NP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,oS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function zT(t,e){if(t)return typeof t=="function"?BT()?LT(t,e):"ease-out":bT(t)?fu(t):Array.isArray(t)?t.map(n=>zT(n,e)||oS.easeOut):oS[t]}function BP(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const p={[e]:n};f&&(p.offset=f);const m=zT(u,s);Array.isArray(m)&&(p.easing=m);const g={delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(p,g)}function UT(t){return typeof t=="function"&&"applyToOptions"in t}function zP({type:t,...e}){return UT(t)&&BT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UP extends W0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,P0(typeof e.type!="string");const h=zP(e);this.animation=BP(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=j0(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):OP(n,i,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&DP()?(this.animation.timeline=e,Di):n(this)}}const HT={anticipate:gT,backInOut:mT,circInOut:vT};function HP(t){return t in HT}function VP(t){typeof t.ease=="string"&&HP(t.ease)&&(t.ease=HT[t.ease])}const lS=10;class IP extends UP{constructor(e){VP(e),DT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new q0({...c,autoplay:!1}),f=gr(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-lS).value,u.sample(f).value,lS),u.stop()}}const cS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zs.test(t)||t==="0")&&!t.startsWith("url("));function FP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kP(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=cS(s,e),u=cS(o,e);return!c||!u?!1:FP(t)||(n==="spring"||UT(n))&&i}function Ev(t){t.duration=0,t.type="keyframes"}const GP=new Set(["opacity","clipPath","filter","transform"]),jP=N0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WP(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return jP()&&n&&GP.has(n)&&(n!=="transform"||!h)&&!f&&!i&&s!=="mirror"&&o!==0&&c!=="inertia"}const qP=40;class XP extends W0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Jn.now();const g={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:c,name:f,motionValue:h,element:p,...m},v=p?.KeyframeResolver||X0;this.keyframeResolver=new v(u,(x,S,E)=>this.onKeyframesResolved(x,S,g,!E),f,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:p}=i;this.resolvedAt=Jn.now(),kP(e,o,c,u)||((is.instantAnimations||!f)&&p?.(j0(e,i,n)),e[0]=e[e.length-1],Ev(i),i.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>qP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},v=!h&&WP(g)?new IP({...g,element:g.motionValue.owner.current}):new q0(g);v.finished.then(()=>this.notifyFinished()).catch(Di),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZP(t){const e=YP.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function VT(t,e,n=1){const[i,s]=ZP(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return oT(c)?parseFloat(c):c}return V0(s)?VT(s,e,n+1):s}function Y0(t,e){return t?.[e]??t?.default??t}const IT=new Set(["width","height","top","left","right","bottom",...Gl]),KP={test:t=>t==="auto",parse:t=>t},FT=t=>e=>e.test(t),kT=[kl,nt,yr,ks,FD,ID,KP],uS=t=>kT.find(FT(t));function QP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cT(t):!0}const JP=new Set(["brightness","contrast","saturate","opacity"]);function $P(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(I0)||[];if(!i)return t;const s=n.replace(i,"");let o=JP.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const eN=/\b([a-z-]*)\(.*?\)/gu,Tv={...Zs,getAnimatableNone:t=>{const e=t.match(eN);return e?e.map($P).join(" "):t}},fS={...kl,transform:Math.round},tN={rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:ks,skewX:ks,skewY:ks,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:Cu,originX:J1,originY:J1,originZ:nt},Z0={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt,...tN,zIndex:fS,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:fS},nN={...Z0,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Tv,WebkitFilter:Tv},GT=t=>nN[t];function jT(t,e){let n=GT(t);return n!==Tv&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iN=new Set(["auto","none","0"]);function rN(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!iN.has(o)&&Ru(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=jT(n,s)}class sN extends X0{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),V0(h))){const p=VT(h,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!IT.has(i)||e.length!==2)return;const[s,o]=e,c=uS(s),u=uS(o);if(c!==u)if(aS(c)&&aS(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else Ia[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||QP(e[s]))&&i.push(s);i.length&&rN(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=Ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function aN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const WT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oN(t){return lT(t)&&"offsetHeight"in t}const hS=30,lN=t=>!isNaN(parseFloat(t));class cN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Jn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const i=this.events[e].add(n);return e==="change"?()=>{i(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hS);return uT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(t,e){return new cN(t,e)}const{schedule:K0}=_T(queueMicrotask,!1),Yi={x:!1,y:!1};function qT(){return Yi.x||Yi.y}function uN(t){return t==="x"||t==="y"?Yi[t]?null:(Yi[t]=!0,()=>{Yi[t]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}function XT(t,e){const n=aN(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function dS(t){return!(t.pointerType==="touch"||qT())}function fN(t,e,n={}){const[i,s,o]=XT(t,n),c=u=>{if(!dS(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const p=m=>{dS(m)&&(h(m),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",c,s)}),o}const YT=(t,e)=>e?t===e?!0:YT(t,e.parentElement):!1,Q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dN(t){return hN.has(t.tagName)||t.tabIndex!==-1}const Bd=new WeakSet;function pS(t){return e=>{e.key==="Enter"&&t(e)}}function my(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pN=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=pS(()=>{if(Bd.has(n))return;my(n,"down");const s=pS(()=>{my(n,"up")}),o=()=>my(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function mS(t){return Q0(t)&&!qT()}function mN(t,e,n={}){const[i,s,o]=XT(t,n),c=u=>{const f=u.currentTarget;if(!mS(u))return;Bd.add(f);const h=e(f,u),p=(v,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Bd.has(f)&&Bd.delete(f),mS(v)&&typeof h=="function"&&h(v,{success:x})},m=v=>{p(v,f===window||f===document||n.useGlobalTarget||YT(f,v.target))},g=v=>{p(v,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",g,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),oN(u)&&(u.addEventListener("focus",h=>pN(h,s)),!dN(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function ZT(t){return lT(t)&&"ownerSVGElement"in t}function gN(t){return ZT(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),yN=[...kT,an,Zs],vN=t=>yN.find(FT(t)),Lp=oe.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xN(t=!0){const e=oe.useContext(L0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=oe.useId();oe.useEffect(()=>{if(t)return s(o)},[t]);const c=oe.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const KT=oe.createContext({strict:!1}),gS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in gS)Sl[t]={isEnabled:e=>gS[t].some(n=>!!e[n])};function bN(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const _N=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_N.has(t)}let QT=t=>!Wd(t);function wN(t){typeof t=="function"&&(QT=e=>e.startsWith("on")?!Wd(e):t(e))}try{wN(require("@emotion/is-prop-valid").default)}catch{}function SN(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(QT(s)||n===!0&&Wd(s)||!e&&!Wd(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Op=oe.createContext({});function Dp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lu(t){return typeof t=="string"||Array.isArray(t)}const J0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$0=["initial",...J0];function Pp(t){return Dp(t.animate)||$0.some(e=>Lu(t[e]))}function JT(t){return!!(Pp(t)||t.variants)}function MN(t,e){if(Pp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Lu(n)?n:void 0,animate:Lu(i)?i:void 0}}return t.inherit!==!1?e:{}}function EN(t){const{initial:e,animate:n}=MN(t,oe.useContext(Op));return oe.useMemo(()=>({initial:e,animate:n}),[yS(e),yS(n)])}function yS(t){return Array.isArray(t)?t.join(" "):t}const Ou={};function TN(t){for(const e in t)Ou[e]=t[e],H0(e)&&(Ou[e].isCSSVariable=!0)}function $T(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ou[t]||t==="opacity")}const AN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CN=Gl.length;function RN(t,e,n){let i="",s=!0;for(let o=0;o<CN;o++){const c=Gl[o],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const h=WT(u,Z0[c]);if(!f){s=!1;const p=AN[c]||c;i+=`${p}(${h}) `}n&&(e[c]=h)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function ex(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let c=!1,u=!1;for(const f in e){const h=e[f];if(jl.has(f)){c=!0;continue}else if(H0(f)){s[f]=h;continue}else{const p=WT(h,Z0[f]);f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}}if(e.transform||(c||n?i.transform=RN(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${h} ${p}`}}const tx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eA(t,e,n){for(const i in e)!Pn(e[i])&&!$T(i,n)&&(t[i]=e[i])}function LN({transformTemplate:t},e){return oe.useMemo(()=>{const n=tx();return ex(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ON(t,e){const n=t.style||{},i={};return eA(i,n,t),Object.assign(i,LN(t,e)),i}function DN(t,e){const n={},i=ON(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const PN={offset:"stroke-dashoffset",array:"stroke-dasharray"},NN={offset:"strokeDashoffset",array:"strokeDasharray"};function BN(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?PN:NN;t[o.offset]=nt.transform(-i);const c=nt.transform(e),u=nt.transform(n);t[o.array]=`${c} ${u}`}function tA(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},f,h,p){if(ex(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),s!==void 0&&BN(m,s,o,c,!1)}const nA=()=>({...tx(),attrs:{}}),iA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zN(t,e,n,i){const s=oe.useMemo(()=>{const o=nA();return tA(o,e,iA(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};eA(o,t.style,t),s.style={...o,...s.style}}return s}const UN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nx(t){return typeof t!="string"||t.includes("-")?!1:!!(UN.indexOf(t)>-1||/[A-Z]/u.test(t))}function HN(t,e,n,{latestValues:i},s,o=!1){const u=(nx(t)?zN:DN)(e,i,s,t),f=SN(e,typeof t=="string",o),h=t!==oe.Fragment?{...f,...u,ref:n}:{},{children:p}=e,m=oe.useMemo(()=>Pn(p)?p.get():p,[p]);return oe.createElement(t,{...h,children:m})}function vS(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ix(t,e,n,i){if(typeof e=="function"){const[s,o]=vS(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=vS(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function zd(t){return Pn(t)?t.get():t}function VN({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:IN(n,i,s,t),renderState:e()}}function IN(t,e,n,i){const s={},o=i(t,{});for(const g in o)s[g]=zd(o[g]);let{initial:c,animate:u}=t;const f=Pp(t),h=JT(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const m=p?u:c;if(m&&typeof m!="boolean"&&!Dp(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const x=ix(t,g[v]);if(x){const{transitionEnd:S,transition:E,...w}=x;for(const b in w){let R=w[b];if(Array.isArray(R)){const D=p?R.length-1:0;R=R[D]}R!==null&&(s[b]=R)}for(const b in S)s[b]=S[b]}}}return s}const rA=t=>(e,n)=>{const i=oe.useContext(Op),s=oe.useContext(L0),o=()=>VN(t,e,i,s);return n?o():aT(o)};function rx(t,e,n){const{style:i}=t,s={};for(const o in i)(Pn(i[o])||e.style&&Pn(e.style[o])||$T(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const FN=rA({scrapeMotionValuesFromProps:rx,createRenderState:tx});function sA(t,e,n){const i=rx(t,e,n);for(const s in t)if(Pn(t[s])||Pn(e[s])){const o=Gl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const kN=rA({scrapeMotionValuesFromProps:sA,createRenderState:nA}),GN=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jN(t,e,n){return oe.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ul(n)&&(n.current=i))},[e])}const sx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WN="framerAppearId",aA="data-"+sx(WN),oA=oe.createContext({});function qN(t,e,n,i,s){const{visualElement:o}=oe.useContext(Op),c=oe.useContext(KT),u=oe.useContext(L0),f=oe.useContext(Lp).reducedMotion,h=oe.useRef(null);i=i||c.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,m=oe.useContext(oA);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&XN(h.current,n,s,m);const g=oe.useRef(!1);oe.useInsertionEffect(()=>{p&&g.current&&p.update(n,u)});const v=n[aA],x=oe.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return _D(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),x.current&&p.animationState&&p.animationState.animateChanges())}),oe.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),p.enteringChildren=void 0)}),p}function XN(t,e,n,i){const{layoutId:s,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||u&&ul(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:f,layoutRoot:h})}function lA(t){if(t)return t.options.allowProjection!==!1?t.projection:lA(t.parent)}function gy(t,{forwardMotionProps:e=!1}={},n,i){n&&bN(n);const s=nx(t)?kN:FN;function o(u,f){let h;const p={...oe.useContext(Lp),...u,layoutId:YN(u)},{isStatic:m}=p,g=EN(u),v=s(u,m);if(!m&&R0){ZN();const x=KN(p);h=x.MeasureLayout,g.visualElement=qN(t,v,p,i,x.ProjectionNode)}return dv.jsxs(Op.Provider,{value:g,children:[h&&g.visualElement?dv.jsx(h,{visualElement:g.visualElement,...p}):null,HN(t,u,jN(v,g.visualElement,f),v,m,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=oe.forwardRef(o);return c[GN]=t,c}function YN({layoutId:t}){const e=oe.useContext(sT).id;return e&&t!==void 0?e+"-"+t:t}function ZN(t,e){oe.useContext(KT).strict}function KN(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function QN(t,e){if(typeof Proxy>"u")return gy;const n=new Map,i=(o,c)=>gy(o,c,t,e),s=(o,c)=>i(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?i:(n.has(c)||n.set(c,gy(c,void 0,t,e)),n.get(c))})}function cA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function JN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $N(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function yy(t){return t===void 0||t===1}function Av({scale:t,scaleX:e,scaleY:n}){return!yy(t)||!yy(e)||!yy(n)}function Da(t){return Av(t)||uA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uA(t){return xS(t.x)||xS(t.y)}function xS(t){return t&&t!=="0%"}function qd(t,e,n){const i=t-n,s=e*i;return n+s}function bS(t,e,n,i,s){return s!==void 0&&(t=qd(t,s,i)),qd(t,n,i)+e}function Cv(t,e=0,n=1,i,s){t.min=bS(t.min,e,n,i,s),t.max=bS(t.max,e,n,i,s)}function fA(t,{x:e,y:n}){Cv(t.x,e.translate,e.scale,e.originPoint),Cv(t.y,n.translate,n.scale,n.originPoint)}const _S=.999999999999,wS=1.0000000000001;function eB(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,c;for(let u=0;u<s;u++){o=n[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,fA(t,c)),i&&Da(o.latestValues)&&hl(t,o.latestValues))}e.x<wS&&e.x>_S&&(e.x=1),e.y<wS&&e.y>_S&&(e.y=1)}function fl(t,e){t.min=t.min+e,t.max=t.max+e}function SS(t,e,n,i,s=.5){const o=Gt(t.min,t.max,s);Cv(t,e,n,o,i)}function hl(t,e){SS(t.x,e.x,e.scaleX,e.scale,e.originX),SS(t.y,e.y,e.scaleY,e.scale,e.originY)}function hA(t,e){return cA($N(t.getBoundingClientRect(),e))}function tB(t,e,n){const i=hA(t,n),{scroll:s}=e;return s&&(fl(i.x,s.offset.x),fl(i.y,s.offset.y)),i}const MS=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:MS(),y:MS()}),ES=()=>({min:0,max:0}),tn=()=>({x:ES(),y:ES()}),Rv={current:null},dA={current:!1};function nB(){if(dA.current=!0,!!R0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rv.current=t.matches;t.addEventListener("change",e),e()}else Rv.current=!1}const iB=new WeakMap;function rB(t,e,n){for(const i in e){const s=e[i],o=n[i];if(Pn(s))t.addValue(i,s);else if(Pn(o))t.addValue(i,ja(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=t.getStaticValue(i);t.addValue(i,ja(c!==void 0?c:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=X0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Jn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Pp(n),this.isVariantNode=JT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const v=m[g];f[g]!==void 0&&Pn(v)&&v.set(f[g])}}mount(e){this.current=e,iB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),dA.current||nB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=jl.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<TS.length;i++){const s=TS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=e[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=rB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ja(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(oT(i)||cT(i))?i=parseFloat(i):!vN(i)&&Zs.test(n)&&(i=jT(e,n)),this.setBaseTarget(e,Pn(i)?i.get():i)),Pn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=ix(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){K0.render(this.render)}}class pA extends sB{constructor(){super(...arguments),this.KeyframeResolver=sN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mA(t,{style:e,vars:n},i,s){const o=t.style;let c;for(c in e)o[c]=e[c];s?.applyProjectionStyles(o,i);for(c in n)o.setProperty(c,n[c])}function aB(t){return window.getComputedStyle(t)}class oB extends pA{constructor(){super(...arguments),this.type="html",this.renderInstance=mA}readValueFromInstance(e,n){if(jl.has(n))return this.projection?.isProjecting?bv(n):MP(e,n);{const i=aB(e),s=(H0(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hA(e,n)}build(e,n,i){ex(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return rx(e,n,i)}}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lB(t,e,n,i){mA(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(gA.has(s)?s:sx(s),e.attrs[s])}class cB extends pA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const i=GT(n);return i&&i.default||0}return n=gA.has(n)?n:sx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return sA(e,n,i)}build(e,n,i){tA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){lB(e,n,i,s)}mount(e){this.isSVGTag=iA(e.tagName),super.mount(e)}}const uB=(t,e)=>nx(t)?new cB(e):new oB(e,{allowProjection:t!==oe.Fragment});function xl(t,e,n){const i=t.getProps();return ix(i,e,n!==void 0?n:i.custom,t)}const Lv=t=>Array.isArray(t);function fB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ja(n))}function hB(t){return Lv(t)?t[t.length-1]||0:t}function dB(t,e){const n=xl(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const c in o){const u=hB(o[c]);fB(t,c,u)}}function pB(t){return!!(Pn(t)&&t.add)}function Ov(t,e){const n=t.getValue("willChange");if(pB(n))return n.add(e);if(!n&&is.WillChange){const i=new is.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function yA(t){return t.props[aA]}const mB=t=>t!==null;function gB(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(mB),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const yB={type:"spring",stiffness:500,damping:25,restSpeed:10},vB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xB={type:"keyframes",duration:.8},bB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_B=(t,{keyframes:e})=>e.length>2?xB:jl.has(t)?t.startsWith("scale")?vB(e[1]):yB:bB;function wB({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const ax=(t,e,n,i={},s,o)=>c=>{const u=Y0(i,t)||{},f=u.delay||i.delay||0;let{elapsed:h=0}=i;h=h-gr(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};wB(u)||Object.assign(p,_B(t,p)),p.duration&&(p.duration=gr(p.duration)),p.repeatDelay&&(p.repeatDelay=gr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Ev(p),p.delay===0&&(m=!0)),(is.instantAnimations||is.skipAnimations)&&(m=!0,Ev(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!o&&e.get()!==void 0){const g=gB(p.keyframes,u);if(g!==void 0){zt.update(()=>{p.onUpdate(g),p.onComplete()});return}}return u.isSync?new q0(p):new XP(p)};function SB({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function vA(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;i&&(o=i);const f=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const m=t.getValue(p,t.latestValues[p]??null),g=u[p];if(g===void 0||h&&SB(h,p))continue;const v={delay:n,...Y0(o||{},p)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=yA(t);if(w){const b=window.MotionHandoffAnimation(w,p,zt);b!==null&&(v.startTime=b,S=!0)}}Ov(t,p),m.start(ax(p,m,g,t.shouldReduceMotion&&IT.has(p)?{type:!1}:v,t,S));const E=m.animation;E&&f.push(E)}return c&&Promise.all(f).then(()=>{zt.update(()=>{c&&dB(t,c)})}),f}function xA(t,e,n,i=0,s=1){const o=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),c=t.size,u=(c-1)*i;return typeof n=="function"?n(o,c):s===1?o*i:u-o*i}function Dv(t,e,n={}){const i=xl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(vA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=s;return MB(t,e,f,h,p,m,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,h]=u==="beforeChildren"?[o,c]:[c,o];return f().then(()=>h())}else return Promise.all([o(),c(n.delay)])}function MB(t,e,n=0,i=0,s=0,o=1,c){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Dv(f,e,{...c,delay:n+(typeof i=="function"?0:i)+xA(t.variantChildren,f,i,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function EB(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Dv(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=Dv(t,e,n);else{const s=typeof e=="function"?xl(t,e,n.custom):e;i=Promise.all(vA(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function bA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const TB=$0.length;function _A(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_A(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TB;n++){const i=$0[n],s=t.props[i];(Lu(s)||s===!1)&&(e[i]=s)}return e}const AB=[...J0].reverse(),CB=J0.length;function RB(t){return e=>Promise.all(e.map(({animation:n,options:i})=>EB(t,n,i)))}function LB(t){let e=RB(t),n=AS(),i=!0;const s=f=>(h,p)=>{const m=xl(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:v,...x}=m;h={...h,...x,...v}}return h};function o(f){e=f(t)}function c(f){const{props:h}=t,p=_A(t.parent)||{},m=[],g=new Set;let v={},x=1/0;for(let E=0;E<CB;E++){const w=AB[E],b=n[w],R=h[w]!==void 0?h[w]:p[w],D=Lu(R),C=w===f?b.isActive:null;C===!1&&(x=E);let A=R===p[w]&&R!==h[w]&&D;if(A&&i&&t.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...v},!b.isActive&&C===null||!R&&!b.prevProp||Dp(R)||typeof R=="boolean")continue;const O=OB(b.prevProp,R);let z=O||w===f&&b.isActive&&!A&&D||E>x&&D,N=!1;const P=Array.isArray(R)?R:[R];let G=P.reduce(s(w),{});C===!1&&(G={});const{prevResolvedValues:W={}}=b,I={...W,...G},k=T=>{z=!0,g.has(T)&&(N=!0,g.delete(T)),b.needsAnimating[T]=!0;const re=t.getValue(T);re&&(re.liveStyle=!1)};for(const T in I){const re=G[T],Y=W[T];if(v.hasOwnProperty(T))continue;let M=!1;Lv(re)&&Lv(Y)?M=!bA(re,Y):M=re!==Y,M?re!=null?k(T):g.add(T):re!==void 0&&g.has(T)?k(T):b.protectedKeys[T]=!0}b.prevProp=R,b.prevResolvedValues=G,b.isActive&&(v={...v,...G}),i&&t.blockInitialAnimation&&(z=!1);const j=A&&O;z&&(!j||N)&&m.push(...P.map(T=>{const re={type:w};if(typeof T=="string"&&i&&!j&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,M=xl(Y,T);if(Y.enteringChildren&&M){const{delayChildren:B}=M.transition||{};re.delay=xA(Y.enteringChildren,t,B)}}return{animation:T,options:re}}))}if(g.size){const E={};if(typeof h.initial!="boolean"){const w=xl(t,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(E.transition=w.transition)}g.forEach(w=>{const b=t.getBaseTarget(w),R=t.getValue(w);R&&(R.liveStyle=!0),E[w]=b??null}),m.push({animation:E})}let S=!!m.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(m):Promise.resolve()}function u(f,h){if(n[f].isActive===h)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(f,h)),n[f].isActive=h;const p=c(f);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=AS(),i=!0}}}function OB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bA(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AS(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DB extends sa{constructor(e){super(e),e.animationState||(e.animationState=LB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PB=0;class NB extends sa{constructor(){super(...arguments),this.id=PB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BB={animation:{Feature:DB},exit:{Feature:NB}};function Du(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ff(t){return{point:{x:t.pageX,y:t.pageY}}}const zB=t=>e=>Q0(e)&&t(e,ff(e));function mu(t,e,n,i){return Du(t,e,zB(n),i)}const wA=1e-4,UB=1-wA,HB=1+wA,SA=.01,VB=0-SA,IB=0+SA;function Fn(t){return t.max-t.min}function FB(t,e,n){return Math.abs(t-e)<=n}function CS(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UB&&t.scale<=HB||isNaN(t.scale))&&(t.scale=1),(t.translate>=VB&&t.translate<=IB||isNaN(t.translate))&&(t.translate=0)}function gu(t,e,n,i){CS(t.x,e.x,n.x,i?i.originX:void 0),CS(t.y,e.y,n.y,i?i.originY:void 0)}function RS(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function kB(t,e,n){RS(t.x,e.x,n.x),RS(t.y,e.y,n.y)}function LS(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function yu(t,e,n){LS(t.x,e.x,n.x),LS(t.y,e.y,n.y)}function Ri(t){return[t("x"),t("y")]}const MA=({current:t})=>t?t.ownerDocument.defaultView:null,OS=(t,e)=>Math.abs(t-e);function GB(t,e){const n=OS(t.x,e.x),i=OS(t.y,e.y);return Math.sqrt(n**2+i**2)}class EA{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xy(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=GB(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:S}=g,{timestamp:E}=Tn;this.history.push({...S,timestamp:E});const{onStart:w,onMove:b}=this.handlers;v||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vy(v,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xy(g.type==="pointercancel"?this.lastMoveEventInfo:vy(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,w),S&&S(g,w)},!Q0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const u=ff(e),f=vy(u,this.transformPagePoint),{point:h}=f,{timestamp:p}=Tn;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,xy(f,this.history)),this.removeListeners=lf(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function DS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xy({point:t},e){return{point:t,delta:DS(t,TA(e)),offset:DS(t,jB(e)),velocity:WB(e,.1)}}function jB(t){return t[0]}function TA(t){return t[t.length-1]}function WB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=TA(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>gr(e)));)n--;if(!i)return{x:0,y:0};const o=Oi(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qB(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function PS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XB(t,{top:e,left:n,bottom:i,right:s}){return{x:PS(t.x,n,s),y:PS(t.y,e,i)}}function NS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function YB(t,e){return{x:NS(t.x,e.x),y:NS(t.y,e.y)}}function ZB(t,e){let n=.5;const i=Fn(t),s=Fn(e);return s>i?n=Au(e.min,e.max-i,t.min):i>s&&(n=Au(t.min,t.max-s,e.min)),ns(0,1,n)}function KB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pv=.35;function QB(t=Pv){return t===!1?t=0:t===!0&&(t=Pv),{x:BS(t,"left","right"),y:BS(t,"top","bottom")}}function BS(t,e,n){return{min:zS(t,e),max:zS(t,n)}}function zS(t,e){return typeof t=="number"?t:t[e]||0}const JB=new WeakMap;class $B{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ff(m).point)},c=(m,g)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uN(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(w=>{let b=this.getAxisMotionValue(w).get()||0;if(yr.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[w];D&&(b=Fn(D)*(parseFloat(b)/100))}}this.originPoint[w]=b}),S&&zt.postRender(()=>S(m,g)),Ov(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=g;if(x&&this.currentDirection===null){this.currentDirection=ez(w),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,w),this.updateAxis("y",g.point,w),this.visualElement.render(),E&&E(m,g)},f=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ri(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new EA(e,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:MA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&zt.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Fh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=qB(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=XB(i.layoutBox,e):this.constraints=!1,this.elastic=QB(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ri(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=tB(i,s.root,this.visualElement.getTransformPagePoint());let c=YB(s.layout.layoutBox,o);if(n){const u=n(JN(c));this.hasMutatedConstraints=!!u,u&&(c=cA(u))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Ri(p=>{if(!Fh(p,n,this.currentDirection))return;let m=f&&f[p]||{};c&&(m={min:0,max:0});const g=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:i?e[p]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,x)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ov(this.visualElement,e),i.start(ax(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ri(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ri(n=>{const{drag:i}=this.getProps();if(!Fh(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[n];o.set(e[n]-Gt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ul(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ri(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();s[c]=ZB({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ri(c=>{if(!Fh(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Gt(f,h,s[c]))})}addListeners(){if(!this.visualElement.current)return;JB.set(this.visualElement,this);const e=this.visualElement.current,n=mu(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ul(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zt.read(i);const c=Du(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ri(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=f[p].translate,m.set(m.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=Pv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ez(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tz extends sa{constructor(e){super(e),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new $B(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}unmount(){this.removeGroupControls(),this.removeListeners()}}const US=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class nz extends sa{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:US(e),onStart:US(n),onMove:i,onEnd:(o,c)=>{delete this.session,s&&zt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(nt.test(t))t=parseFloat(t);else return t;const n=HS(t,e.target.x),i=HS(t,e.target.y);return`${n}% ${i}%`}},iz={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Zs.parse(t);if(s.length>5)return i;const o=Zs.createTransformer(t),c=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;s[0+c]/=u,s[1+c]/=f;const h=Gt(u,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=h),typeof s[3+c]=="number"&&(s[3+c]/=h),o(s)}};let by=!1;class rz extends oe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;TN(sz),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),by&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,by=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||zt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),K0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;by=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AA(t){const[e,n]=xN(),i=oe.useContext(sT);return dv.jsx(rz,{...t,layoutGroup:i,switchLayoutGroup:oe.useContext(oA),isPresent:e,safeToRemove:n})}const sz={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:iz};function az(t,e,n){const i=Pn(t)?t:ja(t);return i.start(ax("",i,e,n)),i.animation}const oz=(t,e)=>t.depth-e.depth;class lz{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){D0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oz),this.isDirty=!1,this.children.forEach(e)}}function cz(t,e){const n=Jn.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(rs(i),t(o-e))};return zt.setup(i,!0),()=>rs(i)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],uz=CA.length,VS=t=>typeof t=="string"?parseFloat(t):t,IS=t=>typeof t=="number"||nt.test(t);function fz(t,e,n,i,s,o){s?(t.opacity=Gt(0,n.opacity??1,hz(i)),t.opacityExit=Gt(e.opacity??1,0,dz(i))):o&&(t.opacity=Gt(e.opacity??1,n.opacity??1,i));for(let c=0;c<uz;c++){const u=`border${CA[c]}Radius`;let f=FS(e,u),h=FS(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||IS(f)===IS(h)?(t[u]=Math.max(Gt(VS(f),VS(h),i),0),(yr.test(h)||yr.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function FS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hz=RA(0,.5,yT),dz=RA(.5,.95,Di);function RA(t,e,n){return i=>i<t?0:i>e?1:n(Au(t,e,i))}function kS(t,e){t.min=e.min,t.max=e.max}function Ci(t,e){kS(t.x,e.x),kS(t.y,e.y)}function GS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function jS(t,e,n,i,s){return t-=e,t=qd(t,1/n,i),s!==void 0&&(t=qd(t,1/s,i)),t}function pz(t,e=0,n=1,i=.5,s,o=t,c=t){if(yr.test(e)&&(e=parseFloat(e),e=Gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Gt(o.min,o.max,i);t===o&&(u-=e),t.min=jS(t.min,e,n,u,s),t.max=jS(t.max,e,n,u,s)}function WS(t,e,[n,i,s],o,c){pz(t,e[n],e[i],e[s],e.scale,o,c)}const mz=["x","scaleX","originX"],gz=["y","scaleY","originY"];function qS(t,e,n,i){WS(t.x,e,mz,n?n.x:void 0,i?i.x:void 0),WS(t.y,e,gz,n?n.y:void 0,i?i.y:void 0)}function XS(t){return t.translate===0&&t.scale===1}function LA(t){return XS(t.x)&&XS(t.y)}function YS(t,e){return t.min===e.min&&t.max===e.max}function yz(t,e){return YS(t.x,e.x)&&YS(t.y,e.y)}function ZS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OA(t,e){return ZS(t.x,e.x)&&ZS(t.y,e.y)}function KS(t){return Fn(t.x)/Fn(t.y)}function QS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vz{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(D0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xz(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((s||o||c)&&(i=`translate3d(${s}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:g,skewX:v,skewY:x}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),m&&(i+=`rotateX(${m}deg) `),g&&(i+=`rotateY(${g}deg) `),v&&(i+=`skewX(${v}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const _y=["","X","Y","Z"],bz=1e3;let _z=0;function wy(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function DA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&DA(i)}function PA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},u=e?.()){this.id=_z++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mz),this.nodes.forEach(Cz),this.nodes.forEach(Rz),this.nodes.forEach(Ez)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new lz)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new B0),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ZT(c)&&!gN(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,m=0;const g=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{m=window.innerWidth}),t(c,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=cz(g,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(eM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||Nz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=h.getProps(),w=!this.targetLayout||!OA(this.targetLayout,v),b=!m&&g;if(this.options.layoutRoot||this.resumeFrom||b||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Y0(x,"layout"),onPlay:S,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,b)}else m||eM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($S);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Az),this.nodes.forEach(wz),this.nodes.forEach(Sz)):this.nodes.forEach($S),this.clearAllSnapshots();const u=Jn.now();Tn.delta=ns(0,1e3/60,u-Tn.timestamp),Tn.timestamp=u,Tn.isProcessing=!0,uy.update.process(Tn),uy.preRender.process(Tn),uy.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,K0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tz),this.sharedNodes.forEach(Oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!LA(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||Da(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),Bz(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return tn();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zz))){const{scroll:h}=this.root;h&&(fl(u.x,h.offset.x),fl(u.y,h.offset.y))}return u}removeElementScroll(c){const u=tn();if(Ci(u,c),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ci(u,c),fl(u.x,p.offset.x),fl(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const f=tn();Ci(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&hl(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Da(p.latestValues)&&hl(f,p.latestValues)}return Da(this.latestValues)&&hl(f,this.latestValues),f}removeTransform(c){const u=tn();Ci(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Da(h.latestValues))continue;Av(h.latestValues)&&h.updateSnapshot();const p=tn(),m=h.measurePageBox();Ci(p,m),qS(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Da(this.latestValues)&&qS(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),yu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),fA(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),yu(this.relativeTargetOrigin,this.target,g.target),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Av(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Ci(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;eB(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tn());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GS(this.prevProjectionDelta.x,this.projectionDelta.x),GS(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!QS(this.projectionDelta.x,this.prevProjectionDelta.x)||!QS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},m=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=tn(),v=f?f.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,E=this.getStack(),w=!E||E.members.length<=1,b=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(Pz));this.animationProgress=0;let R;this.mixTargetDelta=D=>{const C=D/1e3;tM(m.x,c.x,C),tM(m.y,c.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dz(this.relativeTarget,this.relativeTargetOrigin,g,C),R&&yz(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=tn()),Ci(R,this.relativeTarget)),S&&(this.animationValues=p,fz(p,h,this.latestValues,C,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=az(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:p}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&NA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||tn();const m=Fn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+m;const g=Fn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+g}Ci(u,f),hl(u,p),gu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vz),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&wy("z",c,h,this.animationValues);for(let p=0;p<_y.length;p++)wy(`rotate${_y[p]}`,c,h,this.animationValues),wy(`skew${_y[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zd(u?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zd(u?.pointerEvents)||""),this.hasProjected&&!Da(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=xz(this.projectionDeltaWithTransform,this.treeScale,p);f&&(m=f(p,m)),c.transform=m;const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Ou){if(p[x]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:w}=Ou[x],b=m==="none"?p[x]:S(p[x],h);if(E){const R=E.length;for(let D=0;D<R;D++)c[E[D]]=b}else w?this.options.visualElement.renderState.vars[x]=b:c[x]=b}this.options.layoutId&&(c.pointerEvents=h===this?zd(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(JS),this.root.sharedNodes.clear()}}}function wz(t){t.updateLayout()}function Sz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ri(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],g=Fn(m);m.min=n[p].min,m.max=m.min+g}):NA(s,e.layoutBox,n)&&Ri(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],g=Fn(n[p]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const c=dl();gu(c,n,e.layoutBox);const u=dl();o?gu(u,t.applyTransform(i,!0),e.measuredBox):gu(u,n,e.layoutBox);const f=!LA(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const v=tn();yu(v,e.layoutBox,m.layoutBox);const x=tn();yu(x,n,g.layoutBox),OA(v,x)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Mz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ez(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Tz(t){t.clearSnapshot()}function JS(t){t.clearMeasurements()}function $S(t){t.isLayoutDirty=!1}function Az(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cz(t){t.resolveTargetDelta()}function Rz(t){t.calcProjection()}function Lz(t){t.resetSkewAndRotation()}function Oz(t){t.removeLeadSnapshot()}function tM(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nM(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function Dz(t,e,n,i){nM(t.x,e.x,n.x,i),nM(t.y,e.y,n.y,i)}function Pz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Nz={duration:.45,ease:[.4,0,.1,1]},iM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rM=iM("applewebkit/")&&!iM("chrome/")?Math.round:Di;function sM(t){t.min=rM(t.min),t.max=rM(t.max)}function Bz(t){sM(t.x),sM(t.y)}function NA(t,e,n){return t==="position"||t==="preserve-aspect"&&!FB(KS(e),KS(n),.2)}function zz(t){return t!==t.root&&t.scroll?.wasRoot}const Uz=PA({attachResizeListener:(t,e)=>Du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sy={current:void 0},BA=PA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sy.current){const t=new Uz({});t.mount(window),t.setOptions({layoutScroll:!0}),Sy.current=t}return Sy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Hz={pan:{Feature:nz},drag:{Feature:tz,ProjectionNode:BA,MeasureLayout:AA}};function aM(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&zt.postRender(()=>o(e,ff(e)))}class Vz extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=fN(e,(n,i)=>(aM(this.node,i,"Start"),s=>aM(this.node,s,"End"))))}unmount(){}}class Iz extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lf(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oM(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&zt.postRender(()=>o(e,ff(e)))}class Fz extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=mN(e,(n,i)=>(oM(this.node,i,"Start"),(s,{success:o})=>oM(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nv=new WeakMap,My=new WeakMap,kz=t=>{const e=Nv.get(t.target);e&&e(t)},Gz=t=>{t.forEach(kz)};function jz({root:t,...e}){const n=t||document;My.has(n)||My.set(n,{});const i=My.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Gz,{root:t,...e})),i[s]}function Wz(t,e,n){const i=jz(e);return Nv.set(t,n),i.observe(t),()=>{Nv.delete(t),i.unobserve(t)}}const qz={some:0,all:1};class Xz extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:qz[s]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=h?p:m;g&&g(f)};return Wz(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yz(e,n))&&this.startObserver()}unmount(){}}function Yz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Zz={inView:{Feature:Xz},tap:{Feature:Fz},focus:{Feature:Iz},hover:{Feature:Vz}},Kz={layout:{ProjectionNode:BA,MeasureLayout:AA}},Qz={...BB,...Zz,...Hz,...Kz},Ml=QN(Qz,uB);function Jz(t){const e=aT(()=>ja(t)),{isStatic:n}=oe.useContext(Lp);if(n){const[,i]=oe.useState(t);oe.useEffect(()=>e.on("change",i),[])}return e}function $z(t){const e=oe.useRef(0),{isStatic:n}=oe.useContext(Lp);oe.useEffect(()=>{if(n)return;const i=({timestamp:s,delta:o})=>{e.current||(e.current=s),t(s-e.current,o)};return zt.update(i,!0),()=>rs(i)},[t])}const e4=()=>{const t=Fl(),e=n=>{t(n),window.scrollTo({top:0,behavior:"smooth"})};return Q.createElement("div",{className:"bg-gray-100 font-sans p-6 md:p-16"},Q.createElement("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-8"},Q.createElement("div",{className:"md:w-2/5 w-full flex justify-center"},Q.createElement("img",{src:vD,alt:"Two construction workers smiling",className:"w-full h-auto object-cover rounded-lg shadow-lg"})),Q.createElement("div",{className:"md:w-3/5 w-full flex flex-col justify-center space-y-6 text-center md:text-left px-4 md:px-0"},Q.createElement("p",{className:"text-[#163c6e] text-sm sm:text-base font-bold tracking-widest uppercase flex items-center justify-center md:justify-start"},Q.createElement("span",{className:"h-2 w-2 bg-[#163c6e] rounded-full mr-2"}),"About Us"),Q.createElement("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold text-gray-800 leading-tight"},"Crafting Structures That Last a Lifetime"),Q.createElement("p",{className:"text-gray-600 text-m sm:text-base md:text-lg leading-relaxed max-w-prose mx-auto md:mx-0"},"Locally owned in Charlotte, we specialize in reliable residential remodels and commercial buildoutsfrom quick repairs to full-scale projects. Our approach blends advanced materials, resilient design, and sustainable practices, ensuring structures that endure. Licensed and insured, we provide free, detailed estimates and deliver excellence in every project."),Q.createElement("div",{className:"bg-blue-50 p-4 sm:p-6 rounded-xl flex flex-col space-y-4"},["Comprehensive Services","Advanced Technology","Transparent Communication"].map((n,i)=>Q.createElement("div",{key:i,className:"flex items-center space-x-3"},Q.createElement(Ml.div,{className:"relative flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8",animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"}},Q.createElement("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24"},Q.createElement("defs",null,Q.createElement("linearGradient",{id:`blueGradient${i}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},Q.createElement("stop",{offset:"0%",stopColor:"#163c6e"}),Q.createElement("stop",{offset:"100%",stopColor:"#4990ec"}))),Q.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:`url(#blueGradient${i})`,strokeWidth:"4"}))),Q.createElement("span",{className:"text-gray-800 font-bold text-sm sm:text-base lg:text-lg text-left"},n)))),Q.createElement("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start space-y-4 md:space-y-0 md:space-x-6 mt-6"},Q.createElement(Ml.button,{onClick:()=>e("/contact"),className:"px-6 py-3 sm:px-9 sm:py-4 bg-[#163c6e] text-white font-semibold rounded-full shadow-lg relative overflow-hidden group w-full md:w-auto",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300}},Q.createElement("span",{className:"block transition-transform duration-300 group-hover:-translate-y-1"},"Take a Quote")),Q.createElement("div",{className:"flex items-center space-x-2 text-gray-600"},Q.createElement("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},Q.createElement("path",{d:"M21 16.42a1 1 0 01-.15.83l-2.07 2.07a2 2 0 01-2.83 0L12 15.83a2 2 0 01-2.83-2.83l2.07-2.07a1 1 0 01.83-.15c.6.08 1.15.34 1.63.76L17.5 12.5c.42.48.68 1.03.76 1.63a1 1 0 01-.15.83zM13.5 10l.707-.707a.5.5 0 000-.707L13.5 8a.5.5 0 00-.707 0L12 8.793a.5.5 0 000 .707l.793.793a.5.5 0 00.707 0zm-4-4l-1 1a.5.5 0 000 .707l1 1a.5.5 0 00.707 0l1-1a.5.5 0 000-.707l-1-1a.5.5 0 00-.707 0zM12 2a1 1 0 011 1v2a1 1 0 01-2 0V3a1 1 0 011-1zM21 12a1 1 0 01-1 1h-2a1 1 0 010-2h2a1 1 0 011 1zM3 12a1 1 0 01-1 1H1a1 1 0 010-2h1a1 1 0 011 1zM12 21a1 1 0 01-1-1v-2a1 1 0 012 0v2a1 1 0 01-1 1z"})),Q.createElement("div",{className:"text-center md:text-left"},Q.createElement("span",{className:"text-sm sm:text-base block"},"Call Support Center 24x7"),Q.createElement("span",{className:"font-bold text-lg block text-gray-900"},"(980) 3952025")))))))},zA="121",t4={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},n4={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},UA=0,Bv=1,HA=2,i4=3,r4=0,ox=1,VA=2,pl=3,Wl=0,hn=1,hf=2,lx=1,s4=2,$r=0,bl=1,zv=2,Uv=3,Hv=4,IA=5,Na=100,FA=101,kA=102,Vv=103,Iv=104,GA=200,jA=201,WA=202,qA=203,cx=204,ux=205,XA=206,YA=207,ZA=208,KA=209,QA=210,JA=0,$A=1,e2=2,Xd=3,t2=4,n2=5,i2=6,r2=7,df=0,s2=1,a2=2,ka=0,o2=1,l2=2,c2=3,u2=4,f2=5,Np=300,pf=301,mf=302,Yd=303,Zd=304,ql=306,gf=307,Pu=1e3,In=1001,Nu=1002,dn=1003,Kd=1004,a4=1004,Qd=1005,o4=1005,bn=1006,fx=1007,l4=1007,Xl=1008,c4=1008,Yl=1009,h2=1010,d2=1011,Bu=1012,p2=1013,vu=1014,Kr=1015,zu=1016,m2=1017,g2=1018,y2=1019,_l=1020,v2=1021,Ws=1022,hi=1023,x2=1024,b2=1025,_2=hi,Ga=1026,El=1027,w2=1028,S2=1029,M2=1030,E2=1031,T2=1032,A2=1033,Fv=33776,kv=33777,Gv=33778,jv=33779,Wv=35840,qv=35841,Xv=35842,Yv=35843,C2=36196,Zv=37492,Kv=37496,R2=37808,L2=37809,O2=37810,D2=37811,P2=37812,N2=37813,B2=37814,z2=37815,U2=37816,H2=37817,V2=37818,I2=37819,F2=37820,k2=37821,G2=36492,j2=37840,W2=37841,q2=37842,X2=37843,Y2=37844,Z2=37845,K2=37846,Q2=37847,J2=37848,$2=37849,eC=37850,tC=37851,nC=37852,iC=37853,rC=2200,sC=2201,aC=2202,Uu=2300,xu=2301,Hd=2302,Ua=2400,Ha=2401,Hu=2402,Bp=2500,hx=2501,oC=0,u4=1,f4=2,Gn=3e3,yf=3001,zp=3007,Up=3002,lC=3003,dx=3004,px=3005,mx=3006,cC=3200,uC=3201,io=0,fC=1,h4=0,Vd=7680,d4=7681,p4=7682,m4=7683,g4=34055,y4=34056,v4=5386,x4=512,b4=513,_4=514,w4=515,S4=516,M4=517,E4=518,hC=519,vf=35044,Wa=35048,T4=35040,A4=35045,C4=35049,R4=35041,L4=35046,O4=35050,D4=35042,P4="100",Qv="300 es";function Tr(){}Object.assign(Tr.prototype,{addEventListener:function(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)},hasEventListener:function(t,e){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}},dispatchEvent:function(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,t)}}});const En=[];for(let t=0;t<256;t++)En[t]=(t<16?"0":"")+t.toString(16);let kh=1234567;const st={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(En[t&255]+En[t>>8&255]+En[t>>16&255]+En[t>>24&255]+"-"+En[e&255]+En[e>>8&255]+"-"+En[e>>16&15|64]+En[e>>24&255]+"-"+En[n&63|128]+En[n>>8&255]+"-"+En[n>>16&255]+En[n>>24&255]+En[i&255]+En[i>>8&255]+En[i>>16&255]+En[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return t!==void 0&&(kh=t%2147483647),kh=kh*16807%2147483647,(kh-1)/2147483646},degToRad:function(t){return t*st.DEG2RAD},radToDeg:function(t){return t*st.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)===0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,s){const o=Math.cos,c=Math.sin,u=o(n/2),f=c(n/2),h=o((e+i)/2),p=c((e+i)/2),m=o((e-i)/2),g=c((e-i)/2),v=o((i-e)/2),x=c((i-e)/2);switch(s){case"XYX":t.set(u*p,f*m,f*g,u*h);break;case"YZY":t.set(f*g,u*p,f*m,u*h);break;case"ZXZ":t.set(f*m,f*g,u*p,u*h);break;case"XZX":t.set(u*p,f*x,f*v,u*h);break;case"YXY":t.set(f*v,u*p,f*x,u*h);break;case"ZYZ":t.set(f*x,f*v,u*p,u*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}};class Ce{constructor(e=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n){return n===void 0&&(n=0),this.x=e[n],this.y=e[n+1],this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),o=this.x-e.x,c=this.y-e.y;return this.x=o*i-c*s+e.x,this.y=o*s+c*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class kn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,s,o,c,u,f,h){const p=this.elements;return p[0]=e,p[1]=s,p[2]=u,p[3]=n,p[4]=o,p[5]=f,p[6]=i,p[7]=c,p[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,o=this.elements,c=i[0],u=i[3],f=i[6],h=i[1],p=i[4],m=i[7],g=i[2],v=i[5],x=i[8],S=s[0],E=s[3],w=s[6],b=s[1],R=s[4],D=s[7],C=s[2],A=s[5],O=s[8];return o[0]=c*S+u*b+f*C,o[3]=c*E+u*R+f*A,o[6]=c*w+u*D+f*O,o[1]=h*S+p*b+m*C,o[4]=h*E+p*R+m*A,o[7]=h*w+p*D+m*O,o[2]=g*S+v*b+x*C,o[5]=g*E+v*R+x*A,o[8]=g*w+v*D+x*O,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],o=e[3],c=e[4],u=e[5],f=e[6],h=e[7],p=e[8];return n*c*p-n*u*h-i*o*p+i*u*f+s*o*h-s*c*f}getInverse(e,n){n!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const i=e.elements,s=this.elements,o=i[0],c=i[1],u=i[2],f=i[3],h=i[4],p=i[5],m=i[6],g=i[7],v=i[8],x=v*h-p*g,S=p*m-v*f,E=g*f-h*m,w=o*x+c*S+u*E;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/w;return s[0]=x*b,s[1]=(u*g-v*c)*b,s[2]=(p*c-u*h)*b,s[3]=S*b,s[4]=(v*o-u*m)*b,s[5]=(u*f-p*o)*b,s[6]=E*b,s[7]=(c*m-g*o)*b,s[8]=(h*o-c*f)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).getInverse(this).transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,o,c,u){const f=Math.cos(o),h=Math.sin(o);this.set(i*f,i*h,-i*(f*c+h*u)+c+e,-s*h,s*f,-s*(-h*c+f*u)+u+n,0,0,1)}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),s=this.elements,o=s[0],c=s[3],u=s[6],f=s[1],h=s[4],p=s[7];return s[0]=n*o+i*f,s[3]=n*c+i*h,s[6]=n*u+i*p,s[1]=-i*o+n*f,s[4]=-i*c+n*h,s[7]=-i*u+n*p,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n){n===void 0&&(n=0);for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e,n){e===void 0&&(e=[]),n===void 0&&(n=0);const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}}let ko;const Ks={getDataURL:function(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{ko===void 0&&(ko=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ko.width=t.width,ko.height=t.height;const n=ko.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=ko}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let N4=0;function Rt(t,e,n,i,s,o,c,u,f,h){Object.defineProperty(this,"id",{value:N4++}),this.uuid=st.generateUUID(),this.name="",this.image=t!==void 0?t:Rt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=e!==void 0?e:Rt.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:In,this.wrapT=i!==void 0?i:In,this.magFilter=s!==void 0?s:bn,this.minFilter=o!==void 0?o:Xl,this.anisotropy=f!==void 0?f:1,this.format=c!==void 0?c:hi,this.internalFormat=null,this.type=u!==void 0?u:Yl,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h!==void 0?h:Gn,this.version=0,this.onUpdate=null}Rt.DEFAULT_IMAGE=void 0;Rt.DEFAULT_MAPPING=Np;Rt.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Rt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=st.generateUUID()),!e&&t.images[i.uuid]===void 0){let s;if(Array.isArray(i)){s=[];for(let o=0,c=i.length;o<c;o++)s.push(Ks.getDataURL(i[o]))}else s=Ks.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:s}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==Np)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Pu:t.x=t.x-Math.floor(t.x);break;case In:t.x=t.x<0?0:1;break;case Nu:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Pu:t.y=t.y-Math.floor(t.y);break;case In:t.y=t.y<0?0:1;break;case Nu:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}});Object.defineProperty(Rt.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});class At{constructor(e=0,n=0,i=0,s=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,o=this.w,c=e.elements;return this.x=c[0]*n+c[4]*i+c[8]*s+c[12]*o,this.y=c[1]*n+c[5]*i+c[9]*s+c[13]*o,this.z=c[2]*n+c[6]*i+c[10]*s+c[14]*o,this.w=c[3]*n+c[7]*i+c[11]*s+c[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,o;const f=e.elements,h=f[0],p=f[4],m=f[8],g=f[1],v=f[5],x=f[9],S=f[2],E=f[6],w=f[10];if(Math.abs(p-g)<.01&&Math.abs(m-S)<.01&&Math.abs(x-E)<.01){if(Math.abs(p+g)<.1&&Math.abs(m+S)<.1&&Math.abs(x+E)<.1&&Math.abs(h+v+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const R=(h+1)/2,D=(v+1)/2,C=(w+1)/2,A=(p+g)/4,O=(m+S)/4,z=(x+E)/4;return R>D&&R>C?R<.01?(i=0,s=.707106781,o=.707106781):(i=Math.sqrt(R),s=A/i,o=O/i):D>C?D<.01?(i=.707106781,s=0,o=.707106781):(s=Math.sqrt(D),i=A/s,o=z/s):C<.01?(i=.707106781,s=.707106781,o=0):(o=Math.sqrt(C),i=O/o,s=z/o),this.set(i,s,o,n),this}let b=Math.sqrt((E-x)*(E-x)+(m-S)*(m-S)+(g-p)*(g-p));return Math.abs(b)<.001&&(b=1),this.x=(E-x)/b,this.y=(m-S)/b,this.z=(g-p)/b,this.w=Math.acos((h+v+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n){return n===void 0&&(n=0),this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function di(t,e,n){this.width=t,this.height=e,this.scissor=new At(0,0,t,e),this.scissorTest=!1,this.viewport=new At(0,0,t,e),n=n||{},this.texture=new Rt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:bn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}di.prototype=Object.assign(Object.create(Tr.prototype),{constructor:di,isWebGLRenderTarget:!0,setSize:function(t,e){(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Jv(t,e,n){di.call(this,t,e,n),this.samples=4}Jv.prototype=Object.assign(Object.create(di.prototype),{constructor:Jv,isWebGLMultisampleRenderTarget:!0,copy:function(t){return di.prototype.copy.call(this,t),this.samples=t.samples,this}});class Nn{constructor(e=0,n=0,i=0,s=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=i,this._w=s}static slerp(e,n,i,s){return i.copy(e).slerp(n,s)}static slerpFlat(e,n,i,s,o,c,u){let f=i[s+0],h=i[s+1],p=i[s+2],m=i[s+3];const g=o[c+0],v=o[c+1],x=o[c+2],S=o[c+3];if(m!==S||f!==g||h!==v||p!==x){let E=1-u;const w=f*g+h*v+p*x+m*S,b=w>=0?1:-1,R=1-w*w;if(R>Number.EPSILON){const C=Math.sqrt(R),A=Math.atan2(C,w*b);E=Math.sin(E*A)/C,u=Math.sin(u*A)/C}const D=u*b;if(f=f*E+g*D,h=h*E+v*D,p=p*E+x*D,m=m*E+S*D,E===1-u){const C=1/Math.sqrt(f*f+h*h+p*p+m*m);f*=C,h*=C,p*=C,m*=C}}e[n]=f,e[n+1]=h,e[n+2]=p,e[n+3]=m}static multiplyQuaternionsFlat(e,n,i,s,o,c){const u=i[s],f=i[s+1],h=i[s+2],p=i[s+3],m=o[c],g=o[c+1],v=o[c+2],x=o[c+3];return e[n]=u*x+p*m+f*v-h*g,e[n+1]=f*x+p*g+h*m-u*v,e[n+2]=h*x+p*v+u*g-f*m,e[n+3]=p*x-u*m-f*g-h*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,s=e._y,o=e._z,c=e._order,u=Math.cos,f=Math.sin,h=u(i/2),p=u(s/2),m=u(o/2),g=f(i/2),v=f(s/2),x=f(o/2);switch(c){case"XYZ":this._x=g*p*m+h*v*x,this._y=h*v*m-g*p*x,this._z=h*p*x+g*v*m,this._w=h*p*m-g*v*x;break;case"YXZ":this._x=g*p*m+h*v*x,this._y=h*v*m-g*p*x,this._z=h*p*x-g*v*m,this._w=h*p*m+g*v*x;break;case"ZXY":this._x=g*p*m-h*v*x,this._y=h*v*m+g*p*x,this._z=h*p*x+g*v*m,this._w=h*p*m-g*v*x;break;case"ZYX":this._x=g*p*m-h*v*x,this._y=h*v*m+g*p*x,this._z=h*p*x-g*v*m,this._w=h*p*m+g*v*x;break;case"YZX":this._x=g*p*m+h*v*x,this._y=h*v*m+g*p*x,this._z=h*p*x-g*v*m,this._w=h*p*m-g*v*x;break;case"XZY":this._x=g*p*m-h*v*x,this._y=h*v*m-g*p*x,this._z=h*p*x+g*v*m,this._w=h*p*m+g*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],o=n[8],c=n[1],u=n[5],f=n[9],h=n[2],p=n[6],m=n[10],g=i+u+m;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(p-f)*v,this._y=(o-h)*v,this._z=(c-s)*v}else if(i>u&&i>m){const v=2*Math.sqrt(1+i-u-m);this._w=(p-f)/v,this._x=.25*v,this._y=(s+c)/v,this._z=(o+h)/v}else if(u>m){const v=2*Math.sqrt(1+u-i-m);this._w=(o-h)/v,this._x=(s+c)/v,this._y=.25*v,this._z=(f+p)/v}else{const v=2*Math.sqrt(1+m-i-u);this._w=(c-s)/v,this._x=(o+h)/v,this._y=(f+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<1e-6?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(st.clamp(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,o=e._z,c=e._w,u=n._x,f=n._y,h=n._z,p=n._w;return this._x=i*p+c*u+s*h-o*f,this._y=s*p+c*f+o*u-i*h,this._z=o*p+c*h+i*f-s*u,this._w=c*p-i*u-s*f-o*h,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,o=this._z,c=this._w;let u=c*e._w+i*e._x+s*e._y+o*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=c,this._x=i,this._y=s,this._z=o,this;const f=1-u*u;if(f<=Number.EPSILON){const v=1-n;return this._w=v*c+n*this._w,this._x=v*i+n*this._x,this._y=v*s+n*this._y,this._z=v*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(f),p=Math.atan2(h,u),m=Math.sin((1-n)*p)/h,g=Math.sin(n*p)/h;return this._w=c*m+this._w*g,this._x=i*m+this._x*g,this._y=s*m+this._y*g,this._z=o*m+this._z*g,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n){return n===void 0&&(n=0),this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class X{constructor(e=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(lM.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(lM.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*s,this.y=o[1]*n+o[4]*i+o[7]*s,this.z=o[2]*n+o[5]*i+o[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,o=e.elements,c=1/(o[3]*n+o[7]*i+o[11]*s+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*s+o[12])*c,this.y=(o[1]*n+o[5]*i+o[9]*s+o[13])*c,this.z=(o[2]*n+o[6]*i+o[10]*s+o[14])*c,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,o=e.x,c=e.y,u=e.z,f=e.w,h=f*n+c*s-u*i,p=f*i+u*n-o*s,m=f*s+o*i-c*n,g=-o*n-c*i-u*s;return this.x=h*f+g*-o+p*-u-m*-c,this.y=p*f+g*-c+m*-o-h*-u,this.z=m*f+g*-u+h*-c-p*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*s,this.y=o[1]*n+o[5]*i+o[9]*s,this.z=o[2]*n+o[6]*i+o[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,o=e.z,c=n.x,u=n.y,f=n.z;return this.x=s*f-o*u,this.y=o*c-i*f,this.z=i*u-s*c,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Ey.copy(this).projectOnVector(e),this.sub(Ey)}reflect(e){return this.sub(Ey.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(st.clamp(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n){return n===void 0&&(n=0),this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Ey=new X,lM=new Nn;class Ar{constructor(e,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=e!==void 0?e:new X(1/0,1/0,1/0),this.max=n!==void 0?n:new X(-1/0,-1/0,-1/0)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,s=1/0,o=-1/0,c=-1/0,u=-1/0;for(let f=0,h=e.length;f<h;f+=3){const p=e[f],m=e[f+1],g=e[f+2];p<n&&(n=p),m<i&&(i=m),g<s&&(s=g),p>o&&(o=p),m>c&&(c=m),g>u&&(u=g)}return this.min.set(n,i,s),this.max.set(o,c,u),this}setFromBufferAttribute(e){let n=1/0,i=1/0,s=1/0,o=-1/0,c=-1/0,u=-1/0;for(let f=0,h=e.count;f<h;f++){const p=e.getX(f),m=e.getY(f),g=e.getZ(f);p<n&&(n=p),m<i&&(i=m),g<s&&(s=g),p>o&&(o=p),m>c&&(c=m),g>u&&(u=g)}return this.min.set(n,i,s),this.max.set(o,c,u),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Qc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new X),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new X),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),Ay.copy(n.boundingBox),Ay.applyMatrix4(e.matrixWorld),this.union(Ay));const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new X),n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Qc),Qc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jc),Gh.subVectors(this.max,Jc),Go.subVectors(e.a,Jc),jo.subVectors(e.b,Jc),Wo.subVectors(e.c,Jc),Ns.subVectors(jo,Go),Bs.subVectors(Wo,jo),Sa.subVectors(Go,Wo);let n=[0,-Ns.z,Ns.y,0,-Bs.z,Bs.y,0,-Sa.z,Sa.y,Ns.z,0,-Ns.x,Bs.z,0,-Bs.x,Sa.z,0,-Sa.x,-Ns.y,Ns.x,0,-Bs.y,Bs.x,0,-Sa.y,Sa.x,0];return!Ty(n,Go,jo,Wo,Gh)||(n=[1,0,0,0,1,0,0,0,1],!Ty(n,Go,jo,Wo,Gh))?!1:(jh.crossVectors(Ns,Bs),n=[jh.x,jh.y,jh.z],Ty(n,Go,jo,Wo,Gh))}clampPoint(e,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new X),n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Qc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Qc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function Ty(t,e,n,i,s){for(let o=0,c=t.length-3;o<=c;o+=3){Ma.fromArray(t,o);const u=s.x*Math.abs(Ma.x)+s.y*Math.abs(Ma.y)+s.z*Math.abs(Ma.z),f=e.dot(Ma),h=n.dot(Ma),p=i.dot(Ma);if(Math.max(-Math.max(f,h,p),Math.min(f,h,p))>u)return!1}return!0}const jr=[new X,new X,new X,new X,new X,new X,new X,new X],Qc=new X,Ay=new Ar,Go=new X,jo=new X,Wo=new X,Ns=new X,Bs=new X,Sa=new X,Jc=new X,Gh=new X,jh=new X,Ma=new X,B4=new Ar;class ls{constructor(e,n){this.center=e!==void 0?e:new X,this.radius=n!==void 0?n:-1}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):B4.setFromPoints(e).getCenter(i);let s=0;for(let o=0,c=e.length;o<c;o++)s=Math.max(s,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new X),n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Ar),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const Wr=new X,Cy=new X,Wh=new X,zs=new X,Ry=new X,qh=new X,Ly=new X;class Zl{constructor(e,n){this.origin=e!==void 0?e:new X,this.direction=n!==void 0?n:new X(0,0,-1)}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new X),n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wr)),this}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new X),n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Wr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Wr.copy(this.direction).multiplyScalar(n).add(this.origin),Wr.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){Cy.copy(e).add(n).multiplyScalar(.5),Wh.copy(n).sub(e).normalize(),zs.copy(this.origin).sub(Cy);const o=e.distanceTo(n)*.5,c=-this.direction.dot(Wh),u=zs.dot(this.direction),f=-zs.dot(Wh),h=zs.lengthSq(),p=Math.abs(1-c*c);let m,g,v,x;if(p>0)if(m=c*f-u,g=c*u-f,x=o*p,m>=0)if(g>=-x)if(g<=x){const S=1/p;m*=S,g*=S,v=m*(m+c*g+2*u)+g*(c*m+g+2*f)+h}else g=o,m=Math.max(0,-(c*g+u)),v=-m*m+g*(g+2*f)+h;else g=-o,m=Math.max(0,-(c*g+u)),v=-m*m+g*(g+2*f)+h;else g<=-x?(m=Math.max(0,-(-c*o+u)),g=m>0?-o:Math.min(Math.max(-o,-f),o),v=-m*m+g*(g+2*f)+h):g<=x?(m=0,g=Math.min(Math.max(-o,-f),o),v=g*(g+2*f)+h):(m=Math.max(0,-(c*o+u)),g=m>0?o:Math.min(Math.max(-o,-f),o),v=-m*m+g*(g+2*f)+h);else g=c>0?-o:o,m=Math.max(0,-(c*g+u)),v=-m*m+g*(g+2*f)+h;return i&&i.copy(this.direction).multiplyScalar(m).add(this.origin),s&&s.copy(Wh).multiplyScalar(g).add(Cy),v}intersectSphere(e,n){Wr.subVectors(e.center,this.origin);const i=Wr.dot(this.direction),s=Wr.dot(Wr)-i*i,o=e.radius*e.radius;if(s>o)return null;const c=Math.sqrt(o-s),u=i-c,f=i+c;return u<0&&f<0?null:u<0?this.at(f,n):this.at(u,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,o,c,u,f;const h=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,g=this.origin;return h>=0?(i=(e.min.x-g.x)*h,s=(e.max.x-g.x)*h):(i=(e.max.x-g.x)*h,s=(e.min.x-g.x)*h),p>=0?(o=(e.min.y-g.y)*p,c=(e.max.y-g.y)*p):(o=(e.max.y-g.y)*p,c=(e.min.y-g.y)*p),i>c||o>s||((o>i||i!==i)&&(i=o),(c<s||s!==s)&&(s=c),m>=0?(u=(e.min.z-g.z)*m,f=(e.max.z-g.z)*m):(u=(e.max.z-g.z)*m,f=(e.min.z-g.z)*m),i>f||u>s)||((u>i||i!==i)&&(i=u),(f<s||s!==s)&&(s=f),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Wr)!==null}intersectTriangle(e,n,i,s,o){Ry.subVectors(n,e),qh.subVectors(i,e),Ly.crossVectors(Ry,qh);let c=this.direction.dot(Ly),u;if(c>0){if(s)return null;u=1}else if(c<0)u=-1,c=-c;else return null;zs.subVectors(this.origin,e);const f=u*this.direction.dot(qh.crossVectors(zs,qh));if(f<0)return null;const h=u*this.direction.dot(Ry.cross(zs));if(h<0||f+h>c)return null;const p=-u*zs.dot(Ly);return p<0?null:this.at(p/c,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class lt{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,s,o,c,u,f,h,p,m,g,v,x,S,E){const w=this.elements;return w[0]=e,w[4]=n,w[8]=i,w[12]=s,w[1]=o,w[5]=c,w[9]=u,w[13]=f,w[2]=h,w[6]=p,w[10]=m,w[14]=g,w[3]=v,w[7]=x,w[11]=S,w[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/qo.setFromMatrixColumn(e,0).length(),o=1/qo.setFromMatrixColumn(e,1).length(),c=1/qo.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*c,n[9]=i[9]*c,n[10]=i[10]*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,s=e.y,o=e.z,c=Math.cos(i),u=Math.sin(i),f=Math.cos(s),h=Math.sin(s),p=Math.cos(o),m=Math.sin(o);if(e.order==="XYZ"){const g=c*p,v=c*m,x=u*p,S=u*m;n[0]=f*p,n[4]=-f*m,n[8]=h,n[1]=v+x*h,n[5]=g-S*h,n[9]=-u*f,n[2]=S-g*h,n[6]=x+v*h,n[10]=c*f}else if(e.order==="YXZ"){const g=f*p,v=f*m,x=h*p,S=h*m;n[0]=g+S*u,n[4]=x*u-v,n[8]=c*h,n[1]=c*m,n[5]=c*p,n[9]=-u,n[2]=v*u-x,n[6]=S+g*u,n[10]=c*f}else if(e.order==="ZXY"){const g=f*p,v=f*m,x=h*p,S=h*m;n[0]=g-S*u,n[4]=-c*m,n[8]=x+v*u,n[1]=v+x*u,n[5]=c*p,n[9]=S-g*u,n[2]=-c*h,n[6]=u,n[10]=c*f}else if(e.order==="ZYX"){const g=c*p,v=c*m,x=u*p,S=u*m;n[0]=f*p,n[4]=x*h-v,n[8]=g*h+S,n[1]=f*m,n[5]=S*h+g,n[9]=v*h-x,n[2]=-h,n[6]=u*f,n[10]=c*f}else if(e.order==="YZX"){const g=c*f,v=c*h,x=u*f,S=u*h;n[0]=f*p,n[4]=S-g*m,n[8]=x*m+v,n[1]=m,n[5]=c*p,n[9]=-u*p,n[2]=-h*p,n[6]=v*m+x,n[10]=g-S*m}else if(e.order==="XZY"){const g=c*f,v=c*h,x=u*f,S=u*h;n[0]=f*p,n[4]=-m,n[8]=h*p,n[1]=g*m+S,n[5]=c*p,n[9]=v*m-x,n[2]=x*m-v,n[6]=u*p,n[10]=S*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(z4,e,U4)}lookAt(e,n,i){const s=this.elements;return li.subVectors(e,n),li.lengthSq()===0&&(li.z=1),li.normalize(),Us.crossVectors(i,li),Us.lengthSq()===0&&(Math.abs(i.z)===1?li.x+=1e-4:li.z+=1e-4,li.normalize(),Us.crossVectors(i,li)),Us.normalize(),Xh.crossVectors(li,Us),s[0]=Us.x,s[4]=Xh.x,s[8]=li.x,s[1]=Us.y,s[5]=Xh.y,s[9]=li.y,s[2]=Us.z,s[6]=Xh.z,s[10]=li.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,o=this.elements,c=i[0],u=i[4],f=i[8],h=i[12],p=i[1],m=i[5],g=i[9],v=i[13],x=i[2],S=i[6],E=i[10],w=i[14],b=i[3],R=i[7],D=i[11],C=i[15],A=s[0],O=s[4],z=s[8],N=s[12],P=s[1],G=s[5],W=s[9],I=s[13],k=s[2],j=s[6],V=s[10],T=s[14],re=s[3],Y=s[7],M=s[11],B=s[15];return o[0]=c*A+u*P+f*k+h*re,o[4]=c*O+u*G+f*j+h*Y,o[8]=c*z+u*W+f*V+h*M,o[12]=c*N+u*I+f*T+h*B,o[1]=p*A+m*P+g*k+v*re,o[5]=p*O+m*G+g*j+v*Y,o[9]=p*z+m*W+g*V+v*M,o[13]=p*N+m*I+g*T+v*B,o[2]=x*A+S*P+E*k+w*re,o[6]=x*O+S*G+E*j+w*Y,o[10]=x*z+S*W+E*V+w*M,o[14]=x*N+S*I+E*T+w*B,o[3]=b*A+R*P+D*k+C*re,o[7]=b*O+R*G+D*j+C*Y,o[11]=b*z+R*W+D*V+C*M,o[15]=b*N+R*I+D*T+C*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],o=e[12],c=e[1],u=e[5],f=e[9],h=e[13],p=e[2],m=e[6],g=e[10],v=e[14],x=e[3],S=e[7],E=e[11],w=e[15];return x*(+o*f*m-s*h*m-o*u*g+i*h*g+s*u*v-i*f*v)+S*(+n*f*v-n*h*g+o*c*g-s*c*v+s*h*p-o*f*p)+E*(+n*h*m-n*u*v-o*c*m+i*c*v+o*u*p-i*h*p)+w*(-s*u*p-n*f*m+n*u*g+s*c*m-i*c*g+i*f*p)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}getInverse(e,n){n!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const i=this.elements,s=e.elements,o=s[0],c=s[1],u=s[2],f=s[3],h=s[4],p=s[5],m=s[6],g=s[7],v=s[8],x=s[9],S=s[10],E=s[11],w=s[12],b=s[13],R=s[14],D=s[15],C=x*R*g-b*S*g+b*m*E-p*R*E-x*m*D+p*S*D,A=w*S*g-v*R*g-w*m*E+h*R*E+v*m*D-h*S*D,O=v*b*g-w*x*g+w*p*E-h*b*E-v*p*D+h*x*D,z=w*x*m-v*b*m-w*p*S+h*b*S+v*p*R-h*x*R,N=o*C+c*A+u*O+f*z;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/N;return i[0]=C*P,i[1]=(b*S*f-x*R*f-b*u*E+c*R*E+x*u*D-c*S*D)*P,i[2]=(p*R*f-b*m*f+b*u*g-c*R*g-p*u*D+c*m*D)*P,i[3]=(x*m*f-p*S*f-x*u*g+c*S*g+p*u*E-c*m*E)*P,i[4]=A*P,i[5]=(v*R*f-w*S*f+w*u*E-o*R*E-v*u*D+o*S*D)*P,i[6]=(w*m*f-h*R*f-w*u*g+o*R*g+h*u*D-o*m*D)*P,i[7]=(h*S*f-v*m*f+v*u*g-o*S*g-h*u*E+o*m*E)*P,i[8]=O*P,i[9]=(w*x*f-v*b*f-w*c*E+o*b*E+v*c*D-o*x*D)*P,i[10]=(h*b*f-w*p*f+w*c*g-o*b*g-h*c*D+o*p*D)*P,i[11]=(v*p*f-h*x*f-v*c*g+o*x*g+h*c*E-o*p*E)*P,i[12]=z*P,i[13]=(v*b*u-w*x*u+w*c*S-o*b*S-v*c*R+o*x*R)*P,i[14]=(w*p*u-h*b*u-w*c*m+o*b*m+h*c*R-o*p*R)*P,i[15]=(h*x*u-v*p*u+v*c*m-o*x*m-h*c*S+o*p*S)*P,this}scale(e){const n=this.elements,i=e.x,s=e.y,o=e.z;return n[0]*=i,n[4]*=s,n[8]*=o,n[1]*=i,n[5]*=s,n[9]*=o,n[2]*=i,n[6]*=s,n[10]*=o,n[3]*=i,n[7]*=s,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),o=1-i,c=e.x,u=e.y,f=e.z,h=o*c,p=o*u;return this.set(h*c+i,h*u-s*f,h*f+s*u,0,h*u+s*f,p*u+i,p*f-s*c,0,h*f-s*u,p*f+s*c,o*f*f+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i){return this.set(1,n,i,0,e,1,i,0,e,n,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,o=n._x,c=n._y,u=n._z,f=n._w,h=o+o,p=c+c,m=u+u,g=o*h,v=o*p,x=o*m,S=c*p,E=c*m,w=u*m,b=f*h,R=f*p,D=f*m,C=i.x,A=i.y,O=i.z;return s[0]=(1-(S+w))*C,s[1]=(v+D)*C,s[2]=(x-R)*C,s[3]=0,s[4]=(v-D)*A,s[5]=(1-(g+w))*A,s[6]=(E+b)*A,s[7]=0,s[8]=(x+R)*O,s[9]=(E-b)*O,s[10]=(1-(g+S))*O,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let o=qo.set(s[0],s[1],s[2]).length();const c=qo.set(s[4],s[5],s[6]).length(),u=qo.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),e.x=s[12],e.y=s[13],e.z=s[14],ji.copy(this);const h=1/o,p=1/c,m=1/u;return ji.elements[0]*=h,ji.elements[1]*=h,ji.elements[2]*=h,ji.elements[4]*=p,ji.elements[5]*=p,ji.elements[6]*=p,ji.elements[8]*=m,ji.elements[9]*=m,ji.elements[10]*=m,n.setFromRotationMatrix(ji),i.x=o,i.y=c,i.z=u,this}makePerspective(e,n,i,s,o,c){c===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,f=2*o/(n-e),h=2*o/(i-s),p=(n+e)/(n-e),m=(i+s)/(i-s),g=-(c+o)/(c-o),v=-2*c*o/(c-o);return u[0]=f,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=v,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,i,s,o,c){const u=this.elements,f=1/(n-e),h=1/(i-s),p=1/(c-o),m=(n+e)*f,g=(i+s)*h,v=(c+o)*p;return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-m,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-g,u[2]=0,u[6]=0,u[10]=-2*p,u[14]=-v,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n){n===void 0&&(n=0);for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e,n){e===void 0&&(e=[]),n===void 0&&(n=0);const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const qo=new X,ji=new lt,z4=new X(0,0,0),U4=new X(1,1,1),Us=new X,Xh=new X,li=new X;class Kl{constructor(e=0,n=0,i=0,s=Kl.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._order=s||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n,i){const s=st.clamp,o=e.elements,c=o[0],u=o[4],f=o[8],h=o[1],p=o[5],m=o[9],g=o[2],v=o[6],x=o[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(s(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-u,c)):(this._x=Math.atan2(v,p),this._z=0);break;case"YXZ":this._x=Math.asin(-s(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(f,x),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-g,c),this._z=0);break;case"ZXY":this._x=Math.asin(s(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-u,p)):(this._y=0,this._z=Math.atan2(h,c));break;case"ZYX":this._y=Math.asin(-s(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,x),this._z=Math.atan2(h,c)):(this._x=0,this._z=Math.atan2(-u,p));break;case"YZX":this._z=Math.asin(s(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,c)):(this._x=0,this._y=Math.atan2(f,x));break;case"XZY":this._z=Math.asin(-s(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(v,p),this._y=Math.atan2(f,c)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return cM.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cM,n,i)}setFromVector3(e,n){return this.set(e.x,e.y,e.z,n||this._order)}reorder(e){return uM.setFromEuler(this),this.setFromQuaternion(uM,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new X(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Kl.DefaultOrder="XYZ";Kl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const cM=new lt,uM=new Nn;class gx{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let H4=0;const fM=new X,Xo=new Nn,qr=new lt,Yh=new X,$c=new X,V4=new X,I4=new Nn,hM=new X(1,0,0),dM=new X(0,1,0),pM=new X(0,0,1),F4={type:"added"},k4={type:"removed"};function We(){Object.defineProperty(this,"id",{value:H4++}),this.uuid=st.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=We.DefaultUp.clone();const t=new X,e=new Kl,n=new Nn,i=new X(1,1,1);function s(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new lt},normalMatrix:{value:new kn}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=We.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new gx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}We.DefaultUp=new X(0,1,0);We.DefaultMatrixAutoUpdate=!0;We.prototype=Object.assign(Object.create(Tr.prototype),{constructor:We,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Xo.setFromAxisAngle(t,e),this.quaternion.multiply(Xo),this},rotateOnWorldAxis:function(t,e){return Xo.setFromAxisAngle(t,e),this.quaternion.premultiply(Xo),this},rotateX:function(t){return this.rotateOnAxis(hM,t)},rotateY:function(t){return this.rotateOnAxis(dM,t)},rotateZ:function(t){return this.rotateOnAxis(pM,t)},translateOnAxis:function(t,e){return fM.copy(t).applyQuaternion(this.quaternion),this.position.add(fM.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(hM,t)},translateY:function(t){return this.translateOnAxis(dM,t)},translateZ:function(t){return this.translateOnAxis(pM,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(qr.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?Yh.copy(t):Yh.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),$c.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qr.lookAt($c,Yh,this.up):qr.lookAt(Yh,$c,this.up),this.quaternion.setFromRotationMatrix(qr),i&&(qr.extractRotation(i.matrixWorld),Xo.setFromRotationMatrix(qr),this.quaternion.premultiply(Xo.inverse()))},add:function(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(F4)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(k4)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),qr.getInverse(this.matrixWorld),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),qr.multiply(t.parent.matrixWorld)),t.applyMatrix4(qr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(t,e);if(o!==void 0)return o}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new X),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Nn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($c,t,V4),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new X),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($c,I4,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new X),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function s(c,u){return c[u.uuid]===void 0&&(c[u.uuid]=u.toJSON(t)),u.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const u=c.shapes;if(Array.isArray(u))for(let f=0,h=u.length;f<h;f++){const p=u[f];s(t.shapes,p)}else s(t.shapes,u)}}if(this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let u=0,f=this.material.length;u<f;u++)c.push(s(t.materials,this.material[u]));i.material=c}else i.material=s(t.materials,this.material);if(this.children.length>0){i.children=[];for(let c=0;c<this.children.length;c++)i.children.push(this.children[c].toJSON(t).object)}if(e){const c=o(t.geometries),u=o(t.materials),f=o(t.textures),h=o(t.images),p=o(t.shapes);c.length>0&&(n.geometries=c),u.length>0&&(n.materials=u),f.length>0&&(n.textures=f),h.length>0&&(n.images=h),p.length>0&&(n.shapes=p)}return n.object=i,n;function o(c){const u=[];for(const f in c){const h=c[f];delete h.metadata,u.push(h)}return u}},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,e){if(e===void 0&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const i=t.children[n];this.add(i.clone())}return this}});const Oy=new X,G4=new X,j4=new kn;class pr{constructor(e,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=e!==void 0?e:new X(1,0,0),this.constant=n!==void 0?n:0}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=Oy.subVectors(i,n).cross(G4.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}clone(){return new this.constructor().copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new X),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new X);const i=e.delta(Oy),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):void 0;const o=-(e.start.dot(this.normal)+this.constant)/s;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new X),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||j4.getNormalMatrix(e),s=this.coplanarPoint(Oy).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const Wi=new X,Xr=new X,Dy=new X,Yr=new X,Yo=new X,Zo=new X,mM=new X,Py=new X,Ny=new X,By=new X;class An{constructor(e,n,i){this.a=e!==void 0?e:new X,this.b=n!==void 0?n:new X,this.c=i!==void 0?i:new X}static getNormal(e,n,i,s){s===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),s=new X),s.subVectors(i,n),Wi.subVectors(e,n),s.cross(Wi);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(e,n,i,s,o){Wi.subVectors(s,n),Xr.subVectors(i,n),Dy.subVectors(e,n);const c=Wi.dot(Wi),u=Wi.dot(Xr),f=Wi.dot(Dy),h=Xr.dot(Xr),p=Xr.dot(Dy),m=c*h-u*u;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new X),m===0)return o.set(-2,-1,-1);const g=1/m,v=(h*f-u*p)*g,x=(c*p-u*f)*g;return o.set(1-v-x,x,v)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,Yr),Yr.x>=0&&Yr.y>=0&&Yr.x+Yr.y<=1}static getUV(e,n,i,s,o,c,u,f){return this.getBarycoord(e,n,i,s,Yr),f.set(0,0),f.addScaledVector(o,Yr.x),f.addScaledVector(c,Yr.y),f.addScaledVector(u,Yr.z),f}static isFrontFacing(e,n,i,s){return Wi.subVectors(i,n),Xr.subVectors(e,n),Wi.cross(Xr).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Wi.subVectors(this.c,this.b),Xr.subVectors(this.a,this.b),Wi.cross(Xr).length()*.5}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new X),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return An.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new pr),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return An.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,s,o){return An.getUV(e,this.a,this.b,this.c,n,i,s,o)}containsPoint(e){return An.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return An.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new X);const i=this.a,s=this.b,o=this.c;let c,u;Yo.subVectors(s,i),Zo.subVectors(o,i),Py.subVectors(e,i);const f=Yo.dot(Py),h=Zo.dot(Py);if(f<=0&&h<=0)return n.copy(i);Ny.subVectors(e,s);const p=Yo.dot(Ny),m=Zo.dot(Ny);if(p>=0&&m<=p)return n.copy(s);const g=f*m-p*h;if(g<=0&&f>=0&&p<=0)return c=f/(f-p),n.copy(i).addScaledVector(Yo,c);By.subVectors(e,o);const v=Yo.dot(By),x=Zo.dot(By);if(x>=0&&v<=x)return n.copy(o);const S=v*h-f*x;if(S<=0&&h>=0&&x<=0)return u=h/(h-x),n.copy(i).addScaledVector(Zo,u);const E=p*x-v*m;if(E<=0&&m-p>=0&&v-x>=0)return mM.subVectors(o,s),u=(m-p)/(m-p+(v-x)),n.copy(s).addScaledVector(mM,u);const w=1/(E+S+g);return c=S*w,u=g*w,n.copy(i).addScaledVector(Yo,c).addScaledVector(Zo,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const dC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qi={h:0,s:0,l:0},Zh={h:0,s:0,l:0};function zy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Uy(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Hy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class ke{constructor(e,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=st.euclideanModulo(e,1),n=st.clamp(n,0,1),i=st.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=zy(o,s,e+1/3),this.g=zy(o,s,e),this.b=zy(o,s,e-1/3)}return this}setStyle(e){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let s;const o=i[1],c=i[2];switch(o){case"rgb":case"rgba":if(s=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,n(s[5]),this;if(s=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,n(s[5]),this;break;case"hsl":case"hsla":if(s=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c)){const u=parseFloat(s[1])/360,f=parseInt(s[2],10)/100,h=parseInt(s[3],10)/100;return n(s[5]),this.setHSL(u,f,h)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=dC[e];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n){return n===void 0&&(n=2),this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n){n===void 0&&(n=2);const i=n>0?1/n:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Uy(e.r),this.g=Uy(e.g),this.b=Uy(e.b),this}copyLinearToSRGB(e){return this.r=Hy(e.r),this.g=Hy(e.g),this.b=Hy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const n=this.r,i=this.g,s=this.b,o=Math.max(n,i,s),c=Math.min(n,i,s);let u,f;const h=(c+o)/2;if(c===o)u=0,f=0;else{const p=o-c;switch(f=h<=.5?p/(o+c):p/(2-o-c),o){case n:u=(i-s)/p+(i<s?6:0);break;case i:u=(s-n)/p+2;break;case s:u=(n-i)/p+4;break}u/=6}return e.h=u,e.s=f,e.l=h,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(qi),qi.h+=e,qi.s+=n,qi.l+=i,this.setHSL(qi.h,qi.s,qi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpHSL(e,n){this.getHSL(qi),e.getHSL(Zh);const i=st.lerp(qi.h,Zh.h,n),s=st.lerp(qi.s,Zh.s,n),o=st.lerp(qi.l,Zh.l,n);return this.setHSL(i,s,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n){return n===void 0&&(n=0),this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e,n){return e===void 0&&(e=[]),n===void 0&&(n=0),e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ke.NAMES=dC;ke.prototype.r=1;ke.prototype.g=1;ke.prototype.b=1;class Vu{constructor(e,n,i,s,o,c){this.a=e,this.b=n,this.c=i,this.normal=s&&s.isVector3?s:new X,this.vertexNormals=Array.isArray(s)?s:[],this.color=o&&o.isColor?o:new ke,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=c!==void 0?c:0}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let n=0,i=e.vertexNormals.length;n<i;n++)this.vertexNormals[n]=e.vertexNormals[n].clone();for(let n=0,i=e.vertexColors.length;n<i;n++)this.vertexColors[n]=e.vertexColors[n].clone();return this}}let W4=0;function et(){Object.defineProperty(this,"id",{value:W4++}),this.uuid=st.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=bl,this.side=Wl,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=cx,this.blendDst=ux,this.blendEquation=Na,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vd,this.stencilZFail=Vd,this.stencilZPass=Vd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}et.prototype=Object.assign(Object.create(Tr.prototype),{constructor:et,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===lx;continue}const i=this[e];if(i===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n}},toJSON:function(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==bl&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Wl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(s){const o=[];for(const c in s){const u=s[c];delete u.metadata,o.push(u)}return o}if(e){const s=i(t.textures),o=i(t.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const i=e.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(et.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});function Ni(t){et.call(this),this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=df,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Ni.prototype=Object.create(et.prototype);Ni.prototype.constructor=Ni;Ni.prototype.isMeshBasicMaterial=!0;Ni.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Dt=new X,Kh=new Ce;function Je(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n===!0,this.usage=vf,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Je.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(Je.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new ke),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ce),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new X),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new At),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},applyMatrix3:function(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)Kh.fromBufferAttribute(this,e),Kh.applyMatrix3(t),this.setXY(e,Kh.x,Kh.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)Dt.fromBufferAttribute(this,e),Dt.applyMatrix3(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.applyMatrix4(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.applyNormalMatrix(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.transformDirection(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},set:function(t,e){return e===void 0&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=s,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Iu(t,e,n){Je.call(this,new Int8Array(t),e,n)}Iu.prototype=Object.create(Je.prototype);Iu.prototype.constructor=Iu;function Fu(t,e,n){Je.call(this,new Uint8Array(t),e,n)}Fu.prototype=Object.create(Je.prototype);Fu.prototype.constructor=Fu;function ku(t,e,n){Je.call(this,new Uint8ClampedArray(t),e,n)}ku.prototype=Object.create(Je.prototype);ku.prototype.constructor=ku;function Gu(t,e,n){Je.call(this,new Int16Array(t),e,n)}Gu.prototype=Object.create(Je.prototype);Gu.prototype.constructor=Gu;function qa(t,e,n){Je.call(this,new Uint16Array(t),e,n)}qa.prototype=Object.create(Je.prototype);qa.prototype.constructor=qa;function ju(t,e,n){Je.call(this,new Int32Array(t),e,n)}ju.prototype=Object.create(Je.prototype);ju.prototype.constructor=ju;function Xa(t,e,n){Je.call(this,new Uint32Array(t),e,n)}Xa.prototype=Object.create(Je.prototype);Xa.prototype.constructor=Xa;function Ve(t,e,n){Je.call(this,new Float32Array(t),e,n)}Ve.prototype=Object.create(Je.prototype);Ve.prototype.constructor=Ve;function Wu(t,e,n){Je.call(this,new Float64Array(t),e,n)}Wu.prototype=Object.create(Je.prototype);Wu.prototype.constructor=Wu;class q4{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const n=[];let i,s,o;const c=e.faces;for(s=0;s<c.length;s++){const u=c[s];u.materialIndex!==o&&(o=u.materialIndex,i!==void 0&&(i.count=s*3-i.start,n.push(i)),i={start:s*3,materialIndex:o})}i!==void 0&&(i.count=s*3-i.start,n.push(i)),this.groups=n}fromGeometry(e){const n=e.faces,i=e.vertices,s=e.faceVertexUvs,o=s[0]&&s[0].length>0,c=s[1]&&s[1].length>0,u=e.morphTargets,f=u.length;let h;if(f>0){h=[];for(let w=0;w<f;w++)h[w]={name:u[w].name,data:[]};this.morphTargets.position=h}const p=e.morphNormals,m=p.length;let g;if(m>0){g=[];for(let w=0;w<m;w++)g[w]={name:p[w].name,data:[]};this.morphTargets.normal=g}const v=e.skinIndices,x=e.skinWeights,S=v.length===i.length,E=x.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let w=0;w<n.length;w++){const b=n[w];this.vertices.push(i[b.a],i[b.b],i[b.c]);const R=b.vertexNormals;if(R.length===3)this.normals.push(R[0],R[1],R[2]);else{const C=b.normal;this.normals.push(C,C,C)}const D=b.vertexColors;if(D.length===3)this.colors.push(D[0],D[1],D[2]);else{const C=b.color;this.colors.push(C,C,C)}if(o===!0){const C=s[0][w];C!==void 0?this.uvs.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",w),this.uvs.push(new Ce,new Ce,new Ce))}if(c===!0){const C=s[1][w];C!==void 0?this.uvs2.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",w),this.uvs2.push(new Ce,new Ce,new Ce))}for(let C=0;C<f;C++){const A=u[C].vertices;h[C].data.push(A[b.a],A[b.b],A[b.c])}for(let C=0;C<m;C++){const A=p[C].vertexNormals[w];g[C].data.push(A.a,A.b,A.c)}S&&this.skinIndices.push(v[b.a],v[b.b],v[b.c]),E&&this.skinWeights.push(x[b.a],x[b.b],x[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}}function pC(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}let X4=1;const ur=new lt,Vy=new We,Ko=new X,ci=new Ar,eu=new Ar,vn=new X;function Ze(){Object.defineProperty(this,"id",{value:X4+=2}),this.uuid=st.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ze.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Ze,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(pC(t)>65535?Xa:qa)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new kn().getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return ur.makeRotationX(t),this.applyMatrix4(ur),this},rotateY:function(t){return ur.makeRotationY(t),this.applyMatrix4(ur),this},rotateZ:function(t){return ur.makeRotationZ(t),this.applyMatrix4(ur),this},translate:function(t,e,n){return ur.makeTranslation(t,e,n),this.applyMatrix4(ur),this},scale:function(t,e,n){return ur.makeScale(t,e,n),this.applyMatrix4(ur),this},lookAt:function(t){return Vy.lookAt(t),Vy.updateMatrix(),this.applyMatrix4(Vy.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ko).negate(),this.translate(Ko.x,Ko.y,Ko.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const n=new Ve(e.vertices.length*3,3),i=new Ve(e.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const s=new Ve(e.lineDistances.length,1);this.setAttribute("lineDistance",s.copyArray(e.lineDistances))}e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const s=t[n];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ve(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let n=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(n=void 0,e.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}if(e.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1}if(e.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1}if(e.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new q4().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(t.vertices.length*3);if(this.setAttribute("position",new Je(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const n=new Float32Array(t.normals.length*3);this.setAttribute("normal",new Je(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const n=new Float32Array(t.colors.length*3);this.setAttribute("color",new Je(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const n=new Float32Array(t.uvs.length*2);this.setAttribute("uv",new Je(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const n=new Float32Array(t.uvs2.length*2);this.setAttribute("uv2",new Je(n,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const n in t.morphTargets){const i=[],s=t.morphTargets[n];for(let o=0,c=s.length;o<c;o++){const u=s[o],f=new Ve(u.data.length*3,3);f.name=u.name,i.push(f.copyVector3sArray(u.data))}this.morphAttributes[n]=i}if(t.skinIndices.length>0){const n=new Ve(t.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const n=new Ve(t.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(t.skinWeights))}return t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Ar);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,i=e.length;n<i;n++){const s=e[n];ci.setFromBufferAttribute(s),this.morphTargetsRelative?(vn.addVectors(this.boundingBox.min,ci.min),this.boundingBox.expandByPoint(vn),vn.addVectors(this.boundingBox.max,ci.max),this.boundingBox.expandByPoint(vn)):(this.boundingBox.expandByPoint(ci.min),this.boundingBox.expandByPoint(ci.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ls);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new X,1/0);return}if(t){const n=this.boundingSphere.center;if(ci.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const c=e[s];eu.setFromBufferAttribute(c),this.morphTargetsRelative?(vn.addVectors(ci.min,eu.min),ci.expandByPoint(vn),vn.addVectors(ci.max,eu.max),ci.expandByPoint(vn)):(ci.expandByPoint(eu.min),ci.expandByPoint(eu.max))}ci.getCenter(n);let i=0;for(let s=0,o=t.count;s<o;s++)vn.fromBufferAttribute(t,s),i=Math.max(i,n.distanceToSquared(vn));if(e)for(let s=0,o=e.length;s<o;s++){const c=e[s],u=this.morphTargetsRelative;for(let f=0,h=c.count;f<h;f++)vn.fromBufferAttribute(c,f),u&&(Ko.fromBufferAttribute(t,f),vn.add(Ko)),i=Math.max(i,n.distanceToSquared(vn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Je(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let m=0,g=n.count;m<g;m++)n.setXYZ(m,0,0,0);const i=new X,s=new X,o=new X,c=new X,u=new X,f=new X,h=new X,p=new X;if(t)for(let m=0,g=t.count;m<g;m+=3){const v=t.getX(m+0),x=t.getX(m+1),S=t.getX(m+2);i.fromBufferAttribute(e,v),s.fromBufferAttribute(e,x),o.fromBufferAttribute(e,S),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),c.fromBufferAttribute(n,v),u.fromBufferAttribute(n,x),f.fromBufferAttribute(n,S),c.add(h),u.add(h),f.add(h),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(x,u.x,u.y,u.z),n.setXYZ(S,f.x,f.y,f.z)}else for(let m=0,g=e.count;m<g;m+=3)i.fromBufferAttribute(e,m+0),s.fromBufferAttribute(e,m+1),o.fromBufferAttribute(e,m+2),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),n.setXYZ(m+0,h.x,h.y,h.z),n.setXYZ(m+1,h.x,h.y,h.z),n.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(t.attributes[i]===void 0)continue;const o=n[i].array,c=t.attributes[i],u=c.array,f=c.itemSize*e,h=Math.min(u.length,o.length-f);for(let p=0,m=f;p<h;p++,m++)o[m]=u[p]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)vn.fromBufferAttribute(t,e),vn.normalize(),t.setXYZ(e,vn.x,vn.y,vn.z)},toNonIndexed:function(){function t(c,u){const f=c.array,h=c.itemSize,p=c.normalized,m=new f.constructor(u.length*h);let g=0,v=0;for(let x=0,S=u.length;x<S;x++){g=u[x]*h;for(let E=0;E<h;E++)m[v++]=f[g++]}return new Je(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new Ze,n=this.index.array,i=this.attributes;for(const c in i){const u=i[c],f=t(u,n);e.setAttribute(c,f)}const s=this.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,p=f.length;h<p;h++){const m=f[h],g=t(m,n);u.push(g)}e.morphAttributes[c]=u}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(t[f]=u[f]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const u in n){const f=n[u],h=f.toJSON(t.data);f.name!==""&&(h.name=f.name),t.data.attributes[u]=h}const i={};let s=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],h=[];for(let p=0,m=f.length;p<m;p++){const g=f[p],v=g.toJSON(t.data);g.name!==""&&(v.name=g.name),h.push(v)}h.length>0&&(i[u]=h,s=!0)}s&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return new Ze().copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone(e));const i=t.attributes;for(const f in i){const h=i[f];this.setAttribute(f,h.clone(e))}const s=t.morphAttributes;for(const f in s){const h=[],p=s[f];for(let m=0,g=p.length;m<g;m++)h.push(p[m].clone(e));this.morphAttributes[f]=h}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let f=0,h=o.length;f<h;f++){const p=o[f];this.addGroup(p.start,p.count,p.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=t.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const gM=new lt,Ea=new Zl,Iy=new ls,Hs=new X,Vs=new X,Is=new X,Fy=new X,ky=new X,Gy=new X,Qh=new X,Jh=new X,$h=new X,ml=new Ce,gl=new Ce,yl=new Ce,bu=new X,ed=new X;function Ut(t,e){We.call(this),this.type="Mesh",this.geometry=t!==void 0?t:new Ze,this.material=e!==void 0?e:new Ni,this.updateMorphTargets()}Ut.prototype=Object.assign(Object.create(We.prototype),{constructor:Ut,isMesh:!0,copy:function(t){return We.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const c=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Iy.copy(n.boundingSphere),Iy.applyMatrix4(s),t.ray.intersectsSphere(Iy)===!1)||(gM.getInverse(s),Ea.copy(t.ray).applyMatrix4(gM),n.boundingBox!==null&&Ea.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const c=n.index,u=n.attributes.position,f=n.morphAttributes.position,h=n.morphTargetsRelative,p=n.attributes.uv,m=n.attributes.uv2,g=n.groups,v=n.drawRange;if(c!==null)if(Array.isArray(i))for(let x=0,S=g.length;x<S;x++){const E=g[x],w=i[E.materialIndex],b=Math.max(E.start,v.start),R=Math.min(E.start+E.count,v.start+v.count);for(let D=b,C=R;D<C;D+=3){const A=c.getX(D),O=c.getX(D+1),z=c.getX(D+2);o=td(this,w,t,Ea,u,f,h,p,m,A,O,z),o&&(o.faceIndex=Math.floor(D/3),o.face.materialIndex=E.materialIndex,e.push(o))}}else{const x=Math.max(0,v.start),S=Math.min(c.count,v.start+v.count);for(let E=x,w=S;E<w;E+=3){const b=c.getX(E),R=c.getX(E+1),D=c.getX(E+2);o=td(this,i,t,Ea,u,f,h,p,m,b,R,D),o&&(o.faceIndex=Math.floor(E/3),e.push(o))}}else if(u!==void 0)if(Array.isArray(i))for(let x=0,S=g.length;x<S;x++){const E=g[x],w=i[E.materialIndex],b=Math.max(E.start,v.start),R=Math.min(E.start+E.count,v.start+v.count);for(let D=b,C=R;D<C;D+=3){const A=D,O=D+1,z=D+2;o=td(this,w,t,Ea,u,f,h,p,m,A,O,z),o&&(o.faceIndex=Math.floor(D/3),o.face.materialIndex=E.materialIndex,e.push(o))}}else{const x=Math.max(0,v.start),S=Math.min(u.count,v.start+v.count);for(let E=x,w=S;E<w;E+=3){const b=E,R=E+1,D=E+2;o=td(this,i,t,Ea,u,f,h,p,m,b,R,D),o&&(o.faceIndex=Math.floor(E/3),e.push(o))}}}else if(n.isGeometry){const c=Array.isArray(i),u=n.vertices,f=n.faces;let h;const p=n.faceVertexUvs[0];p.length>0&&(h=p);for(let m=0,g=f.length;m<g;m++){const v=f[m],x=c?i[v.materialIndex]:i;if(x===void 0)continue;const S=u[v.a],E=u[v.b],w=u[v.c];if(o=mC(this,x,t,Ea,S,E,w,bu),o){if(h&&h[m]){const b=h[m];ml.copy(b[0]),gl.copy(b[1]),yl.copy(b[2]),o.uv=An.getUV(bu,S,E,w,ml,gl,yl,new Ce)}o.face=v,o.faceIndex=m,e.push(o)}}}}});function mC(t,e,n,i,s,o,c,u){let f;if(e.side===hn?f=i.intersectTriangle(c,o,s,!0,u):f=i.intersectTriangle(s,o,c,e.side!==hf,u),f===null)return null;ed.copy(u),ed.applyMatrix4(t.matrixWorld);const h=n.ray.origin.distanceTo(ed);return h<n.near||h>n.far?null:{distance:h,point:ed.clone(),object:t}}function td(t,e,n,i,s,o,c,u,f,h,p,m){Hs.fromBufferAttribute(s,h),Vs.fromBufferAttribute(s,p),Is.fromBufferAttribute(s,m);const g=t.morphTargetInfluences;if(e.morphTargets&&o&&g){Qh.set(0,0,0),Jh.set(0,0,0),$h.set(0,0,0);for(let x=0,S=o.length;x<S;x++){const E=g[x],w=o[x];E!==0&&(Fy.fromBufferAttribute(w,h),ky.fromBufferAttribute(w,p),Gy.fromBufferAttribute(w,m),c?(Qh.addScaledVector(Fy,E),Jh.addScaledVector(ky,E),$h.addScaledVector(Gy,E)):(Qh.addScaledVector(Fy.sub(Hs),E),Jh.addScaledVector(ky.sub(Vs),E),$h.addScaledVector(Gy.sub(Is),E)))}Hs.add(Qh),Vs.add(Jh),Is.add($h)}t.isSkinnedMesh&&(t.boneTransform(h,Hs),t.boneTransform(p,Vs),t.boneTransform(m,Is));const v=mC(t,e,n,i,Hs,Vs,Is,bu);if(v){u&&(ml.fromBufferAttribute(u,h),gl.fromBufferAttribute(u,p),yl.fromBufferAttribute(u,m),v.uv=An.getUV(bu,Hs,Vs,Is,ml,gl,yl,new Ce)),f&&(ml.fromBufferAttribute(f,h),gl.fromBufferAttribute(f,p),yl.fromBufferAttribute(f,m),v.uv2=An.getUV(bu,Hs,Vs,Is,ml,gl,yl,new Ce));const x=new Vu(h,p,m);An.getNormal(Hs,Vs,Is,x.normal),v.face=x}return v}class xf extends Ze{constructor(e=1,n=1,i=1,s=1,o=1,c=1){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:o,depthSegments:c};const u=this;s=Math.floor(s),o=Math.floor(o),c=Math.floor(c);const f=[],h=[],p=[],m=[];let g=0,v=0;x("z","y","x",-1,-1,i,n,e,c,o,0),x("z","y","x",1,-1,i,n,-e,c,o,1),x("x","z","y",1,1,e,i,n,s,c,2),x("x","z","y",1,-1,e,i,-n,s,c,3),x("x","y","z",1,-1,e,n,i,s,o,4),x("x","y","z",-1,-1,e,n,-i,s,o,5),this.setIndex(f),this.setAttribute("position",new Ve(h,3)),this.setAttribute("normal",new Ve(p,3)),this.setAttribute("uv",new Ve(m,2));function x(S,E,w,b,R,D,C,A,O,z,N){const P=D/O,G=C/z,W=D/2,I=C/2,k=A/2,j=O+1,V=z+1;let T=0,re=0;const Y=new X;for(let M=0;M<V;M++){const B=M*G-I;for(let J=0;J<j;J++){const ie=J*P-W;Y[S]=ie*b,Y[E]=B*R,Y[w]=k,h.push(Y.x,Y.y,Y.z),Y[S]=0,Y[E]=0,Y[w]=A>0?1:-1,p.push(Y.x,Y.y,Y.z),m.push(J/O),m.push(1-M/z),T+=1}}for(let M=0;M<z;M++)for(let B=0;B<O;B++){const J=g+B+j*M,ie=g+B+j*(M+1),ae=g+(B+1)+j*(M+1),te=g+(B+1)+j*M;f.push(J,ie,te),f.push(ie,ae,te),re+=6}u.addGroup(v,re,N),v+=re,g+=T}}}function Tl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture)?e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Dn(t){const e={};for(let n=0;n<t.length;n++){const i=Tl(t[n]);for(const s in i)e[s]=i[s]}return e}const gC={clone:Tl,merge:Dn};var Y4=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Z4=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function jn(t){et.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Y4,this.fragmentShader=Z4,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}jn.prototype=Object.create(et.prototype);jn.prototype.constructor=jn;jn.prototype.isShaderMaterial=!0;jn.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Tl(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this};jn.prototype.toJSON=function(t){const e=et.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?e.uniforms[i]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[i]={type:"m4",value:o.toArray()}:e.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e};function xr(){We.call(this),this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt}xr.prototype=Object.assign(Object.create(We.prototype),{constructor:xr,isCamera:!0,copy:function(t,e){return We.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new X),this.updateMatrixWorld(!0);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){We.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){We.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function ln(t,e,n,i){xr.call(this),this.type="PerspectiveCamera",this.fov=t!==void 0?t:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=e!==void 0?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ln.prototype=Object.assign(Object.create(xr.prototype),{constructor:ln,isPerspectiveCamera:!0,copy:function(t,e){return xr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=st.RAD2DEG*2*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(st.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return st.RAD2DEG*2*Math.atan(Math.tan(st.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(st.DEG2RAD*.5*this.fov)/this.zoom,n=2*e,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;s+=o.offsetX*i/u,e-=o.offsetY*n/f,i*=o.width/u,n*=o.height/f}const c=this.filmOffset;c!==0&&(s+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){const e=We.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const Qo=90,Jo=1;function Al(t,e,n){if(We.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new ln(Qo,Jo,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new X(1,0,0)),this.add(i);const s=new ln(Qo,Jo,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new X(-1,0,0)),this.add(s);const o=new ln(Qo,Jo,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new X(0,1,0)),this.add(o);const c=new ln(Qo,Jo,t,e);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new X(0,-1,0)),this.add(c);const u=new ln(Qo,Jo,t,e);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new X(0,0,1)),this.add(u);const f=new ln(Qo,Jo,t,e);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new X(0,0,-1)),this.add(f),this.update=function(h,p){this.parent===null&&this.updateMatrixWorld();const m=h.xr.enabled,g=h.getRenderTarget();h.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,h.setRenderTarget(n,0),h.render(p,i),h.setRenderTarget(n,1),h.render(p,s),h.setRenderTarget(n,2),h.render(p,o),h.setRenderTarget(n,3),h.render(p,c),h.setRenderTarget(n,4),h.render(p,u),n.texture.generateMipmaps=v,h.setRenderTarget(n,5),h.render(p,f),h.setRenderTarget(g),h.xr.enabled=m},this.clear=function(h,p,m,g){const v=h.getRenderTarget();for(let x=0;x<6;x++)h.setRenderTarget(n,x),h.clear(p,m,g);h.setRenderTarget(v)}}Al.prototype=Object.create(We.prototype);Al.prototype.constructor=Al;function br(t,e,n,i,s,o,c,u,f,h){t=t!==void 0?t:[],e=e!==void 0?e:pf,c=c!==void 0?c:Ws,Rt.call(this,t,e,n,i,s,o,c,u,f,h),this.flipY=!1,this._needsFlipEnvMap=!0}br.prototype=Object.create(Rt.prototype);br.prototype.constructor=br;br.prototype.isCubeTexture=!0;Object.defineProperty(br.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});function Qs(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),di.call(this,t,t,e),e=e||{},this.texture=new br(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}Qs.prototype=Object.create(di.prototype);Qs.prototype.constructor=Qs;Qs.prototype.isWebGLCubeRenderTarget=!0;Qs.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=hi,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new xf(5,5,5),s=new jn({name:"CubemapFromEquirect",uniforms:Tl(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:hn,blending:$r});s.uniforms.tEquirect.value=e;const o=new Ut(i,s),c=e.minFilter;return e.minFilter===Xl&&(e.minFilter=bn),new Al(1,10,this).update(t,o),e.minFilter=c,o.geometry.dispose(),o.material.dispose(),this};function Ya(t,e,n,i,s,o,c,u,f,h,p,m){Rt.call(this,null,o,c,u,f,h,i,s,p,m),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=f!==void 0?f:dn,this.minFilter=h!==void 0?h:dn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ya.prototype=Object.create(Rt.prototype);Ya.prototype.constructor=Ya;Ya.prototype.isDataTexture=!0;const $o=new ls,nd=new X;class bf{constructor(e,n,i,s,o,c){this.planes=[e!==void 0?e:new pr,n!==void 0?n:new pr,i!==void 0?i:new pr,s!==void 0?s:new pr,o!==void 0?o:new pr,c!==void 0?c:new pr]}set(e,n,i,s,o,c){const u=this.planes;return u[0].copy(e),u[1].copy(n),u[2].copy(i),u[3].copy(s),u[4].copy(o),u[5].copy(c),this}clone(){return new this.constructor().copy(this)}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,s=i[0],o=i[1],c=i[2],u=i[3],f=i[4],h=i[5],p=i[6],m=i[7],g=i[8],v=i[9],x=i[10],S=i[11],E=i[12],w=i[13],b=i[14],R=i[15];return n[0].setComponents(u-s,m-f,S-g,R-E).normalize(),n[1].setComponents(u+s,m+f,S+g,R+E).normalize(),n[2].setComponents(u+o,m+h,S+v,R+w).normalize(),n[3].setComponents(u-o,m-h,S-v,R-w).normalize(),n[4].setComponents(u-c,m-p,S-x,R-b).normalize(),n[5].setComponents(u+c,m+p,S+x,R+b).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),$o.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($o)}intersectsSprite(e){return $o.center.set(0,0,0),$o.radius=.7071067811865476,$o.applyMatrix4(e.matrixWorld),this.intersectsSphere($o)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(nd.x=s.normal.x>0?e.max.x:e.min.x,nd.y=s.normal.y>0?e.max.y:e.min.y,nd.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(nd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}}function yC(){let t=null,e=!1,n=null,i=null;function s(o,c){n(o,c),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function K4(t,e){const n=e.isWebGL2,i=new WeakMap;function s(h,p){const m=h.array,g=h.usage,v=t.createBuffer();t.bindBuffer(p,v),t.bufferData(p,m,g),h.onUploadCallback();let x=5126;return m instanceof Float32Array?x=5126:m instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):m instanceof Uint16Array?x=5123:m instanceof Int16Array?x=5122:m instanceof Uint32Array?x=5125:m instanceof Int32Array?x=5124:m instanceof Int8Array?x=5120:m instanceof Uint8Array&&(x=5121),{buffer:v,type:x,bytesPerElement:m.BYTES_PER_ELEMENT,version:h.version}}function o(h,p,m){const g=p.array,v=p.updateRange;t.bindBuffer(m,h),v.count===-1?t.bufferSubData(m,0,g):(n?t.bufferSubData(m,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):t.bufferSubData(m,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1)}function c(h){return h.isInterleavedBufferAttribute&&(h=h.data),i.get(h)}function u(h){h.isInterleavedBufferAttribute&&(h=h.data);const p=i.get(h);p&&(t.deleteBuffer(p.buffer),i.delete(h))}function f(h,p){if(h.isGLBufferAttribute){var m=i.get(h);(!m||m.version<h.version)&&i.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const g=i.get(h);g===void 0?i.set(h,s(h,p)):g.version<h.version&&(o(g.buffer,h,p),g.version=h.version)}return{get:c,remove:u,update:f}}class Hp extends Ze{constructor(e,n,i,s){super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s},e=e||1,n=n||1;const o=e/2,c=n/2,u=Math.floor(i)||1,f=Math.floor(s)||1,h=u+1,p=f+1,m=e/u,g=n/f,v=[],x=[],S=[],E=[];for(let w=0;w<p;w++){const b=w*g-c;for(let R=0;R<h;R++){const D=R*m-o;x.push(D,-b,0),S.push(0,0,1),E.push(R/u),E.push(1-w/f)}}for(let w=0;w<f;w++)for(let b=0;b<u;b++){const R=b+h*w,D=b+h*(w+1),C=b+1+h*(w+1),A=b+1+h*w;v.push(R,D,A),v.push(D,C,A)}this.setIndex(v),this.setAttribute("position",new Ve(x,3)),this.setAttribute("normal",new Ve(S,3)),this.setAttribute("uv",new Ve(E,2))}}var Q4=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,J4=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$4=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,eU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,tU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nU="vec3 transformed = vec3( position );",iU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rU=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,sU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,aU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,oU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,uU=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,fU=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,hU=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dU=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,mU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_U="gl_FragColor = linearToOutputTexel( gl_FragColor );",wU=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,SU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,EU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,TU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,CU=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,RU=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,LU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,OU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,DU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,PU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,NU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,BU=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,zU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,UU=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,HU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VU=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,IU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,FU=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,kU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,GU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,qU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,XU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,YU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,KU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,QU=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,JU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$U=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,eH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,rH=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,sH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,aH=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,oH=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,lH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,cH=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,uH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,fH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,hH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,dH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,xH=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,bH=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_H=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,wH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,MH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,EH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,CH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,RH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,LH=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OH=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,DH=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,PH=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,NH=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,BH=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,zH=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,UH=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,HH=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,VH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,IH=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,FH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,kH=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,GH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,WH=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ZH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,KH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,QH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,JH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$H=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,eV=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tV=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iV=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sV=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oV=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lV=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cV=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,fV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,hV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,mV=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ht={alphamap_fragment:Q4,alphamap_pars_fragment:J4,alphatest_fragment:$4,aomap_fragment:eU,aomap_pars_fragment:tU,begin_vertex:nU,beginnormal_vertex:iU,bsdfs:rU,bumpmap_pars_fragment:sU,clipping_planes_fragment:aU,clipping_planes_pars_fragment:oU,clipping_planes_pars_vertex:lU,clipping_planes_vertex:cU,color_fragment:uU,color_pars_fragment:fU,color_pars_vertex:hU,color_vertex:dU,common:pU,cube_uv_reflection_fragment:mU,defaultnormal_vertex:gU,displacementmap_pars_vertex:yU,displacementmap_vertex:vU,emissivemap_fragment:xU,emissivemap_pars_fragment:bU,encodings_fragment:_U,encodings_pars_fragment:wU,envmap_fragment:SU,envmap_common_pars_fragment:MU,envmap_pars_fragment:EU,envmap_pars_vertex:TU,envmap_physical_pars_fragment:UU,envmap_vertex:AU,fog_vertex:CU,fog_pars_vertex:RU,fog_fragment:LU,fog_pars_fragment:OU,gradientmap_pars_fragment:DU,lightmap_fragment:PU,lightmap_pars_fragment:NU,lights_lambert_vertex:BU,lights_pars_begin:zU,lights_toon_fragment:HU,lights_toon_pars_fragment:VU,lights_phong_fragment:IU,lights_phong_pars_fragment:FU,lights_physical_fragment:kU,lights_physical_pars_fragment:GU,lights_fragment_begin:jU,lights_fragment_maps:WU,lights_fragment_end:qU,logdepthbuf_fragment:XU,logdepthbuf_pars_fragment:YU,logdepthbuf_pars_vertex:ZU,logdepthbuf_vertex:KU,map_fragment:QU,map_pars_fragment:JU,map_particle_fragment:$U,map_particle_pars_fragment:eH,metalnessmap_fragment:tH,metalnessmap_pars_fragment:nH,morphnormal_vertex:iH,morphtarget_pars_vertex:rH,morphtarget_vertex:sH,normal_fragment_begin:aH,normal_fragment_maps:oH,normalmap_pars_fragment:lH,clearcoat_normal_fragment_begin:cH,clearcoat_normal_fragment_maps:uH,clearcoat_pars_fragment:fH,packing:hH,premultiplied_alpha_fragment:dH,project_vertex:pH,dithering_fragment:mH,dithering_pars_fragment:gH,roughnessmap_fragment:yH,roughnessmap_pars_fragment:vH,shadowmap_pars_fragment:xH,shadowmap_pars_vertex:bH,shadowmap_vertex:_H,shadowmask_pars_fragment:wH,skinbase_vertex:SH,skinning_pars_vertex:MH,skinning_vertex:EH,skinnormal_vertex:TH,specularmap_fragment:AH,specularmap_pars_fragment:CH,tonemapping_fragment:RH,tonemapping_pars_fragment:LH,transmissionmap_fragment:OH,transmissionmap_pars_fragment:DH,uv_pars_fragment:PH,uv_pars_vertex:NH,uv_vertex:BH,uv2_pars_fragment:zH,uv2_pars_vertex:UH,uv2_vertex:HH,worldpos_vertex:VH,background_frag:IH,background_vert:FH,cube_frag:kH,cube_vert:GH,depth_frag:jH,depth_vert:WH,distanceRGBA_frag:qH,distanceRGBA_vert:XH,equirect_frag:YH,equirect_vert:ZH,linedashed_frag:KH,linedashed_vert:QH,meshbasic_frag:JH,meshbasic_vert:$H,meshlambert_frag:eV,meshlambert_vert:tV,meshmatcap_frag:nV,meshmatcap_vert:iV,meshtoon_frag:rV,meshtoon_vert:sV,meshphong_frag:aV,meshphong_vert:oV,meshphysical_frag:lV,meshphysical_vert:cV,normal_frag:uV,normal_vert:fV,points_frag:hV,points_vert:dV,shadow_frag:pV,shadow_vert:mV,sprite_frag:gV,sprite_vert:yV},Fe={common:{diffuse:{value:new ke(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new kn},uv2Transform:{value:new kn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new kn}},sprite:{diffuse:{value:new ke(15658734)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new kn}}},Zi={basic:{uniforms:Dn([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:ht.meshbasic_vert,fragmentShader:ht.meshbasic_frag},lambert:{uniforms:Dn([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)}}]),vertexShader:ht.meshlambert_vert,fragmentShader:ht.meshlambert_frag},phong:{uniforms:Dn([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:ht.meshphong_vert,fragmentShader:ht.meshphong_frag},standard:{uniforms:Dn([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag},toon:{uniforms:Dn([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)}}]),vertexShader:ht.meshtoon_vert,fragmentShader:ht.meshtoon_frag},matcap:{uniforms:Dn([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:ht.meshmatcap_vert,fragmentShader:ht.meshmatcap_frag},points:{uniforms:Dn([Fe.points,Fe.fog]),vertexShader:ht.points_vert,fragmentShader:ht.points_frag},dashed:{uniforms:Dn([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ht.linedashed_vert,fragmentShader:ht.linedashed_frag},depth:{uniforms:Dn([Fe.common,Fe.displacementmap]),vertexShader:ht.depth_vert,fragmentShader:ht.depth_frag},normal:{uniforms:Dn([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:ht.normal_vert,fragmentShader:ht.normal_frag},sprite:{uniforms:Dn([Fe.sprite,Fe.fog]),vertexShader:ht.sprite_vert,fragmentShader:ht.sprite_frag},background:{uniforms:{uvTransform:{value:new kn},t2D:{value:null}},vertexShader:ht.background_vert,fragmentShader:ht.background_frag},cube:{uniforms:Dn([Fe.envmap,{opacity:{value:1}}]),vertexShader:ht.cube_vert,fragmentShader:ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ht.equirect_vert,fragmentShader:ht.equirect_frag},distanceRGBA:{uniforms:Dn([Fe.common,Fe.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ht.distanceRGBA_vert,fragmentShader:ht.distanceRGBA_frag},shadow:{uniforms:Dn([Fe.lights,Fe.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:ht.shadow_vert,fragmentShader:ht.shadow_frag}};Zi.physical={uniforms:Dn([Zi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ke(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag};function vV(t,e,n,i,s){const o=new ke(0);let c=0,u,f,h=null,p=0,m=null;function g(x,S,E,w){let b=S.isScene===!0?S.background:null;b&&b.isTexture&&(b=e.get(b));const R=t.xr,D=R.getSession&&R.getSession();D&&D.environmentBlendMode==="additive"&&(b=null),b===null?v(o,c):b&&b.isColor&&(v(b,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.isWebGLCubeRenderTarget||b.mapping===ql)?(f===void 0&&(f=new Ut(new xf(1,1,1),new jn({name:"BackgroundCubeMaterial",uniforms:Tl(Zi.cube.uniforms),vertexShader:Zi.cube.vertexShader,fragmentShader:Zi.cube.fragmentShader,side:hn,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(C,A,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),b.isWebGLCubeRenderTarget&&(b=b.texture),f.material.uniforms.envMap.value=b,f.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b._needsFlipEnvMap?-1:1,(h!==b||p!==b.version||m!==t.toneMapping)&&(f.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),x.unshift(f,f.geometry,f.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Ut(new Hp(2,2),new jn({name:"BackgroundMaterial",uniforms:Tl(Zi.background.uniforms),vertexShader:Zi.background.vertexShader,fragmentShader:Zi.background.fragmentShader,side:Wl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),x.unshift(u,u.geometry,u.material,0,0,null))}function v(x,S){n.buffers.color.setClear(x.r,x.g,x.b,S,s)}return{getClearColor:function(){return o},setClearColor:function(x,S){o.set(x),c=S!==void 0?S:1,v(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(x){c=x,v(o,c)},render:g}}function xV(t,e,n,i){const s=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),c=i.isWebGL2||o!==null,u={},f=S(null);let h=f;function p(I,k,j,V,T){let re=!1;if(c){const Y=x(V,j,k);h!==Y&&(h=Y,g(h.object)),re=E(V,T),re&&w(V,T)}else{const Y=k.wireframe===!0;(h.geometry!==V.id||h.program!==j.id||h.wireframe!==Y)&&(h.geometry=V.id,h.program=j.id,h.wireframe=Y,re=!0)}I.isInstancedMesh===!0&&(re=!0),T!==null&&n.update(T,34963),re&&(O(I,k,j,V),T!==null&&t.bindBuffer(34963,n.get(T).buffer))}function m(){return i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function g(I){return i.isWebGL2?t.bindVertexArray(I):o.bindVertexArrayOES(I)}function v(I){return i.isWebGL2?t.deleteVertexArray(I):o.deleteVertexArrayOES(I)}function x(I,k,j){const V=j.wireframe===!0;let T=u[I.id];T===void 0&&(T={},u[I.id]=T);let re=T[k.id];re===void 0&&(re={},T[k.id]=re);let Y=re[V];return Y===void 0&&(Y=S(m()),re[V]=Y),Y}function S(I){const k=[],j=[],V=[];for(let T=0;T<s;T++)k[T]=0,j[T]=0,V[T]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:j,attributeDivisors:V,object:I,attributes:{},index:null}}function E(I,k){const j=h.attributes,V=I.attributes;if(Object.keys(j).length!==Object.keys(V).length)return!0;for(const T in V){const re=j[T],Y=V[T];if(re===void 0||re.attribute!==Y||re.data!==Y.data)return!0}return h.index!==k}function w(I,k){const j={},V=I.attributes;for(const T in V){const re=V[T],Y={};Y.attribute=re,re.data&&(Y.data=re.data),j[T]=Y}h.attributes=j,h.index=k}function b(){const I=h.newAttributes;for(let k=0,j=I.length;k<j;k++)I[k]=0}function R(I){D(I,0)}function D(I,k){const j=h.newAttributes,V=h.enabledAttributes,T=h.attributeDivisors;j[I]=1,V[I]===0&&(t.enableVertexAttribArray(I),V[I]=1),T[I]!==k&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,k),T[I]=k)}function C(){const I=h.newAttributes,k=h.enabledAttributes;for(let j=0,V=k.length;j<V;j++)k[j]!==I[j]&&(t.disableVertexAttribArray(j),k[j]=0)}function A(I,k,j,V,T,re){i.isWebGL2===!0&&(j===5124||j===5125)?t.vertexAttribIPointer(I,k,j,T,re):t.vertexAttribPointer(I,k,j,V,T,re)}function O(I,k,j,V){if(i.isWebGL2===!1&&(I.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const T=V.attributes,re=j.getAttributes(),Y=k.defaultAttributeValues;for(const M in re){const B=re[M];if(B>=0){const J=T[M];if(J!==void 0){const ie=J.normalized,ae=J.itemSize,te=n.get(J);if(te===void 0)continue;const pe=te.buffer,me=te.type,Le=te.bytesPerElement;if(J.isInterleavedBufferAttribute){const De=J.data,Ie=De.stride,Ue=J.offset;De&&De.isInstancedInterleavedBuffer?(D(B,De.meshPerAttribute),V._maxInstanceCount===void 0&&(V._maxInstanceCount=De.meshPerAttribute*De.count)):R(B),t.bindBuffer(34962,pe),A(B,ae,me,ie,Ie*Le,Ue*Le)}else J.isInstancedBufferAttribute?(D(B,J.meshPerAttribute),V._maxInstanceCount===void 0&&(V._maxInstanceCount=J.meshPerAttribute*J.count)):R(B),t.bindBuffer(34962,pe),A(B,ae,me,ie,0,0)}else if(M==="instanceMatrix"){const ie=n.get(I.instanceMatrix);if(ie===void 0)continue;const ae=ie.buffer,te=ie.type;D(B+0,1),D(B+1,1),D(B+2,1),D(B+3,1),t.bindBuffer(34962,ae),t.vertexAttribPointer(B+0,4,te,!1,64,0),t.vertexAttribPointer(B+1,4,te,!1,64,16),t.vertexAttribPointer(B+2,4,te,!1,64,32),t.vertexAttribPointer(B+3,4,te,!1,64,48)}else if(M==="instanceColor"){const ie=n.get(I.instanceColor);if(ie===void 0)continue;const ae=ie.buffer,te=ie.type;D(B,1),t.bindBuffer(34962,ae),t.vertexAttribPointer(B,3,te,!1,12,0)}else if(Y!==void 0){const ie=Y[M];if(ie!==void 0)switch(ie.length){case 2:t.vertexAttrib2fv(B,ie);break;case 3:t.vertexAttrib3fv(B,ie);break;case 4:t.vertexAttrib4fv(B,ie);break;default:t.vertexAttrib1fv(B,ie)}}}}C()}function z(){G();for(const I in u){const k=u[I];for(const j in k){const V=k[j];for(const T in V)v(V[T].object),delete V[T];delete k[j]}delete u[I]}}function N(I){if(u[I.id]===void 0)return;const k=u[I.id];for(const j in k){const V=k[j];for(const T in V)v(V[T].object),delete V[T];delete k[j]}delete u[I.id]}function P(I){for(const k in u){const j=u[k];if(j[I.id]===void 0)continue;const V=j[I.id];for(const T in V)v(V[T].object),delete V[T];delete j[I.id]}}function G(){W(),h!==f&&(h=f,g(h.object))}function W(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:p,reset:G,resetDefaultState:W,dispose:z,releaseStatesOfGeometry:N,releaseStatesOfProgram:P,initAttributes:b,enableAttribute:R,disableUnusedAttributes:C}}function bV(t,e,n,i){const s=i.isWebGL2;let o;function c(h){o=h}function u(h,p){t.drawArrays(o,h,p),n.update(p,o,1)}function f(h,p,m){if(m===0)return;let g,v;if(s)g=t,v="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](o,h,p,m),n.update(p,o,m)}this.setMode=c,this.render=u,this.renderInstances=f}function _V(t,e,n){let i;function s(){if(i!==void 0)return i;const A=e.get("EXT_texture_filter_anisotropic");return A!==null?i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(A){if(A==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let u=n.precision!==void 0?n.precision:"highp";const f=o(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const h=n.logarithmicDepthBuffer===!0,p=t.getParameter(34930),m=t.getParameter(35660),g=t.getParameter(3379),v=t.getParameter(34076),x=t.getParameter(34921),S=t.getParameter(36347),E=t.getParameter(36348),w=t.getParameter(36349),b=m>0,R=c||!!e.get("OES_texture_float"),D=b&&R,C=c?t.getParameter(36183):0;return{isWebGL2:c,getMaxAnisotropy:s,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:S,maxVaryings:E,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:R,floatVertexTextures:D,maxSamples:C}}function wV(t){const e=this;let n=null,i=0,s=!1,o=!1;const c=new pr,u=new kn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g,v){const x=m.length!==0||g||i!==0||s;return s=g,n=p(m,v,0),i=m.length,x},this.beginShadows=function(){o=!0,p(null)},this.endShadows=function(){o=!1,h()},this.setState=function(m,g,v){const x=m.clippingPlanes,S=m.clipIntersection,E=m.clipShadows,w=t.get(m);if(!s||x===null||x.length===0||o&&!E)o?p(null):h();else{const b=o?0:i,R=b*4;let D=w.clippingState||null;f.value=D,D=p(x,g,R,v);for(let C=0;C!==R;++C)D[C]=n[C];w.clippingState=D,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=b}};function h(){f.value!==n&&(f.value=n,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(m,g,v,x){const S=m!==null?m.length:0;let E=null;if(S!==0){if(E=f.value,x!==!0||E===null){const w=v+S*4,b=g.matrixWorldInverse;u.getNormalMatrix(b),(E===null||E.length<w)&&(E=new Float32Array(w));for(let R=0,D=v;R!==S;++R,D+=4)c.copy(m[R]).applyMatrix4(b,u),c.normal.toArray(E,D),E[D+3]=c.constant}f.value=E,f.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function SV(t){let e=new WeakMap;function n(o,c){return c===Yd?o.mapping=pf:c===Zd&&(o.mapping=mf),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===Yd||c===Zd)if(e.has(o)){const u=e.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=t.getRenderList(),h=t.getRenderTarget(),p=t.getRenderState(),m=new Qs(u.height/2);return m.fromEquirectangularTexture(t,o),e.set(o,m),t.setRenderTarget(h),t.setRenderList(f),t.setRenderState(p),n(m.texture,o.mapping)}else return null}}return o}function s(){e=new WeakMap}return{get:i,dispose:s}}function MV(t){const e={};return{has:function(n){if(e[n]!==void 0)return e[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]}}}function EV(t,e,n,i){const s=new WeakMap,o=new WeakMap;function c(m){const g=m.target,v=s.get(g);v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);g.removeEventListener("dispose",c),s.delete(g);const x=o.get(v);x&&(e.remove(x),o.delete(v)),i.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function u(m,g){let v=s.get(g);return v||(g.addEventListener("dispose",c),g.isBufferGeometry?v=g:g.isGeometry&&(g._bufferGeometry===void 0&&(g._bufferGeometry=new Ze().setFromObject(m)),v=g._bufferGeometry),s.set(g,v),n.memory.geometries++,v)}function f(m){const g=m.attributes;for(const x in g)e.update(g[x],34962);const v=m.morphAttributes;for(const x in v){const S=v[x];for(let E=0,w=S.length;E<w;E++)e.update(S[E],34962)}}function h(m){const g=[],v=m.index,x=m.attributes.position;let S=0;if(v!==null){const b=v.array;S=v.version;for(let R=0,D=b.length;R<D;R+=3){const C=b[R+0],A=b[R+1],O=b[R+2];g.push(C,A,A,O,O,C)}}else{const b=x.array;S=x.version;for(let R=0,D=b.length/3-1;R<D;R+=3){const C=R+0,A=R+1,O=R+2;g.push(C,A,A,O,O,C)}}const E=new(pC(g)>65535?Xa:qa)(g,1);E.version=S;const w=o.get(m);w&&e.remove(w),o.set(m,E)}function p(m){const g=o.get(m);if(g){const v=m.index;v!==null&&g.version<v.version&&h(m)}else h(m);return o.get(m)}return{get:u,update:f,getWireframeAttribute:p}}function TV(t,e,n,i){const s=i.isWebGL2;let o;function c(g){o=g}let u,f;function h(g){u=g.type,f=g.bytesPerElement}function p(g,v){t.drawElements(o,v,u,g*f),n.update(v,o,1)}function m(g,v,x){if(x===0)return;let S,E;if(s)S=t,E="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[E](o,v,u,g*f,x),n.update(v,o,x)}this.setMode=c,this.setIndex=h,this.render=p,this.renderInstances=m}function AV(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,c,u){switch(n.calls++,c){case 4:n.triangles+=u*(o/3);break;case 1:n.lines+=u*(o/2);break;case 3:n.lines+=u*(o-1);break;case 2:n.lines+=u*o;break;case 0:n.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function s(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function CV(t,e){return t[0]-e[0]}function RV(t,e){return Math.abs(e[1])-Math.abs(t[1])}function LV(t){const e={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function s(o,c,u,f){const h=o.morphTargetInfluences,p=h===void 0?0:h.length;let m=e[c.id];if(m===void 0){m=[];for(let E=0;E<p;E++)m[E]=[E,0];e[c.id]=m}for(let E=0;E<p;E++){const w=m[E];w[0]=E,w[1]=h[E]}m.sort(RV);for(let E=0;E<8;E++)E<p&&m[E][1]?(i[E][0]=m[E][0],i[E][1]=m[E][1]):(i[E][0]=Number.MAX_SAFE_INTEGER,i[E][1]=0);i.sort(CV);const g=u.morphTargets&&c.morphAttributes.position,v=u.morphNormals&&c.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const w=i[E],b=w[0],R=w[1];b!==Number.MAX_SAFE_INTEGER&&R?(g&&c.getAttribute("morphTarget"+E)!==g[b]&&c.setAttribute("morphTarget"+E,g[b]),v&&c.getAttribute("morphNormal"+E)!==v[b]&&c.setAttribute("morphNormal"+E,v[b]),n[E]=R,x+=R):(g&&c.getAttribute("morphTarget"+E)!==void 0&&c.deleteAttribute("morphTarget"+E),v&&c.getAttribute("morphNormal"+E)!==void 0&&c.deleteAttribute("morphNormal"+E),n[E]=0)}const S=c.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",n)}return{update:s}}function OV(t,e,n,i){let s=new WeakMap;function o(u){const f=i.render.frame,h=u.geometry,p=e.get(u,h);return s.get(p)!==f&&(h.isGeometry&&p.updateFromObject(u),e.update(p),s.set(p,f)),u.isInstancedMesh&&(n.update(u.instanceMatrix,34962),u.instanceColor!==null&&n.update(u.instanceColor,34962)),p}function c(){s=new WeakMap}return{update:o,dispose:c}}function Cl(t,e,n,i){Rt.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=dn,this.minFilter=dn,this.wrapR=In,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Cl.prototype=Object.create(Rt.prototype);Cl.prototype.constructor=Cl;Cl.prototype.isDataTexture2DArray=!0;function Rl(t,e,n,i){Rt.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=dn,this.minFilter=dn,this.wrapR=In,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Rl.prototype=Object.create(Rt.prototype);Rl.prototype.constructor=Rl;Rl.prototype.isDataTexture3D=!0;const vC=new Rt,DV=new Cl,PV=new Rl,xC=new br,yM=[],vM=[],xM=new Float32Array(16),bM=new Float32Array(9),_M=new Float32Array(4);function Ql(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let o=yM[s];if(o===void 0&&(o=new Float32Array(s),yM[s]=o),e!==0){i.toArray(o,0);for(let c=1,u=0;c!==e;++c)u+=n,t[c].toArray(o,u)}return o}function Bi(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function mi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function bC(t,e){let n=vM[e];n===void 0&&(n=new Int32Array(e),vM[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function NV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function BV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bi(n,e))return;t.uniform2fv(this.addr,e),mi(n,e)}}function zV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bi(n,e))return;t.uniform3fv(this.addr,e),mi(n,e)}}function UV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bi(n,e))return;t.uniform4fv(this.addr,e),mi(n,e)}}function HV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),mi(n,e)}else{if(Bi(n,i))return;_M.set(i),t.uniformMatrix2fv(this.addr,!1,_M),mi(n,i)}}function VV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),mi(n,e)}else{if(Bi(n,i))return;bM.set(i),t.uniformMatrix3fv(this.addr,!1,bM),mi(n,i)}}function IV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Bi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),mi(n,e)}else{if(Bi(n,i))return;xM.set(i),t.uniformMatrix4fv(this.addr,!1,xM),mi(n,i)}}function FV(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.safeSetTexture2D(e||vC,s)}function kV(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||DV,s)}function GV(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||PV,s)}function jV(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.safeSetTextureCube(e||xC,s)}function WV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function qV(t,e){const n=this.cache;Bi(n,e)||(t.uniform2iv(this.addr,e),mi(n,e))}function XV(t,e){const n=this.cache;Bi(n,e)||(t.uniform3iv(this.addr,e),mi(n,e))}function YV(t,e){const n=this.cache;Bi(n,e)||(t.uniform4iv(this.addr,e),mi(n,e))}function ZV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function KV(t){switch(t){case 5126:return NV;case 35664:return BV;case 35665:return zV;case 35666:return UV;case 35674:return HV;case 35675:return VV;case 35676:return IV;case 5124:case 35670:return WV;case 35667:case 35671:return qV;case 35668:case 35672:return XV;case 35669:case 35673:return YV;case 5125:return ZV;case 35678:case 36198:case 36298:case 36306:case 35682:return FV;case 35679:case 36299:case 36307:return GV;case 35680:case 36300:case 36308:case 36293:return jV;case 36289:case 36303:case 36311:case 36292:return kV}}function QV(t,e){t.uniform1fv(this.addr,e)}function JV(t,e){t.uniform1iv(this.addr,e)}function $V(t,e){t.uniform2iv(this.addr,e)}function eI(t,e){t.uniform3iv(this.addr,e)}function tI(t,e){t.uniform4iv(this.addr,e)}function nI(t,e){const n=Ql(e,this.size,2);t.uniform2fv(this.addr,n)}function iI(t,e){const n=Ql(e,this.size,3);t.uniform3fv(this.addr,n)}function rI(t,e){const n=Ql(e,this.size,4);t.uniform4fv(this.addr,n)}function sI(t,e){const n=Ql(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function aI(t,e){const n=Ql(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function oI(t,e){const n=Ql(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lI(t,e,n){const i=e.length,s=bC(n,i);t.uniform1iv(this.addr,s);for(let o=0;o!==i;++o)n.safeSetTexture2D(e[o]||vC,s[o])}function cI(t,e,n){const i=e.length,s=bC(n,i);t.uniform1iv(this.addr,s);for(let o=0;o!==i;++o)n.safeSetTextureCube(e[o]||xC,s[o])}function uI(t){switch(t){case 5126:return QV;case 35664:return nI;case 35665:return iI;case 35666:return rI;case 35674:return sI;case 35675:return aI;case 35676:return oI;case 5124:case 35670:return JV;case 35667:case 35671:return $V;case 35668:case 35672:return eI;case 35669:case 35673:return tI;case 35678:case 36198:case 36298:case 36306:case 35682:return lI;case 35680:case 36300:case 36308:case 36293:return cI}}function fI(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=KV(e.type)}function _C(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=uI(e.type)}_C.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),mi(e,t)};function wC(t){this.id=t,this.seq=[],this.map={}}wC.prototype.setValue=function(t,e,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const c=i[s];c.setValue(t,e[c.id],n)}};const jy=/([\w\d_]+)(\])?(\[|\.)?/g;function wM(t,e){t.seq.push(e),t.map[e.id]=e}function hI(t,e,n){const i=t.name,s=i.length;for(jy.lastIndex=0;;){const o=jy.exec(i),c=jy.lastIndex;let u=o[1];const f=o[2]==="]",h=o[3];if(f&&(u=u|0),h===void 0||h==="["&&c+2===s){wM(n,h===void 0?new fI(u,t,e):new _C(u,t,e));break}else{let m=n.map[u];m===void 0&&(m=new wC(u),wM(n,m)),n=m}}}function qs(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const s=t.getActiveUniform(e,i),o=t.getUniformLocation(e,s.name);hI(s,o,this)}}qs.prototype.setValue=function(t,e,n,i){const s=this.map[e];s!==void 0&&s.setValue(t,n,i)};qs.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};qs.upload=function(t,e,n,i){for(let s=0,o=e.length;s!==o;++s){const c=e[s],u=n[c.id];u.needsUpdate!==!1&&c.setValue(t,u.value,i)}};qs.seqWithValue=function(t,e){const n=[];for(let i=0,s=t.length;i!==s;++i){const o=t[i];o.id in e&&n.push(o)}return n};function SM(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let dI=0;function pI(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function SC(t){switch(t){case Gn:return["Linear","( value )"];case yf:return["sRGB","( value )"];case Up:return["RGBE","( value )"];case dx:return["RGBM","( value, 7.0 )"];case px:return["RGBM","( value, 16.0 )"];case mx:return["RGBD","( value, 256.0 )"];case zp:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case lC:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function MM(t,e,n){const i=t.getShaderParameter(e,35713),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const o=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+s+pI(o)}function tu(t,e){const n=SC(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function mI(t,e){const n=SC(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function gI(t,e){let n;switch(e){case o2:n="Linear";break;case l2:n="Reinhard";break;case c2:n="OptimizedCineon";break;case u2:n="ACESFilmic";break;case f2:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yI(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(hu).join(`
`)}function vI(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function xI(t,e){const n={},i=t.getProgramParameter(e,35721);for(let s=0;s<i;s++){const c=t.getActiveAttrib(e,s).name;n[c]=t.getAttribLocation(e,c)}return n}function hu(t){return t!==""}function EM(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TM(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bI=/^[ \t]*#include +<([\w\d./]+)>/gm;function $v(t){return t.replace(bI,_I)}function _I(t,e){const n=ht[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return $v(n)}const wI=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,SI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AM(t){return t.replace(SI,MC).replace(wI,MI)}function MI(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),MC(t,e,n,i)}function MC(t,e,n,i){let s="";for(let o=parseInt(e);o<parseInt(n);o++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return s}function CM(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EI(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===ox?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===VA?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===pl&&(e="SHADOWMAP_TYPE_VSM"),e}function TI(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case pf:case mf:e="ENVMAP_TYPE_CUBE";break;case ql:case gf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function AI(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case mf:case gf:e="ENVMAP_MODE_REFRACTION";break}return e}function CI(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case df:e="ENVMAP_BLENDING_MULTIPLY";break;case s2:e="ENVMAP_BLENDING_MIX";break;case a2:e="ENVMAP_BLENDING_ADD";break}return e}function RI(t,e,n,i){const s=t.getContext(),o=n.defines;let c=n.vertexShader,u=n.fragmentShader;const f=EI(n),h=TI(n),p=AI(n),m=CI(n),g=t.gammaFactor>0?t.gammaFactor:1,v=n.isWebGL2?"":yI(n),x=vI(o),S=s.createProgram();let E,w,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(E=[x].filter(hu).join(`
`),E.length>0&&(E+=`
`),w=[v,x].filter(hu).join(`
`),w.length>0&&(w+=`
`)):(E=[CM(n),"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(hu).join(`
`),w=[v,CM(n),"#define SHADER_NAME "+n.shaderName,x,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ka?"#define TONE_MAPPING":"",n.toneMapping!==ka?ht.tonemapping_pars_fragment:"",n.toneMapping!==ka?gI("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ht.encodings_pars_fragment,n.map?tu("mapTexelToLinear",n.mapEncoding):"",n.matcap?tu("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?tu("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?tu("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?tu("lightMapTexelToLinear",n.lightMapEncoding):"",mI("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(hu).join(`
`)),c=$v(c),c=EM(c,n),c=TM(c,n),u=$v(u),u=EM(u,n),u=TM(u,n),c=AM(c),u=AM(u),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,E=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,w=["#define varying in",n.glslVersion===Qv?"":"out highp vec4 pc_fragColor;",n.glslVersion===Qv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const R=b+E+c,D=b+w+u,C=SM(s,35633,R),A=SM(s,35632,D);if(s.attachShader(S,C),s.attachShader(S,A),n.index0AttributeName!==void 0?s.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(S,0,"position"),s.linkProgram(S),t.debug.checkShaderErrors){const N=s.getProgramInfoLog(S).trim(),P=s.getShaderInfoLog(C).trim(),G=s.getShaderInfoLog(A).trim();let W=!0,I=!0;if(s.getProgramParameter(S,35714)===!1){W=!1;const k=MM(s,C,"vertex"),j=MM(s,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(S,35715),"gl.getProgramInfoLog",N,k,j)}else N!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",N):(P===""||G==="")&&(I=!1);I&&(this.diagnostics={runnable:W,programLog:N,vertexShader:{log:P,prefix:E},fragmentShader:{log:G,prefix:w}})}s.deleteShader(C),s.deleteShader(A);let O;this.getUniforms=function(){return O===void 0&&(O=new qs(s,S)),O};let z;return this.getAttributes=function(){return z===void 0&&(z=xI(s,S)),z},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(S),this.program=void 0},this.name=n.shaderName,this.id=dI++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=A,this}function LI(t,e,n,i,s,o){const c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.floatVertexTextures,p=i.maxVertexUniforms,m=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},x=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function S(A){const z=A.skeleton.bones;if(h)return 1024;{const P=Math.floor((p-20)/4),G=Math.min(P,z.length);return G<z.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+z.length+" bones. This GPU supports "+G+"."),0):G}}function E(A){let O;return A?A.isTexture?O=A.encoding:A.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),O=A.texture.encoding):O=Gn,O}function w(A,O,z,N,P){const G=N.fog,W=A.isMeshStandardMaterial?N.environment:null,I=e.get(A.envMap||W),k=v[A.type],j=P.isSkinnedMesh?S(P):0;A.precision!==null&&(g=i.getMaxPrecision(A.precision),g!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",g,"instead."));let V,T;if(k){const M=Zi[k];V=M.vertexShader,T=M.fragmentShader}else V=A.vertexShader,T=A.fragmentShader;const re=t.getRenderTarget();return{isWebGL2:u,shaderID:k,shaderName:A.type,vertexShader:V,fragmentShader:T,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:g,instancing:P.isInstancedMesh===!0,instancingColor:P.isInstancedMesh===!0&&P.instanceColor!==null,supportsVertexTextures:m,outputEncoding:re!==null?E(re.texture):t.outputEncoding,map:!!A.map,mapEncoding:E(A.map),matcap:!!A.matcap,matcapEncoding:E(A.matcap),envMap:!!I,envMapMode:I&&I.mapping,envMapEncoding:E(I),envMapCubeUV:!!I&&(I.mapping===ql||I.mapping===gf),lightMap:!!A.lightMap,lightMapEncoding:E(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:E(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===fC,tangentSpaceNormalMap:A.normalMapType===io,clearcoatMap:!!A.clearcoatMap,clearcoatRoughnessMap:!!A.clearcoatRoughnessMap,clearcoatNormalMap:!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,sheen:!!A.sheen,transmissionMap:!!A.transmissionMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap,uvsVertexOnly:!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatNormalMap||A.transmissionMap)&&!!A.displacementMap,fog:!!G,useFog:A.fog,fogExp2:G&&G.isFogExp2,flatShading:A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:f,skinning:A.skinning&&j>0,maxBones:j,useVertexTexture:h,morphTargets:A.morphTargets,morphNormals:A.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:A.toneMapped?t.toneMapping:ka,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===hf,flipSided:A.side===hn,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function b(A){const O=[];if(A.shaderID?O.push(A.shaderID):(O.push(A.fragmentShader),O.push(A.vertexShader)),A.defines!==void 0)for(const z in A.defines)O.push(z),O.push(A.defines[z]);if(A.isRawShaderMaterial===!1){for(let z=0;z<x.length;z++)O.push(A[x[z]]);O.push(t.outputEncoding),O.push(t.gammaFactor)}return O.push(A.customProgramCacheKey),O.join()}function R(A){const O=v[A.type];let z;if(O){const N=Zi[O];z=gC.clone(N.uniforms)}else z=A.uniforms;return z}function D(A,O){let z;for(let N=0,P=c.length;N<P;N++){const G=c[N];if(G.cacheKey===O){z=G,++z.usedTimes;break}}return z===void 0&&(z=new RI(t,O,A,s),c.push(z)),z}function C(A){if(--A.usedTimes===0){const O=c.indexOf(A);c[O]=c[c.length-1],c.pop(),A.destroy()}}return{getParameters:w,getProgramCacheKey:b,getUniforms:R,acquireProgram:D,releaseProgram:C,programs:c}}function OI(){let t=new WeakMap;function e(o){let c=t.get(o);return c===void 0&&(c={},t.set(o,c)),c}function n(o){t.delete(o)}function i(o,c,u){t.get(o)[c]=u}function s(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:s}}function DI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function PI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function RM(t){const e=[];let n=0;const i=[],s=[],o={id:-1};function c(){n=0,i.length=0,s.length=0}function u(g,v,x,S,E,w){let b=e[n];const R=t.get(x);return b===void 0?(b={id:g.id,object:g,geometry:v,material:x,program:R.program||o,groupOrder:S,renderOrder:g.renderOrder,z:E,group:w},e[n]=b):(b.id=g.id,b.object=g,b.geometry=v,b.material=x,b.program=R.program||o,b.groupOrder=S,b.renderOrder=g.renderOrder,b.z=E,b.group=w),n++,b}function f(g,v,x,S,E,w){const b=u(g,v,x,S,E,w);(x.transparent===!0?s:i).push(b)}function h(g,v,x,S,E,w){const b=u(g,v,x,S,E,w);(x.transparent===!0?s:i).unshift(b)}function p(g,v){i.length>1&&i.sort(g||DI),s.length>1&&s.sort(v||PI)}function m(){for(let g=n,v=e.length;g<v;g++){const x=e[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.program=null,x.group=null}}return{opaque:i,transparent:s,init:c,push:f,unshift:h,finish:m,sort:p}}function NI(t){let e=new WeakMap;function n(s,o){const c=e.get(s);let u;return c===void 0?(u=new RM(t),e.set(s,new WeakMap),e.get(s).set(o,u)):(u=c.get(o),u===void 0&&(u=new RM(t),c.set(o,u))),u}function i(){e=new WeakMap}return{get:n,dispose:i}}function BI(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new ke};break;case"SpotLight":n={position:new X,direction:new X,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new ke,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":n={color:new ke,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function zI(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let UI=0;function HI(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function VI(){const t=new BI,e=zI(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)n.probe.push(new X);const i=new X,s=new lt,o=new lt;function c(u,f,h){let p=0,m=0,g=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let v=0,x=0,S=0,E=0,w=0,b=0,R=0,D=0;const C=h.matrixWorldInverse;u.sort(HI);for(let O=0,z=u.length;O<z;O++){const N=u[O],P=N.color,G=N.intensity,W=N.distance,I=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)p+=P.r*G,m+=P.g*G,g+=P.b*G;else if(N.isLightProbe)for(let k=0;k<9;k++)n.probe[k].addScaledVector(N.sh.coefficients[k],G);else if(N.isDirectionalLight){const k=t.get(N);if(k.color.copy(N.color).multiplyScalar(N.intensity),k.direction.setFromMatrixPosition(N.matrixWorld),i.setFromMatrixPosition(N.target.matrixWorld),k.direction.sub(i),k.direction.transformDirection(C),N.castShadow){const j=N.shadow,V=e.get(N);V.shadowBias=j.bias,V.shadowNormalBias=j.normalBias,V.shadowRadius=j.radius,V.shadowMapSize=j.mapSize,n.directionalShadow[v]=V,n.directionalShadowMap[v]=I,n.directionalShadowMatrix[v]=N.shadow.matrix,b++}n.directional[v]=k,v++}else if(N.isSpotLight){const k=t.get(N);if(k.position.setFromMatrixPosition(N.matrixWorld),k.position.applyMatrix4(C),k.color.copy(P).multiplyScalar(G),k.distance=W,k.direction.setFromMatrixPosition(N.matrixWorld),i.setFromMatrixPosition(N.target.matrixWorld),k.direction.sub(i),k.direction.transformDirection(C),k.coneCos=Math.cos(N.angle),k.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),k.decay=N.decay,N.castShadow){const j=N.shadow,V=e.get(N);V.shadowBias=j.bias,V.shadowNormalBias=j.normalBias,V.shadowRadius=j.radius,V.shadowMapSize=j.mapSize,n.spotShadow[S]=V,n.spotShadowMap[S]=I,n.spotShadowMatrix[S]=N.shadow.matrix,D++}n.spot[S]=k,S++}else if(N.isRectAreaLight){const k=t.get(N);k.color.copy(P).multiplyScalar(G),k.position.setFromMatrixPosition(N.matrixWorld),k.position.applyMatrix4(C),o.identity(),s.copy(N.matrixWorld),s.premultiply(C),o.extractRotation(s),k.halfWidth.set(N.width*.5,0,0),k.halfHeight.set(0,N.height*.5,0),k.halfWidth.applyMatrix4(o),k.halfHeight.applyMatrix4(o),n.rectArea[E]=k,E++}else if(N.isPointLight){const k=t.get(N);if(k.position.setFromMatrixPosition(N.matrixWorld),k.position.applyMatrix4(C),k.color.copy(N.color).multiplyScalar(N.intensity),k.distance=N.distance,k.decay=N.decay,N.castShadow){const j=N.shadow,V=e.get(N);V.shadowBias=j.bias,V.shadowNormalBias=j.normalBias,V.shadowRadius=j.radius,V.shadowMapSize=j.mapSize,V.shadowCameraNear=j.camera.near,V.shadowCameraFar=j.camera.far,n.pointShadow[x]=V,n.pointShadowMap[x]=I,n.pointShadowMatrix[x]=N.shadow.matrix,R++}n.point[x]=k,x++}else if(N.isHemisphereLight){const k=t.get(N);k.direction.setFromMatrixPosition(N.matrixWorld),k.direction.transformDirection(C),k.direction.normalize(),k.skyColor.copy(N.color).multiplyScalar(G),k.groundColor.copy(N.groundColor).multiplyScalar(G),n.hemi[w]=k,w++}}E>0&&(n.rectAreaLTC1=Fe.LTC_1,n.rectAreaLTC2=Fe.LTC_2),n.ambient[0]=p,n.ambient[1]=m,n.ambient[2]=g;const A=n.hash;(A.directionalLength!==v||A.pointLength!==x||A.spotLength!==S||A.rectAreaLength!==E||A.hemiLength!==w||A.numDirectionalShadows!==b||A.numPointShadows!==R||A.numSpotShadows!==D)&&(n.directional.length=v,n.spot.length=S,n.rectArea.length=E,n.point.length=x,n.hemi.length=w,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=R,n.pointShadowMap.length=R,n.spotShadow.length=D,n.spotShadowMap.length=D,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=R,n.spotShadowMatrix.length=D,A.directionalLength=v,A.pointLength=x,A.spotLength=S,A.rectAreaLength=E,A.hemiLength=w,A.numDirectionalShadows=b,A.numPointShadows=R,A.numSpotShadows=D,n.version=UI++)}return{setup:c,state:n}}function LM(){const t=new VI,e=[],n=[];function i(){e.length=0,n.length=0}function s(f){e.push(f)}function o(f){n.push(f)}function c(f){t.setup(e,n,f)}return{init:i,state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:c,pushLight:s,pushShadow:o}}function II(){let t=new WeakMap;function e(i,s){let o;return t.has(i)===!1?(o=new LM,t.set(i,new WeakMap),t.get(i).set(s,o)):t.get(i).has(s)===!1?(o=new LM,t.get(i).set(s,o)):o=t.get(i).get(s),o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Js(t){et.call(this),this.type="MeshDepthMaterial",this.depthPacking=cC,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}Js.prototype=Object.create(et.prototype);Js.prototype.constructor=Js;Js.prototype.isMeshDepthMaterial=!0;Js.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this};function $s(t){et.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new X,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}$s.prototype=Object.create(et.prototype);$s.prototype.constructor=$s;$s.prototype.isMeshDistanceMaterial=!0;$s.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};var FI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,kI=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function EC(t,e,n){let i=new bf;const s=new Ce,o=new Ce,c=new At,u=[],f=[],h={},p={0:hn,1:Wl,2:hf},m=new jn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:kI,fragmentShader:FI}),g=m.clone();g.defines.HORIZONAL_PASS=1;const v=new Ze;v.setAttribute("position",new Je(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ut(v,m),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ox,this.render=function(C,A,O){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||C.length===0)return;const z=t.getRenderTarget(),N=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),G=t.state;G.setBlending($r),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let W=0,I=C.length;W<I;W++){const k=C[W],j=k.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;s.copy(j.mapSize);const V=j.getFrameExtents();if(s.multiply(V),o.copy(j.mapSize),(s.x>n||s.y>n)&&(s.x>n&&(o.x=Math.floor(n/V.x),s.x=o.x*V.x,j.mapSize.x=o.x),s.y>n&&(o.y=Math.floor(n/V.y),s.y=o.y*V.y,j.mapSize.y=o.y)),j.map===null&&!j.isPointLightShadow&&this.type===pl){const re={minFilter:bn,magFilter:bn,format:hi};j.map=new di(s.x,s.y,re),j.map.texture.name=k.name+".shadowMap",j.mapPass=new di(s.x,s.y,re),j.camera.updateProjectionMatrix()}if(j.map===null){const re={minFilter:dn,magFilter:dn,format:hi};j.map=new di(s.x,s.y,re),j.map.texture.name=k.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const T=j.getViewportCount();for(let re=0;re<T;re++){const Y=j.getViewport(re);c.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),G.viewport(c),j.updateMatrices(k,re),i=j.getFrustum(),D(A,O,j.camera,k,this.type)}!j.isPointLightShadow&&this.type===pl&&E(j,O),j.needsUpdate=!1}S.needsUpdate=!1,t.setRenderTarget(z,N,P)};function E(C,A){const O=e.update(x);m.uniforms.shadow_pass.value=C.map.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(A,null,O,m,x,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(A,null,O,g,x,null)}function w(C,A,O){const z=C<<0|A<<1|O<<2;let N=u[z];return N===void 0&&(N=new Js({depthPacking:uC,morphTargets:C,skinning:A}),u[z]=N),N}function b(C,A,O){const z=C<<0|A<<1|O<<2;let N=f[z];return N===void 0&&(N=new $s({morphTargets:C,skinning:A}),f[z]=N),N}function R(C,A,O,z,N,P,G){let W=null,I=w,k=C.customDepthMaterial;if(z.isPointLight===!0&&(I=b,k=C.customDistanceMaterial),k===void 0){let j=!1;O.morphTargets===!0&&(j=A.morphAttributes&&A.morphAttributes.position&&A.morphAttributes.position.length>0);let V=!1;C.isSkinnedMesh===!0&&(O.skinning===!0?V=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",C));const T=C.isInstancedMesh===!0;W=I(j,V,T)}else W=k;if(t.localClippingEnabled&&O.clipShadows===!0&&O.clippingPlanes.length!==0){const j=W.uuid,V=O.uuid;let T=h[j];T===void 0&&(T={},h[j]=T);let re=T[V];re===void 0&&(re=W.clone(),T[V]=re),W=re}return W.visible=O.visible,W.wireframe=O.wireframe,G===pl?W.side=O.shadowSide!==null?O.shadowSide:O.side:W.side=O.shadowSide!==null?O.shadowSide:p[O.side],W.clipShadows=O.clipShadows,W.clippingPlanes=O.clippingPlanes,W.clipIntersection=O.clipIntersection,W.wireframeLinewidth=O.wireframeLinewidth,W.linewidth=O.linewidth,z.isPointLight===!0&&W.isMeshDistanceMaterial===!0&&(W.referencePosition.setFromMatrixPosition(z.matrixWorld),W.nearDistance=N,W.farDistance=P),W}function D(C,A,O,z,N){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&N===pl)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,C.matrixWorld);const W=e.update(C),I=C.material;if(Array.isArray(I)){const k=W.groups;for(let j=0,V=k.length;j<V;j++){const T=k[j],re=I[T.materialIndex];if(re&&re.visible){const Y=R(C,W,re,z,O.near,O.far,N);t.renderBufferDirect(O,null,W,Y,C,T)}}}else if(I.visible){const k=R(C,W,I,z,O.near,O.far,N);t.renderBufferDirect(O,null,W,k,C,null)}}const G=C.children;for(let W=0,I=G.length;W<I;W++)D(G[W],A,O,z,N)}}function GI(t,e,n){const i=n.isWebGL2;function s(){let U=!1;const ee=new At;let he=null;const ge=new At(0,0,0,0);return{setMask:function(le){he!==le&&!U&&(t.colorMask(le,le,le,le),he=le)},setLocked:function(le){U=le},setClear:function(le,_e,Re,ze,Be){Be===!0&&(le*=ze,_e*=ze,Re*=ze),ee.set(le,_e,Re,ze),ge.equals(ee)===!1&&(t.clearColor(le,_e,Re,ze),ge.copy(ee))},reset:function(){U=!1,he=null,ge.set(-1,0,0,0)}}}function o(){let U=!1,ee=null,he=null,ge=null;return{setTest:function(le){le?M(2929):B(2929)},setMask:function(le){ee!==le&&!U&&(t.depthMask(le),ee=le)},setFunc:function(le){if(he!==le){if(le)switch(le){case JA:t.depthFunc(512);break;case $A:t.depthFunc(519);break;case e2:t.depthFunc(513);break;case Xd:t.depthFunc(515);break;case t2:t.depthFunc(514);break;case n2:t.depthFunc(518);break;case i2:t.depthFunc(516);break;case r2:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);he=le}},setLocked:function(le){U=le},setClear:function(le){ge!==le&&(t.clearDepth(le),ge=le)},reset:function(){U=!1,ee=null,he=null,ge=null}}}function c(){let U=!1,ee=null,he=null,ge=null,le=null,_e=null,Re=null,ze=null,Be=null;return{setTest:function(Ye){U||(Ye?M(2960):B(2960))},setMask:function(Ye){ee!==Ye&&!U&&(t.stencilMask(Ye),ee=Ye)},setFunc:function(Ye,mt,pn){(he!==Ye||ge!==mt||le!==pn)&&(t.stencilFunc(Ye,mt,pn),he=Ye,ge=mt,le=pn)},setOp:function(Ye,mt,pn){(_e!==Ye||Re!==mt||ze!==pn)&&(t.stencilOp(Ye,mt,pn),_e=Ye,Re=mt,ze=pn)},setLocked:function(Ye){U=Ye},setClear:function(Ye){Be!==Ye&&(t.clearStencil(Ye),Be=Ye)},reset:function(){U=!1,ee=null,he=null,ge=null,le=null,_e=null,Re=null,ze=null,Be=null}}}const u=new s,f=new o,h=new c;let p={},m=null,g=null,v=null,x=null,S=null,E=null,w=null,b=null,R=null,D=!1,C=null,A=null,O=null,z=null,N=null;const P=t.getParameter(35661);let G=!1,W=0;const I=t.getParameter(7938);I.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL\ ([0-9])/.exec(I)[1]),G=W>=1):I.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(I)[1]),G=W>=2);let k=null,j={};const V=new At,T=new At;function re(U,ee,he){const ge=new Uint8Array(4),le=t.createTexture();t.bindTexture(U,le),t.texParameteri(U,10241,9728),t.texParameteri(U,10240,9728);for(let _e=0;_e<he;_e++)t.texImage2D(ee+_e,0,6408,1,1,0,6408,5121,ge);return le}const Y={};Y[3553]=re(3553,3553,1),Y[34067]=re(34067,34069,6),u.setClear(0,0,0,1),f.setClear(1),h.setClear(0),M(2929),f.setFunc(Xd),me(!1),Le(Bv),M(2884),te($r);function M(U){p[U]!==!0&&(t.enable(U),p[U]=!0)}function B(U){p[U]!==!1&&(t.disable(U),p[U]=!1)}function J(U){return m!==U?(t.useProgram(U),m=U,!0):!1}const ie={[Na]:32774,[FA]:32778,[kA]:32779};if(i)ie[Vv]=32775,ie[Iv]=32776;else{const U=e.get("EXT_blend_minmax");U!==null&&(ie[Vv]=U.MIN_EXT,ie[Iv]=U.MAX_EXT)}const ae={[GA]:0,[jA]:1,[WA]:768,[cx]:770,[QA]:776,[ZA]:774,[XA]:772,[qA]:769,[ux]:771,[KA]:775,[YA]:773};function te(U,ee,he,ge,le,_e,Re,ze){if(U===$r){g&&(B(3042),g=!1);return}if(g||(M(3042),g=!0),U!==IA){if(U!==v||ze!==D){if((x!==Na||w!==Na)&&(t.blendEquation(32774),x=Na,w=Na),ze)switch(U){case bl:t.blendFuncSeparate(1,771,1,771);break;case zv:t.blendFunc(1,1);break;case Uv:t.blendFuncSeparate(0,0,769,771);break;case Hv:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}else switch(U){case bl:t.blendFuncSeparate(770,771,1,771);break;case zv:t.blendFunc(770,1);break;case Uv:t.blendFunc(0,769);break;case Hv:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}S=null,E=null,b=null,R=null,v=U,D=ze}return}le=le||ee,_e=_e||he,Re=Re||ge,(ee!==x||le!==w)&&(t.blendEquationSeparate(ie[ee],ie[le]),x=ee,w=le),(he!==S||ge!==E||_e!==b||Re!==R)&&(t.blendFuncSeparate(ae[he],ae[ge],ae[_e],ae[Re]),S=he,E=ge,b=_e,R=Re),v=U,D=null}function pe(U,ee){U.side===hf?B(2884):M(2884);let he=U.side===hn;ee&&(he=!he),me(he),U.blending===bl&&U.transparent===!1?te($r):te(U.blending,U.blendEquation,U.blendSrc,U.blendDst,U.blendEquationAlpha,U.blendSrcAlpha,U.blendDstAlpha,U.premultipliedAlpha),f.setFunc(U.depthFunc),f.setTest(U.depthTest),f.setMask(U.depthWrite),u.setMask(U.colorWrite);const ge=U.stencilWrite;h.setTest(ge),ge&&(h.setMask(U.stencilWriteMask),h.setFunc(U.stencilFunc,U.stencilRef,U.stencilFuncMask),h.setOp(U.stencilFail,U.stencilZFail,U.stencilZPass)),Ie(U.polygonOffset,U.polygonOffsetFactor,U.polygonOffsetUnits)}function me(U){C!==U&&(U?t.frontFace(2304):t.frontFace(2305),C=U)}function Le(U){U!==UA?(M(2884),U!==A&&(U===Bv?t.cullFace(1029):U===HA?t.cullFace(1028):t.cullFace(1032))):B(2884),A=U}function De(U){U!==O&&(G&&t.lineWidth(U),O=U)}function Ie(U,ee,he){U?(M(32823),(z!==ee||N!==he)&&(t.polygonOffset(ee,he),z=ee,N=he)):B(32823)}function Ue(U){U?M(3089):B(3089)}function xe(U){U===void 0&&(U=33984+P-1),k!==U&&(t.activeTexture(U),k=U)}function Ee(U,ee){k===null&&xe();let he=j[k];he===void 0&&(he={type:void 0,texture:void 0},j[k]=he),(he.type!==U||he.texture!==ee)&&(t.bindTexture(U,ee||Y[U]),he.type=U,he.texture=ee)}function Se(){const U=j[k];U!==void 0&&U.type!==void 0&&(t.bindTexture(U.type,null),U.type=void 0,U.texture=void 0)}function Ne(){try{t.compressedTexImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Oe(){try{t.texImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function q(){try{t.texImage3D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Z(U){V.equals(U)===!1&&(t.scissor(U.x,U.y,U.z,U.w),V.copy(U))}function Te(U){T.equals(U)===!1&&(t.viewport(U.x,U.y,U.z,U.w),T.copy(U))}function F(){p={},k=null,j={},m=null,v=null,C=null,A=null,u.reset(),f.reset(),h.reset()}return{buffers:{color:u,depth:f,stencil:h},enable:M,disable:B,useProgram:J,setBlending:te,setMaterial:pe,setFlipSided:me,setCullFace:Le,setLineWidth:De,setPolygonOffset:Ie,setScissorTest:Ue,activeTexture:xe,bindTexture:Ee,unbindTexture:Se,compressedTexImage2D:Ne,texImage2D:Oe,texImage3D:q,scissor:Z,viewport:Te,reset:F}}function jI(t,e,n,i,s,o,c){const u=s.isWebGL2,f=s.maxTextures,h=s.maxCubemapSize,p=s.maxTextureSize,m=s.maxSamples,g=new WeakMap;let v,x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(q,Z){return x?new OffscreenCanvas(q,Z):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function E(q,Z,Te,F){let U=1;if((q.width>F||q.height>F)&&(U=F/Math.max(q.width,q.height)),U<1||Z===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const ee=Z?st.floorPowerOfTwo:Math.floor,he=ee(U*q.width),ge=ee(U*q.height);v===void 0&&(v=S(he,ge));const le=Te?S(he,ge):v;return le.width=he,le.height=ge,le.getContext("2d").drawImage(q,0,0,he,ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+he+"x"+ge+")."),le}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function w(q){return st.isPowerOfTwo(q.width)&&st.isPowerOfTwo(q.height)}function b(q){return u?!1:q.wrapS!==In||q.wrapT!==In||q.minFilter!==dn&&q.minFilter!==bn}function R(q,Z){return q.generateMipmaps&&Z&&q.minFilter!==dn&&q.minFilter!==bn}function D(q,Z,Te,F){t.generateMipmap(q);const U=i.get(Z);U.__maxMipLevel=Math.log(Math.max(Te,F))*Math.LOG2E}function C(q,Z,Te){if(u===!1)return Z;if(q!==null){if(t[q]!==void 0)return t[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let F=Z;return Z===6403&&(Te===5126&&(F=33326),Te===5131&&(F=33325),Te===5121&&(F=33321)),Z===6407&&(Te===5126&&(F=34837),Te===5131&&(F=34843),Te===5121&&(F=32849)),Z===6408&&(Te===5126&&(F=34836),Te===5131&&(F=34842),Te===5121&&(F=32856)),(F===33325||F===33326||F===34842||F===34836)&&e.get("EXT_color_buffer_float"),F}function A(q){return q===dn||q===Kd||q===Qd?9728:9729}function O(q){const Z=q.target;Z.removeEventListener("dispose",O),N(Z),Z.isVideoTexture&&g.delete(Z),c.memory.textures--}function z(q){const Z=q.target;Z.removeEventListener("dispose",z),P(Z),c.memory.textures--}function N(q){const Z=i.get(q);Z.__webglInit!==void 0&&(t.deleteTexture(Z.__webglTexture),i.remove(q))}function P(q){const Z=i.get(q),Te=i.get(q.texture);if(q){if(Te.__webglTexture!==void 0&&t.deleteTexture(Te.__webglTexture),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let F=0;F<6;F++)t.deleteFramebuffer(Z.__webglFramebuffer[F]),Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer[F]);else t.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer&&t.deleteRenderbuffer(Z.__webglColorRenderbuffer),Z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Z.__webglDepthRenderbuffer);i.remove(q.texture),i.remove(q)}}let G=0;function W(){G=0}function I(){const q=G;return q>=f&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+f),G+=1,q}function k(q,Z){const Te=i.get(q);if(q.isVideoTexture&&xe(q),q.version>0&&Te.__version!==q.version){const F=q.image;if(F===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(F.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(Te,q,Z);return}}n.activeTexture(33984+Z),n.bindTexture(3553,Te.__webglTexture)}function j(q,Z){const Te=i.get(q);if(q.version>0&&Te.__version!==q.version){J(Te,q,Z);return}n.activeTexture(33984+Z),n.bindTexture(35866,Te.__webglTexture)}function V(q,Z){const Te=i.get(q);if(q.version>0&&Te.__version!==q.version){J(Te,q,Z);return}n.activeTexture(33984+Z),n.bindTexture(32879,Te.__webglTexture)}function T(q,Z){const Te=i.get(q);if(q.version>0&&Te.__version!==q.version){ie(Te,q,Z);return}n.activeTexture(33984+Z),n.bindTexture(34067,Te.__webglTexture)}const re={[Pu]:10497,[In]:33071,[Nu]:33648},Y={[dn]:9728,[Kd]:9984,[Qd]:9986,[bn]:9729,[fx]:9985,[Xl]:9987};function M(q,Z,Te){Te?(t.texParameteri(q,10242,re[Z.wrapS]),t.texParameteri(q,10243,re[Z.wrapT]),(q===32879||q===35866)&&t.texParameteri(q,32882,re[Z.wrapR]),t.texParameteri(q,10240,Y[Z.magFilter]),t.texParameteri(q,10241,Y[Z.minFilter])):(t.texParameteri(q,10242,33071),t.texParameteri(q,10243,33071),(q===32879||q===35866)&&t.texParameteri(q,32882,33071),(Z.wrapS!==In||Z.wrapT!==In)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(q,10240,A(Z.magFilter)),t.texParameteri(q,10241,A(Z.minFilter)),Z.minFilter!==dn&&Z.minFilter!==bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const F=e.get("EXT_texture_filter_anisotropic");if(F){if(Z.type===Kr&&e.get("OES_texture_float_linear")===null||Z.type===zu&&(u||e.get("OES_texture_half_float_linear"))===null)return;(Z.anisotropy>1||i.get(Z).__currentAnisotropy)&&(t.texParameterf(q,F.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,s.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy)}}function B(q,Z){q.__webglInit===void 0&&(q.__webglInit=!0,Z.addEventListener("dispose",O),q.__webglTexture=t.createTexture(),c.memory.textures++)}function J(q,Z,Te){let F=3553;Z.isDataTexture2DArray&&(F=35866),Z.isDataTexture3D&&(F=32879),B(q,Z),n.activeTexture(33984+Te),n.bindTexture(F,q.__webglTexture),t.pixelStorei(37440,Z.flipY),t.pixelStorei(37441,Z.premultiplyAlpha),t.pixelStorei(3317,Z.unpackAlignment);const U=b(Z)&&w(Z.image)===!1,ee=E(Z.image,U,!1,p),he=w(ee)||u,ge=o.convert(Z.format);let le=o.convert(Z.type),_e=C(Z.internalFormat,ge,le);M(F,Z,he);let Re;const ze=Z.mipmaps;if(Z.isDepthTexture)_e=6402,u?Z.type===Kr?_e=36012:Z.type===vu?_e=33190:Z.type===_l?_e=35056:_e=33189:Z.type===Kr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===Ga&&_e===6402&&Z.type!==Bu&&Z.type!==vu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=Bu,le=o.convert(Z.type)),Z.format===El&&_e===6402&&(_e=34041,Z.type!==_l&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=_l,le=o.convert(Z.type))),n.texImage2D(3553,0,_e,ee.width,ee.height,0,ge,le,null);else if(Z.isDataTexture)if(ze.length>0&&he){for(let Be=0,Ye=ze.length;Be<Ye;Be++)Re=ze[Be],n.texImage2D(3553,Be,_e,Re.width,Re.height,0,ge,le,Re.data);Z.generateMipmaps=!1,q.__maxMipLevel=ze.length-1}else n.texImage2D(3553,0,_e,ee.width,ee.height,0,ge,le,ee.data),q.__maxMipLevel=0;else if(Z.isCompressedTexture){for(let Be=0,Ye=ze.length;Be<Ye;Be++)Re=ze[Be],Z.format!==hi&&Z.format!==Ws?ge!==null?n.compressedTexImage2D(3553,Be,_e,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Be,_e,Re.width,Re.height,0,ge,le,Re.data);q.__maxMipLevel=ze.length-1}else if(Z.isDataTexture2DArray)n.texImage3D(35866,0,_e,ee.width,ee.height,ee.depth,0,ge,le,ee.data),q.__maxMipLevel=0;else if(Z.isDataTexture3D)n.texImage3D(32879,0,_e,ee.width,ee.height,ee.depth,0,ge,le,ee.data),q.__maxMipLevel=0;else if(ze.length>0&&he){for(let Be=0,Ye=ze.length;Be<Ye;Be++)Re=ze[Be],n.texImage2D(3553,Be,_e,ge,le,Re);Z.generateMipmaps=!1,q.__maxMipLevel=ze.length-1}else n.texImage2D(3553,0,_e,ge,le,ee),q.__maxMipLevel=0;R(Z,he)&&D(F,Z,ee.width,ee.height),q.__version=Z.version,Z.onUpdate&&Z.onUpdate(Z)}function ie(q,Z,Te){if(Z.image.length!==6)return;B(q,Z),n.activeTexture(33984+Te),n.bindTexture(34067,q.__webglTexture),t.pixelStorei(37440,Z.flipY);const F=Z&&(Z.isCompressedTexture||Z.image[0].isCompressedTexture),U=Z.image[0]&&Z.image[0].isDataTexture,ee=[];for(let Be=0;Be<6;Be++)!F&&!U?ee[Be]=E(Z.image[Be],!1,!0,h):ee[Be]=U?Z.image[Be].image:Z.image[Be];const he=ee[0],ge=w(he)||u,le=o.convert(Z.format),_e=o.convert(Z.type),Re=C(Z.internalFormat,le,_e);M(34067,Z,ge);let ze;if(F){for(let Be=0;Be<6;Be++){ze=ee[Be].mipmaps;for(let Ye=0;Ye<ze.length;Ye++){const mt=ze[Ye];Z.format!==hi&&Z.format!==Ws?le!==null?n.compressedTexImage2D(34069+Be,Ye,Re,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Be,Ye,Re,mt.width,mt.height,0,le,_e,mt.data)}}q.__maxMipLevel=ze.length-1}else{ze=Z.mipmaps;for(let Be=0;Be<6;Be++)if(U){n.texImage2D(34069+Be,0,Re,ee[Be].width,ee[Be].height,0,le,_e,ee[Be].data);for(let Ye=0;Ye<ze.length;Ye++){const pn=ze[Ye].image[Be].image;n.texImage2D(34069+Be,Ye+1,Re,pn.width,pn.height,0,le,_e,pn.data)}}else{n.texImage2D(34069+Be,0,Re,le,_e,ee[Be]);for(let Ye=0;Ye<ze.length;Ye++){const mt=ze[Ye];n.texImage2D(34069+Be,Ye+1,Re,le,_e,mt.image[Be])}}q.__maxMipLevel=ze.length}R(Z,ge)&&D(34067,Z,he.width,he.height),q.__version=Z.version,Z.onUpdate&&Z.onUpdate(Z)}function ae(q,Z,Te,F){const U=o.convert(Z.texture.format),ee=o.convert(Z.texture.type),he=C(Z.texture.internalFormat,U,ee);n.texImage2D(F,0,he,Z.width,Z.height,0,U,ee,null),t.bindFramebuffer(36160,q),t.framebufferTexture2D(36160,Te,F,i.get(Z.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function te(q,Z,Te){if(t.bindRenderbuffer(36161,q),Z.depthBuffer&&!Z.stencilBuffer){let F=33189;if(Te){const U=Z.depthTexture;U&&U.isDepthTexture&&(U.type===Kr?F=36012:U.type===vu&&(F=33190));const ee=Ue(Z);t.renderbufferStorageMultisample(36161,ee,F,Z.width,Z.height)}else t.renderbufferStorage(36161,F,Z.width,Z.height);t.framebufferRenderbuffer(36160,36096,36161,q)}else if(Z.depthBuffer&&Z.stencilBuffer){if(Te){const F=Ue(Z);t.renderbufferStorageMultisample(36161,F,35056,Z.width,Z.height)}else t.renderbufferStorage(36161,34041,Z.width,Z.height);t.framebufferRenderbuffer(36160,33306,36161,q)}else{const F=o.convert(Z.texture.format),U=o.convert(Z.texture.type),ee=C(Z.texture.internalFormat,F,U);if(Te){const he=Ue(Z);t.renderbufferStorageMultisample(36161,he,ee,Z.width,Z.height)}else t.renderbufferStorage(36161,ee,Z.width,Z.height)}t.bindRenderbuffer(36161,null)}function pe(q,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,q),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),k(Z.depthTexture,0);const F=i.get(Z.depthTexture).__webglTexture;if(Z.depthTexture.format===Ga)t.framebufferTexture2D(36160,36096,3553,F,0);else if(Z.depthTexture.format===El)t.framebufferTexture2D(36160,33306,3553,F,0);else throw new Error("Unknown depthTexture format")}function me(q){const Z=i.get(q),Te=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture){if(Te)throw new Error("target.depthTexture not supported in Cube render targets");pe(Z.__webglFramebuffer,q)}else if(Te){Z.__webglDepthbuffer=[];for(let F=0;F<6;F++)t.bindFramebuffer(36160,Z.__webglFramebuffer[F]),Z.__webglDepthbuffer[F]=t.createRenderbuffer(),te(Z.__webglDepthbuffer[F],q,!1)}else t.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=t.createRenderbuffer(),te(Z.__webglDepthbuffer,q,!1);t.bindFramebuffer(36160,null)}function Le(q){const Z=i.get(q),Te=i.get(q.texture);q.addEventListener("dispose",z),Te.__webglTexture=t.createTexture(),c.memory.textures++;const F=q.isWebGLCubeRenderTarget===!0,U=q.isWebGLMultisampleRenderTarget===!0,ee=w(q)||u;if(u&&q.texture.format===Ws&&(q.texture.type===Kr||q.texture.type===zu)&&(q.texture.format=hi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),F){Z.__webglFramebuffer=[];for(let he=0;he<6;he++)Z.__webglFramebuffer[he]=t.createFramebuffer()}else if(Z.__webglFramebuffer=t.createFramebuffer(),U)if(u){Z.__webglMultisampledFramebuffer=t.createFramebuffer(),Z.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,Z.__webglColorRenderbuffer);const he=o.convert(q.texture.format),ge=o.convert(q.texture.type),le=C(q.texture.internalFormat,he,ge),_e=Ue(q);t.renderbufferStorageMultisample(36161,_e,le,q.width,q.height),t.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,Z.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),q.depthBuffer&&(Z.__webglDepthRenderbuffer=t.createRenderbuffer(),te(Z.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(F){n.bindTexture(34067,Te.__webglTexture),M(34067,q.texture,ee);for(let he=0;he<6;he++)ae(Z.__webglFramebuffer[he],q,36064,34069+he);R(q.texture,ee)&&D(34067,q.texture,q.width,q.height),n.bindTexture(34067,null)}else n.bindTexture(3553,Te.__webglTexture),M(3553,q.texture,ee),ae(Z.__webglFramebuffer,q,36064,3553),R(q.texture,ee)&&D(3553,q.texture,q.width,q.height),n.bindTexture(3553,null);q.depthBuffer&&me(q)}function De(q){const Z=q.texture,Te=w(q)||u;if(R(Z,Te)){const F=q.isWebGLCubeRenderTarget?34067:3553,U=i.get(Z).__webglTexture;n.bindTexture(F,U),D(F,Z,q.width,q.height),n.bindTexture(F,null)}}function Ie(q){if(q.isWebGLMultisampleRenderTarget)if(u){const Z=i.get(q);t.bindFramebuffer(36008,Z.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Z.__webglFramebuffer);const Te=q.width,F=q.height;let U=16384;q.depthBuffer&&(U|=256),q.stencilBuffer&&(U|=1024),t.blitFramebuffer(0,0,Te,F,0,0,Te,F,U,9728),t.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Ue(q){return u&&q.isWebGLMultisampleRenderTarget?Math.min(m,q.samples):0}function xe(q){const Z=c.render.frame;g.get(q)!==Z&&(g.set(q,Z),q.update())}let Ee=!1,Se=!1;function Ne(q,Z){q&&q.isWebGLRenderTarget&&(Ee===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Ee=!0),q=q.texture),k(q,Z)}function Oe(q,Z){q&&q.isWebGLCubeRenderTarget&&(Se===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Se=!0),q=q.texture),T(q,Z)}this.allocateTextureUnit=I,this.resetTextureUnits=W,this.setTexture2D=k,this.setTexture2DArray=j,this.setTexture3D=V,this.setTextureCube=T,this.setupRenderTarget=Le,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Ie,this.safeSetTexture2D=Ne,this.safeSetTextureCube=Oe}function TC(t,e,n){const i=n.isWebGL2;function s(o){let c;if(o===Yl)return 5121;if(o===m2)return 32819;if(o===g2)return 32820;if(o===y2)return 33635;if(o===h2)return 5120;if(o===d2)return 5122;if(o===Bu)return 5123;if(o===p2)return 5124;if(o===vu)return 5125;if(o===Kr)return 5126;if(o===zu)return i?5131:(c=e.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===v2)return 6406;if(o===Ws)return 6407;if(o===hi)return 6408;if(o===x2)return 6409;if(o===b2)return 6410;if(o===Ga)return 6402;if(o===El)return 34041;if(o===w2)return 6403;if(o===S2)return 36244;if(o===M2)return 33319;if(o===E2)return 33320;if(o===T2)return 36248;if(o===A2)return 36249;if(o===Fv||o===kv||o===Gv||o===jv)if(c=e.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===Fv)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===kv)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Gv)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===jv)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Wv||o===qv||o===Xv||o===Yv)if(c=e.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===Wv)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===qv)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Xv)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Yv)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===C2)return c=e.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===Zv||o===Kv)&&(c=e.get("WEBGL_compressed_texture_etc"),c!==null)){if(o===Zv)return c.COMPRESSED_RGB8_ETC2;if(o===Kv)return c.COMPRESSED_RGBA8_ETC2_EAC}if(o===R2||o===L2||o===O2||o===D2||o===P2||o===N2||o===B2||o===z2||o===U2||o===H2||o===V2||o===I2||o===F2||o===k2||o===j2||o===W2||o===q2||o===X2||o===Y2||o===Z2||o===K2||o===Q2||o===J2||o===$2||o===eC||o===tC||o===nC||o===iC)return c=e.get("WEBGL_compressed_texture_astc"),c!==null?o:null;if(o===G2)return c=e.get("EXT_texture_compression_bptc"),c!==null?o:null;if(o===_l)return i?34042:(c=e.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:s}}function Jd(t){ln.call(this),this.cameras=t||[]}Jd.prototype=Object.assign(Object.create(ln.prototype),{constructor:Jd,isArrayCamera:!0});function js(){We.call(this),this.type="Group"}js.prototype=Object.assign(Object.create(We.prototype),{constructor:js,isGroup:!0});function _u(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(_u.prototype,{constructor:_u,getHandSpace:function(){if(this._hand===null&&(this._hand=new js,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const e=new js;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new js,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new js,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,s=null,o=null;const c=this._targetRay,u=this._grip,f=this._hand;if(t)if(f&&t.hand){o=!0;for(let h=0;h<=window.XRHand.LITTLE_PHALANX_TIP;h++)if(t.hand[h]){const p=e.getJointPose(t.hand[h],n),m=f.joints[h];p!==null&&(m.matrix.fromArray(p.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=p.radius),m.visible=p!==null;const g=f.joints[window.XRHand.INDEX_PHALANX_TIP],v=f.joints[window.XRHand.THUMB_PHALANX_TIP],x=g.position.distanceTo(v.position),S=.02,E=.005;f.inputState.pinching&&x>S+E?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!f.inputState.pinching&&x<=S-E&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else c!==null&&(i=e.getPose(t.targetRaySpace,n),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale))),u!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale)));return c!==null&&(c.visible=i!==null),u!==null&&(u.visible=s!==null),f!==null&&(f.visible=o!==null),this}});function AC(t,e){const n=this;let i=null,s=1,o=null,c="local-floor",u=null;const f=[],h=new Map,p=new ln;p.layers.enable(1),p.viewport=new At;const m=new ln;m.layers.enable(2),m.viewport=new At;const g=[p,m],v=new Jd;v.layers.enable(1),v.layers.enable(2);let x=null,S=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let W=f[G];return W===void 0&&(W=new _u,f[G]=W),W.getTargetRaySpace()},this.getControllerGrip=function(G){let W=f[G];return W===void 0&&(W=new _u,f[G]=W),W.getGripSpace()},this.getHand=function(G){let W=f[G];return W===void 0&&(W=new _u,f[G]=W),W.getHandSpace()};function E(G){const W=h.get(G.inputSource);W&&W.dispatchEvent({type:G.type,data:G.inputSource})}function w(){h.forEach(function(G,W){G.disconnect(W)}),h.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),P.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(G){o=G,P.setContext(i),P.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(G){s=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){c=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(G){if(i=G,i!==null){i.addEventListener("select",E),i.addEventListener("selectstart",E),i.addEventListener("selectend",E),i.addEventListener("squeeze",E),i.addEventListener("squeezestart",E),i.addEventListener("squeezeend",E),i.addEventListener("end",w);const W=e.getContextAttributes();W.xrCompatible!==!0&&e.makeXRCompatible();const I={antialias:W.antialias,alpha:W.alpha,depth:W.depth,stencil:W.stencil,framebufferScaleFactor:s},k=new XRWebGLLayer(i,e,I);i.updateRenderState({baseLayer:k}),i.requestReferenceSpace(c).then(b),i.addEventListener("inputsourceschange",R)}};function R(G){const W=i.inputSources;for(let I=0;I<f.length;I++)h.set(W[I],f[I]);for(let I=0;I<G.removed.length;I++){const k=G.removed[I],j=h.get(k);j&&(j.dispatchEvent({type:"disconnected",data:k}),h.delete(k))}for(let I=0;I<G.added.length;I++){const k=G.added[I],j=h.get(k);j&&j.dispatchEvent({type:"connected",data:k})}}const D=new X,C=new X;function A(G,W,I){D.setFromMatrixPosition(W.matrixWorld),C.setFromMatrixPosition(I.matrixWorld);const k=D.distanceTo(C),j=W.projectionMatrix.elements,V=I.projectionMatrix.elements,T=j[14]/(j[10]-1),re=j[14]/(j[10]+1),Y=(j[9]+1)/j[5],M=(j[9]-1)/j[5],B=(j[8]-1)/j[0],J=(V[8]+1)/V[0],ie=T*B,ae=T*J,te=k/(-B+J),pe=te*-B;W.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(pe),G.translateZ(te),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.getInverse(G.matrixWorld);const me=T+te,Le=re+te,De=ie-pe,Ie=ae+(k-pe),Ue=Y*re/Le*me,xe=M*re/Le*me;G.projectionMatrix.makePerspective(De,Ie,Ue,xe,me,Le)}function O(G,W){W===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(W.matrixWorld,G.matrix),G.matrixWorldInverse.getInverse(G.matrixWorld)}this.getCamera=function(G){v.near=m.near=p.near=G.near,v.far=m.far=p.far=G.far,(x!==v.near||S!==v.far)&&(i.updateRenderState({depthNear:v.near,depthFar:v.far}),x=v.near,S=v.far);const W=G.parent,I=v.cameras;O(v,W);for(let j=0;j<I.length;j++)O(I[j],W);G.matrixWorld.copy(v.matrixWorld);const k=G.children;for(let j=0,V=k.length;j<V;j++)k[j].updateMatrixWorld(!0);return I.length===2?A(v,p,m):v.projectionMatrix.copy(p.projectionMatrix),v};let z=null;function N(G,W){if(u=W.getViewerPose(o),u!==null){const k=u.views,j=i.renderState.baseLayer;t.setFramebuffer(j.framebuffer);let V=!1;k.length!==v.cameras.length&&(v.cameras.length=0,V=!0);for(let T=0;T<k.length;T++){const re=k[T],Y=j.getViewport(re),M=g[T];M.matrix.fromArray(re.transform.matrix),M.projectionMatrix.fromArray(re.projectionMatrix),M.viewport.set(Y.x,Y.y,Y.width,Y.height),T===0&&v.matrix.copy(M.matrix),V===!0&&v.cameras.push(M)}}const I=i.inputSources;for(let k=0;k<f.length;k++){const j=f[k],V=I[k];j.update(V,W,o)}z&&z(G,W)}const P=new yC;P.setAnimationLoop(N),this.setAnimationLoop=function(G){z=G},this.dispose=function(){}}Object.assign(AC.prototype,Tr.prototype);function WI(t){function e(w,b){w.fogColor.value.copy(b.color),b.isFog?(w.fogNear.value=b.near,w.fogFar.value=b.far):b.isFogExp2&&(w.fogDensity.value=b.density)}function n(w,b,R,D){b.isMeshBasicMaterial?i(w,b):b.isMeshLambertMaterial?(i(w,b),f(w,b)):b.isMeshToonMaterial?(i(w,b),p(w,b)):b.isMeshPhongMaterial?(i(w,b),h(w,b)):b.isMeshStandardMaterial?(i(w,b),b.isMeshPhysicalMaterial?g(w,b):m(w,b)):b.isMeshMatcapMaterial?(i(w,b),v(w,b)):b.isMeshDepthMaterial?(i(w,b),x(w,b)):b.isMeshDistanceMaterial?(i(w,b),S(w,b)):b.isMeshNormalMaterial?(i(w,b),E(w,b)):b.isLineBasicMaterial?(s(w,b),b.isLineDashedMaterial&&o(w,b)):b.isPointsMaterial?c(w,b,R,D):b.isSpriteMaterial?u(w,b):b.isShadowMaterial?(w.color.value.copy(b.color),w.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(w,b){w.opacity.value=b.opacity,b.color&&w.diffuse.value.copy(b.color),b.emissive&&w.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(w.map.value=b.map),b.alphaMap&&(w.alphaMap.value=b.alphaMap),b.specularMap&&(w.specularMap.value=b.specularMap);const R=t.get(b).envMap;if(R){w.envMap.value=R,w.flipEnvMap.value=R.isCubeTexture&&R._needsFlipEnvMap?-1:1,w.reflectivity.value=b.reflectivity,w.refractionRatio.value=b.refractionRatio;const A=t.get(R).__maxMipLevel;A!==void 0&&(w.maxMipLevel.value=A)}b.lightMap&&(w.lightMap.value=b.lightMap,w.lightMapIntensity.value=b.lightMapIntensity),b.aoMap&&(w.aoMap.value=b.aoMap,w.aoMapIntensity.value=b.aoMapIntensity);let D;b.map?D=b.map:b.specularMap?D=b.specularMap:b.displacementMap?D=b.displacementMap:b.normalMap?D=b.normalMap:b.bumpMap?D=b.bumpMap:b.roughnessMap?D=b.roughnessMap:b.metalnessMap?D=b.metalnessMap:b.alphaMap?D=b.alphaMap:b.emissiveMap?D=b.emissiveMap:b.clearcoatMap?D=b.clearcoatMap:b.clearcoatNormalMap?D=b.clearcoatNormalMap:b.clearcoatRoughnessMap&&(D=b.clearcoatRoughnessMap),D!==void 0&&(D.isWebGLRenderTarget&&(D=D.texture),D.matrixAutoUpdate===!0&&D.updateMatrix(),w.uvTransform.value.copy(D.matrix));let C;b.aoMap?C=b.aoMap:b.lightMap&&(C=b.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),w.uv2Transform.value.copy(C.matrix))}function s(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity}function o(w,b){w.dashSize.value=b.dashSize,w.totalSize.value=b.dashSize+b.gapSize,w.scale.value=b.scale}function c(w,b,R,D){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.size.value=b.size*R,w.scale.value=D*.5,b.map&&(w.map.value=b.map),b.alphaMap&&(w.alphaMap.value=b.alphaMap);let C;b.map?C=b.map:b.alphaMap&&(C=b.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),w.uvTransform.value.copy(C.matrix))}function u(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.rotation.value=b.rotation,b.map&&(w.map.value=b.map),b.alphaMap&&(w.alphaMap.value=b.alphaMap);let R;b.map?R=b.map:b.alphaMap&&(R=b.alphaMap),R!==void 0&&(R.matrixAutoUpdate===!0&&R.updateMatrix(),w.uvTransform.value.copy(R.matrix))}function f(w,b){b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap)}function h(w,b){w.specular.value.copy(b.specular),w.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap),b.bumpMap&&(w.bumpMap.value=b.bumpMap,w.bumpScale.value=b.bumpScale,b.side===hn&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,w.normalScale.value.copy(b.normalScale),b.side===hn&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias)}function p(w,b){b.gradientMap&&(w.gradientMap.value=b.gradientMap),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap),b.bumpMap&&(w.bumpMap.value=b.bumpMap,w.bumpScale.value=b.bumpScale,b.side===hn&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,w.normalScale.value.copy(b.normalScale),b.side===hn&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias)}function m(w,b){w.roughness.value=b.roughness,w.metalness.value=b.metalness,b.roughnessMap&&(w.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(w.metalnessMap.value=b.metalnessMap),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap),b.bumpMap&&(w.bumpMap.value=b.bumpMap,w.bumpScale.value=b.bumpScale,b.side===hn&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,w.normalScale.value.copy(b.normalScale),b.side===hn&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),t.get(b).envMap&&(w.envMapIntensity.value=b.envMapIntensity)}function g(w,b){m(w,b),w.reflectivity.value=b.reflectivity,w.clearcoat.value=b.clearcoat,w.clearcoatRoughness.value=b.clearcoatRoughness,b.sheen&&w.sheen.value.copy(b.sheen),b.clearcoatMap&&(w.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(w.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),w.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===hn&&w.clearcoatNormalScale.value.negate()),w.transmission.value=b.transmission,b.transmissionMap&&(w.transmissionMap.value=b.transmissionMap)}function v(w,b){b.matcap&&(w.matcap.value=b.matcap),b.bumpMap&&(w.bumpMap.value=b.bumpMap,w.bumpScale.value=b.bumpScale,b.side===hn&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,w.normalScale.value.copy(b.normalScale),b.side===hn&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias)}function x(w,b){b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias)}function S(w,b){b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),w.referencePosition.value.copy(b.referencePosition),w.nearDistance.value=b.nearDistance,w.farDistance.value=b.farDistance}function E(w,b){b.bumpMap&&(w.bumpMap.value=b.bumpMap,w.bumpScale.value=b.bumpScale,b.side===hn&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,w.normalScale.value.copy(b.normalScale),b.side===hn&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function _f(t){t=t||{};const e=t.canvas!==void 0?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,s=t.depth!==void 0?t.depth:!0,o=t.stencil!==void 0?t.stencil:!0,c=t.antialias!==void 0?t.antialias:!1,u=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,f=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,h=t.powerPreference!==void 0?t.powerPreference:"default",p=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let m=null,g=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Gn,this.physicallyCorrectLights=!1,this.toneMapping=ka,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const v=this;let x=!1,S=null,E=0,w=0,b=null,R=null,D=-1,C=null,A=null;const O=new At,z=new At;let N=null,P=e.width,G=e.height,W=1,I=null,k=null;const j=new At(0,0,P,G),V=new At(0,0,P,G);let T=!1;const re=new bf;let Y=!1,M=!1;const B=new lt,J=new X,ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ae(){return b===null?W:1}let te=n;function pe(K,ve){for(let ye=0;ye<K.length;ye++){const we=K[ye],Pe=e.getContext(we,ve);if(Pe!==null)return Pe}return null}try{const K={alpha:i,depth:s,stencil:o,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:h,failIfMajorPerformanceCaveat:p};if(e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",pn,!1),te===null){const ve=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ve.shift(),te=pe(ve,K),te===null)throw pe(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let me,Le,De,Ie,Ue,xe,Ee,Se,Ne,Oe,q,Z,Te,F,U,ee,he,ge,le,_e,Re;function ze(){me=new MV(te),Le=new _V(te,me,t),Le.isWebGL2===!1&&(me.get("WEBGL_depth_texture"),me.get("OES_texture_float"),me.get("OES_texture_half_float"),me.get("OES_texture_half_float_linear"),me.get("OES_standard_derivatives"),me.get("OES_element_index_uint"),me.get("OES_vertex_array_object"),me.get("ANGLE_instanced_arrays")),me.get("OES_texture_float_linear"),_e=new TC(te,me,Le),De=new GI(te,me,Le),De.scissor(z.copy(V).multiplyScalar(W).floor()),De.viewport(O.copy(j).multiplyScalar(W).floor()),Ie=new AV,Ue=new OI,xe=new jI(te,me,De,Ue,Le,_e,Ie),Ee=new SV(v),Se=new K4(te,Le),Re=new xV(te,me,Se,Le),Ne=new EV(te,Se,Ie,Re),Oe=new OV(te,Ne,Se,Ie),he=new LV(te),U=new wV(Ue),q=new LI(v,Ee,me,Le,Re,U),Z=new WI(Ue),Te=new NI(Ue),F=new II,ee=new vV(v,Ee,De,Oe,u),ge=new bV(te,me,Ie,Le),le=new TV(te,me,Ie,Le),Ie.programs=q.programs,v.capabilities=Le,v.extensions=me,v.properties=Ue,v.renderLists=Te,v.state=De,v.info=Ie}ze();const Be=new AC(v,te);this.xr=Be;const Ye=new EC(v,Oe,Le.maxTextureSize);this.shadowMap=Ye,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const K=me.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=me.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(K){K!==void 0&&(W=K,this.setSize(P,G,!1))},this.getSize=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),K=new Ce),K.set(P,G)},this.setSize=function(K,ve,ye){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=K,G=ve,e.width=Math.floor(K*W),e.height=Math.floor(ve*W),ye!==!1&&(e.style.width=K+"px",e.style.height=ve+"px"),this.setViewport(0,0,K,ve)},this.getDrawingBufferSize=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),K=new Ce),K.set(P*W,G*W).floor()},this.setDrawingBufferSize=function(K,ve,ye){P=K,G=ve,W=ye,e.width=Math.floor(K*ye),e.height=Math.floor(ve*ye),this.setViewport(0,0,K,ve)},this.getCurrentViewport=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),K=new At),K.copy(O)},this.getViewport=function(K){return K.copy(j)},this.setViewport=function(K,ve,ye,we){K.isVector4?j.set(K.x,K.y,K.z,K.w):j.set(K,ve,ye,we),De.viewport(O.copy(j).multiplyScalar(W).floor())},this.getScissor=function(K){return K.copy(V)},this.setScissor=function(K,ve,ye,we){K.isVector4?V.set(K.x,K.y,K.z,K.w):V.set(K,ve,ye,we),De.scissor(z.copy(V).multiplyScalar(W).floor())},this.getScissorTest=function(){return T},this.setScissorTest=function(K){De.setScissorTest(T=K)},this.setOpaqueSort=function(K){I=K},this.setTransparentSort=function(K){k=K},this.getClearColor=function(){return ee.getClearColor()},this.setClearColor=function(){ee.setClearColor.apply(ee,arguments)},this.getClearAlpha=function(){return ee.getClearAlpha()},this.setClearAlpha=function(){ee.setClearAlpha.apply(ee,arguments)},this.clear=function(K,ve,ye){let we=0;(K===void 0||K)&&(we|=16384),(ve===void 0||ve)&&(we|=256),(ye===void 0||ye)&&(we|=1024),te.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",pn,!1),Te.dispose(),F.dispose(),Ue.dispose(),Ee.dispose(),Oe.dispose(),Re.dispose(),Be.dispose(),cs.stop()};function mt(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function pn(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1,ze()}function Hi(K){const ve=K.target;ve.removeEventListener("dispose",Hi),rr(ve)}function rr(K){yi(K),Ue.remove(K)}function yi(K){const ve=Ue.get(K).program;ve!==void 0&&q.releaseProgram(ve)}function Cr(K,ve){K.render(function(ye){v.renderBufferImmediate(ye,ve)})}this.renderBufferImmediate=function(K,ve){Re.initAttributes();const ye=Ue.get(K);K.hasPositions&&!ye.position&&(ye.position=te.createBuffer()),K.hasNormals&&!ye.normal&&(ye.normal=te.createBuffer()),K.hasUvs&&!ye.uv&&(ye.uv=te.createBuffer()),K.hasColors&&!ye.color&&(ye.color=te.createBuffer());const we=ve.getAttributes();K.hasPositions&&(te.bindBuffer(34962,ye.position),te.bufferData(34962,K.positionArray,35048),Re.enableAttribute(we.position),te.vertexAttribPointer(we.position,3,5126,!1,0,0)),K.hasNormals&&(te.bindBuffer(34962,ye.normal),te.bufferData(34962,K.normalArray,35048),Re.enableAttribute(we.normal),te.vertexAttribPointer(we.normal,3,5126,!1,0,0)),K.hasUvs&&(te.bindBuffer(34962,ye.uv),te.bufferData(34962,K.uvArray,35048),Re.enableAttribute(we.uv),te.vertexAttribPointer(we.uv,2,5126,!1,0,0)),K.hasColors&&(te.bindBuffer(34962,ye.color),te.bufferData(34962,K.colorArray,35048),Re.enableAttribute(we.color),te.vertexAttribPointer(we.color,3,5126,!1,0,0)),Re.disableUnusedAttributes(),te.drawArrays(4,0,K.count),K.count=0},this.renderBufferDirect=function(K,ve,ye,we,Pe,Ke){ve===null&&(ve=ie);const rt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,ct=$l(K,ve,we,Pe);De.setMaterial(we,rt);let at=ye.index;const qt=ye.attributes.position;if(at===null){if(qt===void 0||qt.count===0)return}else if(at.count===0)return;let Ht=1;we.wireframe===!0&&(at=Ne.getWireframeAttribute(ye),Ht=2),(we.morphTargets||we.morphNormals)&&he.update(Pe,ye,we,ct),Re.setup(Pe,we,ct,ye,at);let it,bt=ge;at!==null&&(it=Se.get(at),bt=le,bt.setIndex(it));const Rn=at!==null?at.count:qt.count,yt=ye.drawRange.start*Ht,ei=ye.drawRange.count*Ht,Nt=Ke!==null?Ke.start*Ht:0,Xt=Ke!==null?Ke.count*Ht:1/0,_n=Math.max(yt,Nt),fs=Math.min(Rn,yt+ei,Nt+Xt)-1,qn=Math.max(0,fs-_n+1);if(qn!==0){if(Pe.isMesh)we.wireframe===!0?(De.setLineWidth(we.wireframeLinewidth*ae()),bt.setMode(1)):bt.setMode(4);else if(Pe.isLine){let vi=we.linewidth;vi===void 0&&(vi=1),De.setLineWidth(vi*ae()),Pe.isLineSegments?bt.setMode(1):Pe.isLineLoop?bt.setMode(2):bt.setMode(3)}else Pe.isPoints?bt.setMode(0):Pe.isSprite&&bt.setMode(4);if(Pe.isInstancedMesh)bt.renderInstances(_n,qn,Pe.count);else if(ye.isInstancedBufferGeometry){const vi=Math.min(ye.instanceCount,ye._maxInstanceCount);bt.renderInstances(_n,qn,vi)}else bt.render(_n,qn)}},this.compile=function(K,ve){g=F.get(K,ve),g.init(),K.traverse(function(we){we.isLight&&(g.pushLight(we),we.castShadow&&g.pushShadow(we))}),g.setupLights(ve);const ye=new WeakMap;K.traverse(function(we){const Pe=we.material;if(Pe)if(Array.isArray(Pe))for(let Ke=0;Ke<Pe.length;Ke++){const rt=Pe[Ke];ye.has(rt)===!1&&(Ii(rt,K,we),ye.set(rt))}else ye.has(Pe)===!1&&(Ii(Pe,K,we),ye.set(Pe))})};let Vi=null;function so(K){Be.isPresenting||Vi&&Vi(K)}const cs=new yC;cs.setAnimationLoop(so),typeof window<"u"&&cs.setContext(window),this.setAnimationLoop=function(K){Vi=K,Be.setAnimationLoop(K),K===null?cs.stop():cs.start()},this.render=function(K,ve){let ye,we;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ye=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),we=arguments[3]),ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;Re.resetDefaultState(),D=-1,C=null,K.autoUpdate===!0&&K.updateMatrixWorld(),ve.parent===null&&ve.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(ve=Be.getCamera(ve)),K.isScene===!0&&K.onBeforeRender(v,K,ve,ye||b),g=F.get(K,ve),g.init(),B.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),re.setFromProjectionMatrix(B),M=this.localClippingEnabled,Y=U.init(this.clippingPlanes,M,ve),m=Te.get(K,ve),m.init(),Jl(K,ve,0,v.sortObjects),m.finish(),v.sortObjects===!0&&m.sort(I,k),Y===!0&&U.beginShadows();const Pe=g.state.shadowsArray;Ye.render(Pe,K,ve),g.setupLights(ve),Y===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye!==void 0&&this.setRenderTarget(ye),ee.render(m,K,ve,we);const Ke=m.opaque,rt=m.transparent;Ke.length>0&&ao(Ke,K,ve),rt.length>0&&ao(rt,K,ve),K.isScene===!0&&K.onAfterRender(v,K,ve),b!==null&&(xe.updateRenderTargetMipmap(b),xe.updateMultisampleRenderTarget(b)),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1),m=null,g=null};function Jl(K,ve,ye,we){if(K.visible===!1)return;if(K.layers.test(ve.layers)){if(K.isGroup)ye=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ve);else if(K.isLight)g.pushLight(K),K.castShadow&&g.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||re.intersectsSprite(K)){we&&J.setFromMatrixPosition(K.matrixWorld).applyMatrix4(B);const rt=Oe.update(K),ct=K.material;ct.visible&&m.push(K,rt,ct,ye,J.z,null)}}else if(K.isImmediateRenderObject)we&&J.setFromMatrixPosition(K.matrixWorld).applyMatrix4(B),m.push(K,null,K.material,ye,J.z,null);else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.frame!==Ie.render.frame&&(K.skeleton.update(),K.skeleton.frame=Ie.render.frame),!K.frustumCulled||re.intersectsObject(K))){we&&J.setFromMatrixPosition(K.matrixWorld).applyMatrix4(B);const rt=Oe.update(K),ct=K.material;if(Array.isArray(ct)){const at=rt.groups;for(let qt=0,Ht=at.length;qt<Ht;qt++){const it=at[qt],bt=ct[it.materialIndex];bt&&bt.visible&&m.push(K,rt,bt,ye,J.z,it)}}else ct.visible&&m.push(K,rt,ct,ye,J.z,null)}}const Ke=K.children;for(let rt=0,ct=Ke.length;rt<ct;rt++)Jl(Ke[rt],ve,ye,we)}function ao(K,ve,ye){const we=ve.isScene===!0?ve.overrideMaterial:null;for(let Pe=0,Ke=K.length;Pe<Ke;Pe++){const rt=K[Pe],ct=rt.object,at=rt.geometry,qt=we===null?rt.material:we,Ht=rt.group;if(ye.isArrayCamera){A=ye;const it=ye.cameras;for(let bt=0,Rn=it.length;bt<Rn;bt++){const yt=it[bt];ct.layers.test(yt.layers)&&(De.viewport(O.copy(yt.viewport)),g.setupLights(yt),us(ct,ve,yt,at,qt,Ht))}}else A=null,us(ct,ve,ye,at,qt,Ht)}}function us(K,ve,ye,we,Pe,Ke){if(K.onBeforeRender(v,ve,ye,we,Pe,Ke),g=F.get(ve,A||ye),K.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),K.isImmediateRenderObject){const rt=$l(ye,ve,Pe,K);De.setMaterial(Pe),Re.reset(),Cr(K,rt)}else v.renderBufferDirect(ye,ve,we,Pe,K,Ke);K.onAfterRender(v,ve,ye,we,Pe,Ke),g=F.get(ve,A||ye)}function Ii(K,ve,ye){ve.isScene!==!0&&(ve=ie);const we=Ue.get(K),Pe=g.state.lights,Ke=g.state.shadowsArray,rt=Pe.state.version,ct=q.getParameters(K,Pe.state,Ke,ve,ye),at=q.getProgramCacheKey(ct);let qt=we.program,Ht=!0;if(qt===void 0)K.addEventListener("dispose",Hi);else if(qt.cacheKey!==at)yi(K);else if(we.lightsStateVersion!==rt)Ht=!1;else if(ct.shaderID!==void 0){const yt=K.isMeshStandardMaterial?ve.environment:null;we.envMap=Ee.get(K.envMap||yt);return}else Ht=!1;Ht&&(ct.uniforms=q.getUniforms(K),K.onBeforeCompile(ct,v),qt=q.acquireProgram(ct,at),we.program=qt,we.uniforms=ct.uniforms,we.outputEncoding=ct.outputEncoding);const it=we.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(we.numClippingPlanes=U.numPlanes,we.numIntersection=U.numIntersection,it.clippingPlanes=U.uniform),we.environment=K.isMeshStandardMaterial?ve.environment:null,we.fog=ve.fog,we.envMap=Ee.get(K.envMap||we.environment),we.needsLights=ec(K),we.lightsStateVersion=rt,we.needsLights&&(it.ambientLightColor.value=Pe.state.ambient,it.lightProbe.value=Pe.state.probe,it.directionalLights.value=Pe.state.directional,it.directionalLightShadows.value=Pe.state.directionalShadow,it.spotLights.value=Pe.state.spot,it.spotLightShadows.value=Pe.state.spotShadow,it.rectAreaLights.value=Pe.state.rectArea,it.ltc_1.value=Pe.state.rectAreaLTC1,it.ltc_2.value=Pe.state.rectAreaLTC2,it.pointLights.value=Pe.state.point,it.pointLightShadows.value=Pe.state.pointShadow,it.hemisphereLights.value=Pe.state.hemi,it.directionalShadowMap.value=Pe.state.directionalShadowMap,it.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,it.spotShadowMap.value=Pe.state.spotShadowMap,it.spotShadowMatrix.value=Pe.state.spotShadowMatrix,it.pointShadowMap.value=Pe.state.pointShadowMap,it.pointShadowMatrix.value=Pe.state.pointShadowMatrix);const bt=we.program.getUniforms(),Rn=qs.seqWithValue(bt.seq,it);we.uniformsList=Rn}function $l(K,ve,ye,we){ve.isScene!==!0&&(ve=ie),xe.resetTextureUnits();const Pe=ve.fog,Ke=ye.isMeshStandardMaterial?ve.environment:null,rt=b===null?v.outputEncoding:b.texture.encoding,ct=Ee.get(ye.envMap||Ke),at=Ue.get(ye),qt=g.state.lights;if(Y===!0&&(M===!0||K!==C)){const Nt=K===C&&ye.id===D;U.setState(ye,K,Nt)}ye.version===at.__version?(ye.fog&&at.fog!==Pe||at.environment!==Ke||at.needsLights&&at.lightsStateVersion!==qt.state.version||at.numClippingPlanes!==void 0&&(at.numClippingPlanes!==U.numPlanes||at.numIntersection!==U.numIntersection)||at.outputEncoding!==rt||at.envMap!==ct)&&Ii(ye,ve,we):(Ii(ye,ve,we),at.__version=ye.version);let Ht=!1,it=!1,bt=!1;const Rn=at.program,yt=Rn.getUniforms(),ei=at.uniforms;if(De.useProgram(Rn.program)&&(Ht=!0,it=!0,bt=!0),ye.id!==D&&(D=ye.id,it=!0),Ht||C!==K){if(yt.setValue(te,"projectionMatrix",K.projectionMatrix),Le.logarithmicDepthBuffer&&yt.setValue(te,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),C!==K&&(C=K,it=!0,bt=!0),ye.isShaderMaterial||ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshStandardMaterial||ye.envMap){const Nt=yt.map.cameraPosition;Nt!==void 0&&Nt.setValue(te,J.setFromMatrixPosition(K.matrixWorld))}(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&yt.setValue(te,"isOrthographic",K.isOrthographicCamera===!0),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial||ye.isShadowMaterial||ye.skinning)&&yt.setValue(te,"viewMatrix",K.matrixWorldInverse)}if(ye.skinning){yt.setOptional(te,we,"bindMatrix"),yt.setOptional(te,we,"bindMatrixInverse");const Nt=we.skeleton;if(Nt){const Xt=Nt.bones;if(Le.floatVertexTextures){if(Nt.boneTexture===void 0){let _n=Math.sqrt(Xt.length*4);_n=st.ceilPowerOfTwo(_n),_n=Math.max(_n,4);const fs=new Float32Array(_n*_n*4);fs.set(Nt.boneMatrices);const qn=new Ya(fs,_n,_n,hi,Kr);Nt.boneMatrices=fs,Nt.boneTexture=qn,Nt.boneTextureSize=_n}yt.setValue(te,"boneTexture",Nt.boneTexture,xe),yt.setValue(te,"boneTextureSize",Nt.boneTextureSize)}else yt.setOptional(te,Nt,"boneMatrices")}}return(it||at.receiveShadow!==we.receiveShadow)&&(at.receiveShadow=we.receiveShadow,yt.setValue(te,"receiveShadow",we.receiveShadow)),it&&(yt.setValue(te,"toneMappingExposure",v.toneMappingExposure),at.needsLights&&Tf(ei,bt),Pe&&ye.fog&&Z.refreshFogUniforms(ei,Pe),Z.refreshMaterialUniforms(ei,ye,W,G),qs.upload(te,at.uniformsList,ei,xe)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(qs.upload(te,at.uniformsList,ei,xe),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&yt.setValue(te,"center",we.center),yt.setValue(te,"modelViewMatrix",we.modelViewMatrix),yt.setValue(te,"normalMatrix",we.normalMatrix),yt.setValue(te,"modelMatrix",we.matrixWorld),Rn}function Tf(K,ve){K.ambientLightColor.needsUpdate=ve,K.lightProbe.needsUpdate=ve,K.directionalLights.needsUpdate=ve,K.directionalLightShadows.needsUpdate=ve,K.pointLights.needsUpdate=ve,K.pointLightShadows.needsUpdate=ve,K.spotLights.needsUpdate=ve,K.spotLightShadows.needsUpdate=ve,K.rectAreaLights.needsUpdate=ve,K.hemisphereLights.needsUpdate=ve}function ec(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.setFramebuffer=function(K){S!==K&&b===null&&te.bindFramebuffer(36160,K),S=K},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return w},this.getRenderList=function(){return m},this.setRenderList=function(K){m=K},this.getRenderState=function(){return g},this.setRenderState=function(K){g=K},this.getRenderTarget=function(){return b},this.setRenderTarget=function(K,ve=0,ye=0){b=K,E=ve,w=ye,K&&Ue.get(K).__webglFramebuffer===void 0&&xe.setupRenderTarget(K);let we=S,Pe=!1;if(K){const Ke=Ue.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(we=Ke[ve],Pe=!0):K.isWebGLMultisampleRenderTarget?we=Ue.get(K).__webglMultisampledFramebuffer:we=Ke,O.copy(K.viewport),z.copy(K.scissor),N=K.scissorTest}else O.copy(j).multiplyScalar(W).floor(),z.copy(V).multiplyScalar(W).floor(),N=T;if(R!==we&&(te.bindFramebuffer(36160,we),R=we),De.viewport(O),De.scissor(z),De.setScissorTest(N),Pe){const Ke=Ue.get(K.texture);te.framebufferTexture2D(36160,36064,34069+ve,Ke.__webglTexture,ye)}},this.readRenderTargetPixels=function(K,ve,ye,we,Pe,Ke,rt){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=Ue.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&rt!==void 0&&(ct=ct[rt]),ct){let at=!1;ct!==R&&(te.bindFramebuffer(36160,ct),at=!0);try{const qt=K.texture,Ht=qt.format,it=qt.type;if(Ht!==hi&&_e.convert(Ht)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(it!==Yl&&_e.convert(it)!==te.getParameter(35738)&&!(it===Kr&&(Le.isWebGL2||me.get("OES_texture_float")||me.get("WEBGL_color_buffer_float")))&&!(it===zu&&(Le.isWebGL2?me.get("EXT_color_buffer_float"):me.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te.checkFramebufferStatus(36160)===36053?ve>=0&&ve<=K.width-we&&ye>=0&&ye<=K.height-Pe&&te.readPixels(ve,ye,we,Pe,_e.convert(Ht),_e.convert(it),Ke):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{at&&te.bindFramebuffer(36160,R)}}},this.copyFramebufferToTexture=function(K,ve,ye){ye===void 0&&(ye=0);const we=Math.pow(2,-ye),Pe=Math.floor(ve.image.width*we),Ke=Math.floor(ve.image.height*we),rt=_e.convert(ve.format);xe.setTexture2D(ve,0),te.copyTexImage2D(3553,ye,rt,K.x,K.y,Pe,Ke,0),De.unbindTexture()},this.copyTextureToTexture=function(K,ve,ye,we){we===void 0&&(we=0);const Pe=ve.image.width,Ke=ve.image.height,rt=_e.convert(ye.format),ct=_e.convert(ye.type);xe.setTexture2D(ye,0),te.pixelStorei(37440,ye.flipY),te.pixelStorei(37441,ye.premultiplyAlpha),te.pixelStorei(3317,ye.unpackAlignment),ve.isDataTexture?te.texSubImage2D(3553,we,K.x,K.y,Pe,Ke,rt,ct,ve.image.data):ve.isCompressedTexture?te.compressedTexSubImage2D(3553,we,K.x,K.y,ve.mipmaps[0].width,ve.mipmaps[0].height,rt,ve.mipmaps[0].data):te.texSubImage2D(3553,we,K.x,K.y,rt,ct,ve.image),we===0&&ye.generateMipmaps&&te.generateMipmap(3553),De.unbindTexture()},this.initTexture=function(K){xe.setTexture2D(K,0),De.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function e0(t){_f.call(this,t)}e0.prototype=Object.assign(Object.create(_f.prototype),{constructor:e0,isWebGL1Renderer:!0});class Vp{constructor(e,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new ke(e),this.density=n!==void 0?n:25e-5}clone(){return new Vp(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ip{constructor(e,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new ke(e),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new Ip(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class yx extends We{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.background!==null&&(n.object.background=this.background.toJSON(e)),this.environment!==null&&(n.object.environment=this.environment.toJSON(e)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function fi(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=vf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=st.generateUUID()}Object.defineProperty(fi.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(fi.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,s=this.stride;i<s;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return e===void 0&&(e=0),this.array.set(t,e),this},clone:function(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=st.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new fi(e,this.stride);return n.setUsage(this.usage),n},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=st.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Ta=new X;function ea(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i===!0}Object.defineProperties(ea.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}});Object.assign(ea.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)Ta.x=this.getX(e),Ta.y=this.getY(e),Ta.z=this.getZ(e),Ta.applyMatrix4(t),this.setXYZ(e,Ta.x,Ta.y,Ta.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=s,this},clone:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return new Je(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ea(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function ta(t){et.call(this),this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}ta.prototype=Object.create(et.prototype);ta.prototype.constructor=ta;ta.prototype.isSpriteMaterial=!0;ta.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};let el;const nu=new X,tl=new X,nl=new X,il=new Ce,iu=new Ce,CC=new lt,id=new X,ru=new X,rd=new X,OM=new Ce,Wy=new Ce,DM=new Ce;function qu(t){if(We.call(this),this.type="Sprite",el===void 0){el=new Ze;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new fi(e,5);el.setIndex([0,1,2,0,2,3]),el.setAttribute("position",new ea(n,3,0,!1)),el.setAttribute("uv",new ea(n,2,3,!1))}this.geometry=el,this.material=t!==void 0?t:new ta,this.center=new Ce(.5,.5)}qu.prototype=Object.assign(Object.create(We.prototype),{constructor:qu,isSprite:!0,raycast:function(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tl.setFromMatrixScale(this.matrixWorld),CC.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),nl.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tl.multiplyScalar(-nl.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const o=this.center;sd(id.set(-.5,-.5,0),nl,o,tl,i,s),sd(ru.set(.5,-.5,0),nl,o,tl,i,s),sd(rd.set(.5,.5,0),nl,o,tl,i,s),OM.set(0,0),Wy.set(1,0),DM.set(1,1);let c=t.ray.intersectTriangle(id,ru,rd,!1,nu);if(c===null&&(sd(ru.set(-.5,.5,0),nl,o,tl,i,s),Wy.set(0,1),c=t.ray.intersectTriangle(id,rd,ru,!1,nu),c===null))return;const u=t.ray.origin.distanceTo(nu);u<t.near||u>t.far||e.push({distance:u,point:nu.clone(),uv:An.getUV(nu,id,ru,rd,OM,Wy,DM,new Ce),face:null,object:this})},copy:function(t){return We.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}});function sd(t,e,n,i,s,o){il.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(iu.x=o*il.x-s*il.y,iu.y=s*il.x+o*il.y):iu.copy(il),t.copy(e),t.x+=iu.x,t.y+=iu.y,t.applyMatrix4(CC)}const ad=new X,PM=new X;function Xu(){We.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Xu.prototype=Object.assign(Object.create(We.prototype),{constructor:Xu,isLOD:!0,copy:function(t){We.prototype.copy.call(this,t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const s=e[n];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){e===void 0&&(e=0),e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){ad.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(ad);this.getObjectForDistance(i).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){ad.setFromMatrixPosition(t.matrixWorld),PM.setFromMatrixPosition(this.matrixWorld);const n=ad.distanceTo(PM)/t.zoom;e[0].object.visible=!0;let i,s;for(i=1,s=e.length;i<s&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)e[i].object.visible=!1}},toJSON:function(t){const e=We.prototype.toJSON.call(this,t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}});function $d(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ut.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt}$d.prototype=Object.assign(Object.create(Ut.prototype),{constructor:$d,isSkinnedMesh:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new At,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Ut.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:(function(){const t=new X,e=new At,n=new At,i=new X,s=new lt;return function(o,c){const u=this.skeleton,f=this.geometry;e.fromBufferAttribute(f.attributes.skinIndex,o),n.fromBufferAttribute(f.attributes.skinWeight,o),t.fromBufferAttribute(f.attributes.position,o).applyMatrix4(this.bindMatrix),c.set(0,0,0);for(let h=0;h<4;h++){const p=n.getComponent(h);if(p!==0){const m=e.getComponent(h);s.multiplyMatrices(u.bones[m].matrixWorld,u.boneInverses[m]),c.addScaledVector(i.copy(t).applyMatrix4(s),p)}}return c.applyMatrix4(this.bindMatrixInverse)}})()});const NM=new lt,qI=new lt;function ep(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,e===void 0)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new lt)}}Object.assign(ep.prototype,{calculateInverses:function(){this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++){const n=new lt;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.getInverse(this.boneInverses[t])}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=t.length;s<o;s++){const c=t[s]?t[s].matrixWorld:qI;NM.multiplyMatrices(c,e[s]),NM.toArray(n,s*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new ep(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];if(i.name===t)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function t0(){We.call(this),this.type="Bone"}t0.prototype=Object.assign(Object.create(We.prototype),{constructor:t0,isBone:!0});const BM=new lt,zM=new lt,od=[],su=new Ut;function tp(t,e,n){Ut.call(this,t,e),this.instanceMatrix=new Je(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}tp.prototype=Object.assign(Object.create(Ut.prototype),{constructor:tp,isInstancedMesh:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},setColorAt:function(t,e){this.instanceColor===null&&(this.instanceColor=new Je(new Float32Array(this.count*3),3)),e.toArray(this.instanceColor.array,t*3)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,t*16)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(su.geometry=this.geometry,su.material=this.material,su.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,BM),zM.multiplyMatrices(n,BM),su.matrixWorld=zM,su.raycast(t,od);for(let o=0,c=od.length;o<c;o++){const u=od[o];u.instanceId=s,u.object=this,e.push(u)}od.length=0}},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,t*16)},updateMorphTargets:function(){}});function Ft(t){et.call(this),this.type="LineBasicMaterial",this.color=new ke(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Ft.prototype=Object.create(et.prototype);Ft.prototype.constructor=Ft;Ft.prototype.isLineBasicMaterial=!0;Ft.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const UM=new X,HM=new X,VM=new lt,ld=new Zl,cd=new ls;function zi(t,e,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),We.call(this),this.type="Line",this.geometry=t!==void 0?t:new Ze,this.material=e!==void 0?e:new Ft,this.updateMorphTargets()}zi.prototype=Object.assign(Object.create(We.prototype),{constructor:zi,isLine:!0,copy:function(t){return We.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,n=[0];for(let i=1,s=e.count;i<s;i++)UM.fromBufferAttribute(e,i-1),HM.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=UM.distanceTo(HM);t.setAttribute("lineDistance",new Ve(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let i=1,s=e.length;i<s;i++)n[i]=n[i-1],n[i]+=e[i-1].distanceTo(e[i])}return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),cd.copy(n.boundingSphere),cd.applyMatrix4(i),cd.radius+=s,t.ray.intersectsSphere(cd)===!1)return;VM.getInverse(i),ld.copy(t.ray).applyMatrix4(VM);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=new X,f=new X,h=new X,p=new X,m=this.isLineSegments?2:1;if(n.isBufferGeometry){const g=n.index,x=n.attributes.position;if(g!==null){const S=g.array;for(let E=0,w=S.length-1;E<w;E+=m){const b=S[E],R=S[E+1];if(u.fromBufferAttribute(x,b),f.fromBufferAttribute(x,R),ld.distanceSqToSegment(u,f,p,h)>c)continue;p.applyMatrix4(this.matrixWorld);const C=t.ray.origin.distanceTo(p);C<t.near||C>t.far||e.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else for(let S=0,E=x.count-1;S<E;S+=m){if(u.fromBufferAttribute(x,S),f.fromBufferAttribute(x,S+1),ld.distanceSqToSegment(u,f,p,h)>c)continue;p.applyMatrix4(this.matrixWorld);const b=t.ray.origin.distanceTo(p);b<t.near||b>t.far||e.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const g=n.vertices,v=g.length;for(let x=0;x<v-1;x+=m){if(ld.distanceSqToSegment(g[x],g[x+1],p,h)>c)continue;p.applyMatrix4(this.matrixWorld);const E=t.ray.origin.distanceTo(p);E<t.near||E>t.far||e.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const c=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const ud=new X,fd=new X;function Wn(t,e){zi.call(this,t,e),this.type="LineSegments"}Wn.prototype=Object.assign(Object.create(zi.prototype),{constructor:Wn,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,n=[];for(let i=0,s=e.count;i<s;i+=2)ud.fromBufferAttribute(e,i),fd.fromBufferAttribute(e,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+ud.distanceTo(fd);t.setAttribute("lineDistance",new Ve(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let i=0,s=e.length;i<s;i+=2)ud.copy(e[i]),fd.copy(e[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+ud.distanceTo(fd)}return this}});function np(t,e){zi.call(this,t,e),this.type="LineLoop"}np.prototype=Object.assign(Object.create(zi.prototype),{constructor:np,isLineLoop:!0});function $i(t){et.call(this),this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}$i.prototype=Object.create(et.prototype);$i.prototype.constructor=$i;$i.prototype.isPointsMaterial=!0;$i.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const IM=new lt,n0=new Zl,hd=new ls,dd=new X;function Ll(t,e){We.call(this),this.type="Points",this.geometry=t!==void 0?t:new Ze,this.material=e!==void 0?e:new $i,this.updateMorphTargets()}Ll.prototype=Object.assign(Object.create(We.prototype),{constructor:Ll,isPoints:!0,copy:function(t){return We.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),hd.copy(n.boundingSphere),hd.applyMatrix4(i),hd.radius+=s,t.ray.intersectsSphere(hd)===!1)return;IM.getInverse(i),n0.copy(t.ray).applyMatrix4(IM);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o;if(n.isBufferGeometry){const u=n.index,h=n.attributes.position;if(u!==null){const p=u.array;for(let m=0,g=p.length;m<g;m++){const v=p[m];dd.fromBufferAttribute(h,v),qy(dd,v,c,i,t,e,this)}}else for(let p=0,m=h.count;p<m;p++)dd.fromBufferAttribute(h,p),qy(dd,p,c,i,t,e,this)}else{const u=n.vertices;for(let f=0,h=u.length;f<h;f++)qy(u[f],f,c,i,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const c=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function qy(t,e,n,i,s,o,c){const u=n0.distanceSqToPoint(t);if(u<n){const f=new X;n0.closestPointToPoint(t,f),f.applyMatrix4(i);const h=s.ray.origin.distanceTo(f);if(h<s.near||h>s.far)return;o.push({distance:h,distanceToRay:Math.sqrt(u),point:f,index:e,face:null,object:c})}}function i0(t,e,n,i,s,o,c,u,f){Rt.call(this,t,e,n,i,s,o,c,u,f),this.format=c!==void 0?c:Ws,this.minFilter=o!==void 0?o:bn,this.magFilter=s!==void 0?s:bn,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,t.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(p)}i0.prototype=Object.assign(Object.create(Rt.prototype),{constructor:i0,isVideoTexture:!0,update:function(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Ol(t,e,n,i,s,o,c,u,f,h,p,m){Rt.call(this,null,o,c,u,f,h,i,s,p,m),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}Ol.prototype=Object.create(Rt.prototype);Ol.prototype.constructor=Ol;Ol.prototype.isCompressedTexture=!0;function Yu(t,e,n,i,s,o,c,u,f){Rt.call(this,t,e,n,i,s,o,c,u,f),this.needsUpdate=!0}Yu.prototype=Object.create(Rt.prototype);Yu.prototype.constructor=Yu;Yu.prototype.isCanvasTexture=!0;function Zu(t,e,n,i,s,o,c,u,f,h){if(h=h!==void 0?h:Ga,h!==Ga&&h!==El)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===Ga&&(n=Bu),n===void 0&&h===El&&(n=_l),Rt.call(this,null,i,s,o,c,u,h,n,f),this.image={width:t,height:e},this.magFilter=c!==void 0?c:dn,this.minFilter=u!==void 0?u:dn,this.flipY=!1,this.generateMipmaps=!1}Zu.prototype=Object.create(Rt.prototype);Zu.prototype.constructor=Zu;Zu.prototype.isDepthTexture=!0;let XI=0;const fr=new lt,Xy=new We,pd=new X;function Ct(){Object.defineProperty(this,"id",{value:XI+=2}),this.uuid=st.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ct.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Ct,isGeometry:!0,applyMatrix4:function(t){const e=new kn().getNormalMatrix(t);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n];s.normal.applyMatrix3(e).normalize();for(let o=0,c=s.vertexNormals.length;o<c;o++)s.vertexNormals[o].applyMatrix3(e).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return fr.makeRotationX(t),this.applyMatrix4(fr),this},rotateY:function(t){return fr.makeRotationY(t),this.applyMatrix4(fr),this},rotateZ:function(t){return fr.makeRotationZ(t),this.applyMatrix4(fr),this},translate:function(t,e,n){return fr.makeTranslation(t,e,n),this.applyMatrix4(fr),this},scale:function(t,e,n){return fr.makeScale(t,e,n),this.applyMatrix4(fr),this},lookAt:function(t){return Xy.lookAt(t),Xy.updateMatrix(),this.applyMatrix4(Xy.matrix),this},fromBufferGeometry:function(t){const e=this,n=t.index!==null?t.index:void 0,i=t.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const s=i.position,o=i.normal,c=i.color,u=i.uv,f=i.uv2;f!==void 0&&(this.faceVertexUvs[1]=[]);for(let m=0;m<s.count;m++)e.vertices.push(new X().fromBufferAttribute(s,m)),c!==void 0&&e.colors.push(new ke().fromBufferAttribute(c,m));function h(m,g,v,x){const S=c===void 0?[]:[e.colors[m].clone(),e.colors[g].clone(),e.colors[v].clone()],E=o===void 0?[]:[new X().fromBufferAttribute(o,m),new X().fromBufferAttribute(o,g),new X().fromBufferAttribute(o,v)],w=new Vu(m,g,v,E,S,x);e.faces.push(w),u!==void 0&&e.faceVertexUvs[0].push([new Ce().fromBufferAttribute(u,m),new Ce().fromBufferAttribute(u,g),new Ce().fromBufferAttribute(u,v)]),f!==void 0&&e.faceVertexUvs[1].push([new Ce().fromBufferAttribute(f,m),new Ce().fromBufferAttribute(f,g),new Ce().fromBufferAttribute(f,v)])}const p=t.groups;if(p.length>0)for(let m=0;m<p.length;m++){const g=p[m],v=g.start,x=g.count;for(let S=v,E=v+x;S<E;S+=3)n!==void 0?h(n.getX(S),n.getX(S+1),n.getX(S+2),g.materialIndex):h(S,S+1,S+2,g.materialIndex)}else if(n!==void 0)for(let m=0;m<n.count;m+=3)h(n.getX(m),n.getX(m+1),n.getX(m+2));else for(let m=0;m<s.count;m+=3)h(m,m+1,m+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(pd).negate(),this.translate(pd.x,pd.y,pd.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=e===0?1:1/e,i=new lt;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new X,e=new X;for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n],o=this.vertices[s.a],c=this.vertices[s.b],u=this.vertices[s.c];t.subVectors(u,c),e.subVectors(o,c),t.cross(e),t.normalize(),s.normal.copy(t)}},computeVertexNormals:function(t){t===void 0&&(t=!0);const e=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)e[n]=new X;if(t){const n=new X,i=new X;for(let s=0,o=this.faces.length;s<o;s++){const c=this.faces[s],u=this.vertices[c.a],f=this.vertices[c.b],h=this.vertices[c.c];n.subVectors(h,f),i.subVectors(u,f),n.cross(i),e[c.a].add(n),e[c.b].add(n),e[c.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n];e[s.a].add(s.normal),e[s.b].add(s.normal),e[s.c].add(s.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)e[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n],o=s.vertexNormals;o.length===3?(o[0].copy(e[s.a]),o[1].copy(e[s.b]),o[2].copy(e[s.c])):(o[0]=e[s.a].clone(),o[1]=e[s.b].clone(),o[2]=e[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const n=this.faces[t],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,n=this.faces.length;e<n;e++){const i=this.faces[e];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let s=0,o=i.vertexNormals.length;s<o;s++)i.__originalVertexNormals[s]?i.__originalVertexNormals[s].copy(i.vertexNormals[s]):i.__originalVertexNormals[s]=i.vertexNormals[s].clone()}const t=new Ct;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const s=this.morphNormals[e].faceNormals,o=this.morphNormals[e].vertexNormals;for(let c=0,u=this.faces.length;c<u;c++){const f=new X,h={a:new X,b:new X,c:new X};s.push(f),o.push(h)}}const i=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let s=0,o=this.faces.length;s<o;s++){const c=this.faces[s],u=i.faceNormals[s],f=i.vertexNormals[s];u.copy(c.normal),f.a.copy(c.vertexNormals[0]),f.b.copy(c.vertexNormals[1]),f.c.copy(c.vertexNormals[2])}}for(let e=0,n=this.faces.length;e<n;e++){const i=this.faces[e];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Ar),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ls),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!(t&&t.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);return}let i;const s=this.vertices.length,o=this.vertices,c=t.vertices,u=this.faces,f=t.faces,h=this.colors,p=t.colors;n===void 0&&(n=0),e!==void 0&&(i=new kn().getNormalMatrix(e));for(let m=0,g=c.length;m<g;m++){const x=c[m].clone();e!==void 0&&x.applyMatrix4(e),o.push(x)}for(let m=0,g=p.length;m<g;m++)h.push(p[m].clone());for(let m=0,g=f.length;m<g;m++){const v=f[m];let x,S;const E=v.vertexNormals,w=v.vertexColors,b=new Vu(v.a+s,v.b+s,v.c+s);b.normal.copy(v.normal),i!==void 0&&b.normal.applyMatrix3(i).normalize();for(let R=0,D=E.length;R<D;R++)x=E[R].clone(),i!==void 0&&x.applyMatrix3(i).normalize(),b.vertexNormals.push(x);b.color.copy(v.color);for(let R=0,D=w.length;R<D;R++)S=w[R],b.vertexColors.push(S.clone());b.materialIndex=v.materialIndex+n,u.push(b)}for(let m=0,g=t.faceVertexUvs.length;m<g;m++){const v=t.faceVertexUvs[m];this.faceVertexUvs[m]===void 0&&(this.faceVertexUvs[m]=[]);for(let x=0,S=v.length;x<S;x++){const E=v[x],w=[];for(let b=0,R=E.length;b<R;b++)w.push(E[b].clone());this.faceVertexUvs[m].push(w)}}},mergeMesh:function(t){if(!(t&&t.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);return}t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){const t={},e=[],n=[],s=Math.pow(10,4);for(let u=0,f=this.vertices.length;u<f;u++){const h=this.vertices[u],p=Math.round(h.x*s)+"_"+Math.round(h.y*s)+"_"+Math.round(h.z*s);t[p]===void 0?(t[p]=u,e.push(this.vertices[u]),n[u]=e.length-1):n[u]=n[t[p]]}const o=[];for(let u=0,f=this.faces.length;u<f;u++){const h=this.faces[u];h.a=n[h.a],h.b=n[h.b],h.c=n[h.c];const p=[h.a,h.b,h.c];for(let m=0;m<3;m++)if(p[m]===p[(m+1)%3]){o.push(u);break}}for(let u=o.length-1;u>=0;u--){const f=o[u];this.faces.splice(f,1);for(let h=0,p=this.faceVertexUvs.length;h<p;h++)this.faceVertexUvs[h].splice(f,1)}const c=this.vertices.length-e.length;return this.vertices=e,c},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const i=t[e];this.vertices.push(new X(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let u=0;u<e;u++)t[u]._id=u;function n(u,f){return u.materialIndex-f.materialIndex}t.sort(n);const i=this.faceVertexUvs[0],s=this.faceVertexUvs[1];let o,c;i&&i.length===e&&(o=[]),s&&s.length===e&&(c=[]);for(let u=0;u<e;u++){const f=t[u]._id;o&&o.push(i[f]),c&&c.push(s[f])}o&&(this.faceVertexUvs[0]=o),c&&(this.faceVertexUvs[1]=c)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.parameters!==void 0){const v=this.parameters;for(const x in v)v[x]!==void 0&&(t[x]=v[x]);return t}const e=[];for(let v=0;v<this.vertices.length;v++){const x=this.vertices[v];e.push(x.x,x.y,x.z)}const n=[],i=[],s={},o=[],c={},u=[],f={};for(let v=0;v<this.faces.length;v++){const x=this.faces[v],S=!0,E=!1,w=this.faceVertexUvs[0][v]!==void 0,b=x.normal.length()>0,R=x.vertexNormals.length>0,D=x.color.r!==1||x.color.g!==1||x.color.b!==1,C=x.vertexColors.length>0;let A=0;if(A=h(A,0,0),A=h(A,1,S),A=h(A,2,E),A=h(A,3,w),A=h(A,4,b),A=h(A,5,R),A=h(A,6,D),A=h(A,7,C),n.push(A),n.push(x.a,x.b,x.c),n.push(x.materialIndex),w){const O=this.faceVertexUvs[0][v];n.push(g(O[0]),g(O[1]),g(O[2]))}if(b&&n.push(p(x.normal)),R){const O=x.vertexNormals;n.push(p(O[0]),p(O[1]),p(O[2]))}if(D&&n.push(m(x.color)),C){const O=x.vertexColors;n.push(m(O[0]),m(O[1]),m(O[2]))}}function h(v,x,S){return S?v|1<<x:v&~(1<<x)}function p(v){const x=v.x.toString()+v.y.toString()+v.z.toString();return s[x]!==void 0||(s[x]=i.length/3,i.push(v.x,v.y,v.z)),s[x]}function m(v){const x=v.r.toString()+v.g.toString()+v.b.toString();return c[x]!==void 0||(c[x]=o.length,o.push(v.getHex())),c[x]}function g(v){const x=v.x.toString()+v.y.toString();return f[x]!==void 0||(f[x]=u.length/2,u.push(v.x,v.y)),f[x]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),u.length>0&&(t.data.uvs=[u]),t.data.faces=n,t},clone:function(){return new Ct().copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let m=0,g=e.length;m<g;m++)this.vertices.push(e[m].clone());const n=t.colors;for(let m=0,g=n.length;m<g;m++)this.colors.push(n[m].clone());const i=t.faces;for(let m=0,g=i.length;m<g;m++)this.faces.push(i[m].clone());for(let m=0,g=t.faceVertexUvs.length;m<g;m++){const v=t.faceVertexUvs[m];this.faceVertexUvs[m]===void 0&&(this.faceVertexUvs[m]=[]);for(let x=0,S=v.length;x<S;x++){const E=v[x],w=[];for(let b=0,R=E.length;b<R;b++){const D=E[b];w.push(D.clone())}this.faceVertexUvs[m].push(w)}}const s=t.morphTargets;for(let m=0,g=s.length;m<g;m++){const v={};if(v.name=s[m].name,s[m].vertices!==void 0){v.vertices=[];for(let x=0,S=s[m].vertices.length;x<S;x++)v.vertices.push(s[m].vertices[x].clone())}if(s[m].normals!==void 0){v.normals=[];for(let x=0,S=s[m].normals.length;x<S;x++)v.normals.push(s[m].normals[x].clone())}this.morphTargets.push(v)}const o=t.morphNormals;for(let m=0,g=o.length;m<g;m++){const v={};if(o[m].vertexNormals!==void 0){v.vertexNormals=[];for(let x=0,S=o[m].vertexNormals.length;x<S;x++){const E=o[m].vertexNormals[x],w={};w.a=E.a.clone(),w.b=E.b.clone(),w.c=E.c.clone(),v.vertexNormals.push(w)}}if(o[m].faceNormals!==void 0){v.faceNormals=[];for(let x=0,S=o[m].faceNormals.length;x<S;x++)v.faceNormals.push(o[m].faceNormals[x].clone())}this.morphNormals.push(v)}const c=t.skinWeights;for(let m=0,g=c.length;m<g;m++)this.skinWeights.push(c[m].clone());const u=t.skinIndices;for(let m=0,g=u.length;m<g;m++)this.skinIndices.push(u[m].clone());const f=t.lineDistances;for(let m=0,g=f.length;m<g;m++)this.lineDistances.push(f[m]);const h=t.boundingBox;h!==null&&(this.boundingBox=h.clone());const p=t.boundingSphere;return p!==null&&(this.boundingSphere=p.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class r0 extends Ct{constructor(e,n,i,s,o,c){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:o,depthSegments:c},this.fromBufferGeometry(new xf(e,n,i,s,o,c)),this.mergeVertices()}}class vx extends Ze{constructor(e,n,i,s){super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},e=e||1,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?i:0,s=s!==void 0?s:Math.PI*2;const o=[],c=[],u=[],f=[],h=new X,p=new Ce;c.push(0,0,0),u.push(0,0,1),f.push(.5,.5);for(let m=0,g=3;m<=n;m++,g+=3){const v=i+m/n*s;h.x=e*Math.cos(v),h.y=e*Math.sin(v),c.push(h.x,h.y,h.z),u.push(0,0,1),p.x=(c[g]/e+1)/2,p.y=(c[g+1]/e+1)/2,f.push(p.x,p.y)}for(let m=1;m<=n;m++)o.push(m,m+1,0);this.setIndex(o),this.setAttribute("position",new Ve(c,3)),this.setAttribute("normal",new Ve(u,3)),this.setAttribute("uv",new Ve(f,2))}}class RC extends Ct{constructor(e,n,i,s){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},this.fromBufferGeometry(new vx(e,n,i,s)),this.mergeVertices()}}class wf extends Ze{constructor(e,n,i,s,o,c,u,f){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:o,openEnded:c,thetaStart:u,thetaLength:f};const h=this;e=e!==void 0?e:1,n=n!==void 0?n:1,i=i||1,s=Math.floor(s)||8,o=Math.floor(o)||1,c=c!==void 0?c:!1,u=u!==void 0?u:0,f=f!==void 0?f:Math.PI*2;const p=[],m=[],g=[],v=[];let x=0;const S=[],E=i/2;let w=0;b(),c===!1&&(e>0&&R(!0),n>0&&R(!1)),this.setIndex(p),this.setAttribute("position",new Ve(m,3)),this.setAttribute("normal",new Ve(g,3)),this.setAttribute("uv",new Ve(v,2));function b(){const D=new X,C=new X;let A=0;const O=(n-e)/i;for(let z=0;z<=o;z++){const N=[],P=z/o,G=P*(n-e)+e;for(let W=0;W<=s;W++){const I=W/s,k=I*f+u,j=Math.sin(k),V=Math.cos(k);C.x=G*j,C.y=-P*i+E,C.z=G*V,m.push(C.x,C.y,C.z),D.set(j,O,V).normalize(),g.push(D.x,D.y,D.z),v.push(I,1-P),N.push(x++)}S.push(N)}for(let z=0;z<s;z++)for(let N=0;N<o;N++){const P=S[N][z],G=S[N+1][z],W=S[N+1][z+1],I=S[N][z+1];p.push(P,G,I),p.push(G,W,I),A+=6}h.addGroup(w,A,0),w+=A}function R(D){const C=x,A=new Ce,O=new X;let z=0;const N=D===!0?e:n,P=D===!0?1:-1;for(let W=1;W<=s;W++)m.push(0,E*P,0),g.push(0,P,0),v.push(.5,.5),x++;const G=x;for(let W=0;W<=s;W++){const k=W/s*f+u,j=Math.cos(k),V=Math.sin(k);O.x=N*V,O.y=E*P,O.z=N*j,m.push(O.x,O.y,O.z),g.push(0,P,0),A.x=j*.5+.5,A.y=V*.5*P+.5,v.push(A.x,A.y),x++}for(let W=0;W<s;W++){const I=C+W,k=G+W;D===!0?p.push(k,k+1,I):p.push(k+1,k,I),z+=3}h.addGroup(w,z,D===!0?1:2),w+=z}}}class xx extends Ct{constructor(e,n,i,s,o,c,u,f){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:o,openEnded:c,thetaStart:u,thetaLength:f},this.fromBufferGeometry(new wf(e,n,i,s,o,c,u,f)),this.mergeVertices()}}class LC extends xx{constructor(e,n,i,s,o,c,u){super(0,e,n,i,s,o,c,u),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:c,thetaLength:u}}}class OC extends wf{constructor(e,n,i,s,o,c,u){super(0,e,n,i,s,o,c,u),this.type="ConeBufferGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:c,thetaLength:u}}}class ro extends Ze{constructor(e,n,i,s){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s},i=i||1,s=s||0;const o=[],c=[];u(s),h(i),p(),this.setAttribute("position",new Ve(o,3)),this.setAttribute("normal",new Ve(o.slice(),3)),this.setAttribute("uv",new Ve(c,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(b){const R=new X,D=new X,C=new X;for(let A=0;A<n.length;A+=3)v(n[A+0],R),v(n[A+1],D),v(n[A+2],C),f(R,D,C,b)}function f(b,R,D,C){const A=C+1,O=[];for(let z=0;z<=A;z++){O[z]=[];const N=b.clone().lerp(D,z/A),P=R.clone().lerp(D,z/A),G=A-z;for(let W=0;W<=G;W++)W===0&&z===A?O[z][W]=N:O[z][W]=N.clone().lerp(P,W/G)}for(let z=0;z<A;z++)for(let N=0;N<2*(A-z)-1;N++){const P=Math.floor(N/2);N%2===0?(g(O[z][P+1]),g(O[z+1][P]),g(O[z][P])):(g(O[z][P+1]),g(O[z+1][P+1]),g(O[z+1][P]))}}function h(b){const R=new X;for(let D=0;D<o.length;D+=3)R.x=o[D+0],R.y=o[D+1],R.z=o[D+2],R.normalize().multiplyScalar(b),o[D+0]=R.x,o[D+1]=R.y,o[D+2]=R.z}function p(){const b=new X;for(let R=0;R<o.length;R+=3){b.x=o[R+0],b.y=o[R+1],b.z=o[R+2];const D=E(b)/2/Math.PI+.5,C=w(b)/Math.PI+.5;c.push(D,1-C)}x(),m()}function m(){for(let b=0;b<c.length;b+=6){const R=c[b+0],D=c[b+2],C=c[b+4],A=Math.max(R,D,C),O=Math.min(R,D,C);A>.9&&O<.1&&(R<.2&&(c[b+0]+=1),D<.2&&(c[b+2]+=1),C<.2&&(c[b+4]+=1))}}function g(b){o.push(b.x,b.y,b.z)}function v(b,R){const D=b*3;R.x=e[D+0],R.y=e[D+1],R.z=e[D+2]}function x(){const b=new X,R=new X,D=new X,C=new X,A=new Ce,O=new Ce,z=new Ce;for(let N=0,P=0;N<o.length;N+=9,P+=6){b.set(o[N+0],o[N+1],o[N+2]),R.set(o[N+3],o[N+4],o[N+5]),D.set(o[N+6],o[N+7],o[N+8]),A.set(c[P+0],c[P+1]),O.set(c[P+2],c[P+3]),z.set(c[P+4],c[P+5]),C.copy(b).add(R).add(D).divideScalar(3);const G=E(C);S(A,P+0,b,G),S(O,P+2,R,G),S(z,P+4,D,G)}}function S(b,R,D,C){C<0&&b.x===1&&(c[R]=b.x-1),D.x===0&&D.z===0&&(c[R]=C/2/Math.PI+.5)}function E(b){return Math.atan2(b.z,-b.x)}function w(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}}class bx extends ro{constructor(e,n){const i=(1+Math.sqrt(5))/2,s=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,c,e,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class DC extends Ct{constructor(e,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new bx(e,n)),this.mergeVertices()}}const md=new X,gd=new X,Yy=new X,yd=new An;class _x extends Ze{constructor(e,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1,e.isGeometry&&(e=new Ze().fromGeometry(e));const s=Math.pow(10,4),o=Math.cos(st.DEG2RAD*n),c=e.getIndex(),u=e.getAttribute("position"),f=c?c.count:u.count,h=[0,0,0],p=["a","b","c"],m=new Array(3),g={},v=[];for(let x=0;x<f;x+=3){c?(h[0]=c.getX(x),h[1]=c.getX(x+1),h[2]=c.getX(x+2)):(h[0]=x,h[1]=x+1,h[2]=x+2);const{a:S,b:E,c:w}=yd;if(S.fromBufferAttribute(u,h[0]),E.fromBufferAttribute(u,h[1]),w.fromBufferAttribute(u,h[2]),yd.getNormal(Yy),m[0]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,m[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,m[2]=`${Math.round(w.x*s)},${Math.round(w.y*s)},${Math.round(w.z*s)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let b=0;b<3;b++){const R=(b+1)%3,D=m[b],C=m[R],A=yd[p[b]],O=yd[p[R]],z=`${D}_${C}`,N=`${C}_${D}`;N in g&&g[N]?(Yy.dot(g[N].normal)<=o&&(v.push(A.x,A.y,A.z),v.push(O.x,O.y,O.z)),g[N]=null):z in g||(g[z]={index0:h[b],index1:h[R],normal:Yy.clone()})}}for(const x in g)if(g[x]){const{index0:S,index1:E}=g[x];md.fromBufferAttribute(u,S),gd.fromBufferAttribute(u,E),v.push(md.x,md.y,md.z),v.push(gd.x,gd.y,gd.z)}this.setAttribute("position",new Ve(v,3))}}const YI={triangulate:function(t,e,n){n=n||2;const i=e&&e.length,s=i?e[0]*n:t.length;let o=PC(t,0,s,n,!0);const c=[];if(!o||o.next===o.prev)return c;let u,f,h,p,m,g,v;if(i&&(o=$I(t,e,o,n)),t.length>80*n){u=h=t[0],f=p=t[1];for(let x=n;x<s;x+=n)m=t[x],g=t[x+1],m<u&&(u=m),g<f&&(f=g),m>h&&(h=m),g>p&&(p=g);v=Math.max(h-u,p-f),v=v!==0?1/v:0}return Ku(o,c,n,u,f,v),c}};function PC(t,e,n,i,s){let o,c;if(s===uF(t,e,n,i)>0)for(o=e;o<n;o+=i)c=FM(o,t[o],t[o+1],c);else for(o=n-i;o>=e;o-=i)c=FM(o,t[o],t[o+1],c);return c&&Fp(c,c.next)&&(Ju(c),c=c.next),c}function na(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Fp(n,n.next)||jt(n.prev,n,n.next)===0)){if(Ju(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Ku(t,e,n,i,s,o,c){if(!t)return;!c&&o&&rF(t,i,s,o);let u=t,f,h;for(;t.prev!==t.next;){if(f=t.prev,h=t.next,o?KI(t,i,s,o):ZI(t)){e.push(f.i/n),e.push(t.i/n),e.push(h.i/n),Ju(t),t=h.next,u=h.next;continue}if(t=h,t===u){c?c===1?(t=QI(na(t),e,n),Ku(t,e,n,i,s,o,2)):c===2&&JI(t,e,n,i,s,o):Ku(na(t),e,n,i,s,o,1);break}}}function ZI(t){const e=t.prev,n=t,i=t.next;if(jt(e,n,i)>=0)return!1;let s=t.next.next;for(;s!==t.prev;){if(vl(e.x,e.y,n.x,n.y,i.x,i.y,s.x,s.y)&&jt(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function KI(t,e,n,i){const s=t.prev,o=t,c=t.next;if(jt(s,o,c)>=0)return!1;const u=s.x<o.x?s.x<c.x?s.x:c.x:o.x<c.x?o.x:c.x,f=s.y<o.y?s.y<c.y?s.y:c.y:o.y<c.y?o.y:c.y,h=s.x>o.x?s.x>c.x?s.x:c.x:o.x>c.x?o.x:c.x,p=s.y>o.y?s.y>c.y?s.y:c.y:o.y>c.y?o.y:c.y,m=s0(u,f,e,n,i),g=s0(h,p,e,n,i);let v=t.prevZ,x=t.nextZ;for(;v&&v.z>=m&&x&&x.z<=g;){if(v!==t.prev&&v!==t.next&&vl(s.x,s.y,o.x,o.y,c.x,c.y,v.x,v.y)&&jt(v.prev,v,v.next)>=0||(v=v.prevZ,x!==t.prev&&x!==t.next&&vl(s.x,s.y,o.x,o.y,c.x,c.y,x.x,x.y)&&jt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;v&&v.z>=m;){if(v!==t.prev&&v!==t.next&&vl(s.x,s.y,o.x,o.y,c.x,c.y,v.x,v.y)&&jt(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=g;){if(x!==t.prev&&x!==t.next&&vl(s.x,s.y,o.x,o.y,c.x,c.y,x.x,x.y)&&jt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function QI(t,e,n){let i=t;do{const s=i.prev,o=i.next.next;!Fp(s,o)&&NC(s,i,i.next,o)&&Qu(s,o)&&Qu(o,s)&&(e.push(s.i/n),e.push(i.i/n),e.push(o.i/n),Ju(i),Ju(i.next),i=t=o),i=i.next}while(i!==t);return na(i)}function JI(t,e,n,i,s,o){let c=t;do{let u=c.next.next;for(;u!==c.prev;){if(c.i!==u.i&&oF(c,u)){let f=BC(c,u);c=na(c,c.next),f=na(f,f.next),Ku(c,e,n,i,s,o),Ku(f,e,n,i,s,o);return}u=u.next}c=c.next}while(c!==t)}function $I(t,e,n,i){const s=[];let o,c,u,f,h;for(o=0,c=e.length;o<c;o++)u=e[o]*i,f=o<c-1?e[o+1]*i:t.length,h=PC(t,u,f,i,!1),h===h.next&&(h.steiner=!0),s.push(aF(h));for(s.sort(eF),o=0;o<s.length;o++)tF(s[o],n),n=na(n,n.next);return n}function eF(t,e){return t.x-e.x}function tF(t,e){if(e=nF(t,e),e){const n=BC(e,t);na(e,e.next),na(n,n.next)}}function nF(t,e){let n=e;const i=t.x,s=t.y;let o=-1/0,c;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const g=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>o){if(o=g,g===i){if(s===n.y)return n;if(s===n.next.y)return n.next}c=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!c)return null;if(i===o)return c;const u=c,f=c.x,h=c.y;let p=1/0,m;n=c;do i>=n.x&&n.x>=f&&i!==n.x&&vl(s<h?i:o,s,f,h,s<h?o:i,s,n.x,n.y)&&(m=Math.abs(s-n.y)/(i-n.x),Qu(n,t)&&(m<p||m===p&&(n.x>c.x||n.x===c.x&&iF(c,n)))&&(c=n,p=m)),n=n.next;while(n!==u);return c}function iF(t,e){return jt(t.prev,t,e.prev)<0&&jt(e.next,t,t.next)<0}function rF(t,e,n,i){let s=t;do s.z===null&&(s.z=s0(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,sF(s)}function sF(t){let e,n,i,s,o,c,u,f,h=1;do{for(n=t,t=null,o=null,c=0;n;){for(c++,i=n,u=0,e=0;e<h&&(u++,i=i.nextZ,!!i);e++);for(f=h;u>0||f>0&&i;)u!==0&&(f===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,u--):(s=i,i=i.nextZ,f--),o?o.nextZ=s:t=s,s.prevZ=o,o=s;n=i}o.nextZ=null,h*=2}while(c>1);return t}function s0(t,e,n,i,s){return t=32767*(t-n)*s,e=32767*(e-i)*s,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function aF(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function vl(t,e,n,i,s,o,c,u){return(s-c)*(e-u)-(t-c)*(o-u)>=0&&(t-c)*(i-u)-(n-c)*(e-u)>=0&&(n-c)*(o-u)-(s-c)*(i-u)>=0}function oF(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lF(t,e)&&(Qu(t,e)&&Qu(e,t)&&cF(t,e)&&(jt(t.prev,t,e.prev)||jt(t,e.prev,e))||Fp(t,e)&&jt(t.prev,t,t.next)>0&&jt(e.prev,e,e.next)>0)}function jt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Fp(t,e){return t.x===e.x&&t.y===e.y}function NC(t,e,n,i){const s=xd(jt(t,e,n)),o=xd(jt(t,e,i)),c=xd(jt(n,i,t)),u=xd(jt(n,i,e));return!!(s!==o&&c!==u||s===0&&vd(t,n,e)||o===0&&vd(t,i,e)||c===0&&vd(n,t,i)||u===0&&vd(n,e,i))}function vd(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function xd(t){return t>0?1:t<0?-1:0}function lF(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NC(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Qu(t,e){return jt(t.prev,t,t.next)<0?jt(t,e,t.next)>=0&&jt(t,t.prev,e)>=0:jt(t,e,t.prev)<0||jt(t,t.next,e)<0}function cF(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&s<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function BC(t,e){const n=new a0(t.i,t.x,t.y),i=new a0(e.i,e.x,e.y),s=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function FM(t,e,n,i){const s=new a0(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Ju(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function a0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function uF(t,e,n,i){let s=0;for(let o=e,c=n-i;o<n;o+=i)s+=(t[c]-t[o])*(t[o+1]+t[c+1]),c=o;return s}const es={area:function(t){const e=t.length;let n=0;for(let i=e-1,s=0;s<e;i=s++)n+=t[i].x*t[s].y-t[s].x*t[i].y;return n*.5},isClockWise:function(t){return es.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],s=[];kM(t),GM(n,t);let o=t.length;e.forEach(kM);for(let u=0;u<e.length;u++)i.push(o),o+=e[u].length,GM(n,e[u]);const c=YI.triangulate(n,i);for(let u=0;u<c.length;u+=3)s.push(c.slice(u,u+3));return s}};function kM(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function GM(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Sf extends Ze{constructor(e,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],o=[];for(let u=0,f=e.length;u<f;u++){const h=e[u];c(h)}this.setAttribute("position",new Ve(s,3)),this.setAttribute("uv",new Ve(o,2)),this.computeVertexNormals();function c(u){const f=[],h=n.curveSegments!==void 0?n.curveSegments:12,p=n.steps!==void 0?n.steps:1;let m=n.depth!==void 0?n.depth:100,g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:6,x=n.bevelSize!==void 0?n.bevelSize:v-2,S=n.bevelOffset!==void 0?n.bevelOffset:0,E=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:fF;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=n.amount);let R,D=!1,C,A,O,z;w&&(R=w.getSpacedPoints(p),D=!0,g=!1,C=w.computeFrenetFrames(p,!1),A=new X,O=new X,z=new X),g||(E=0,v=0,x=0,S=0);const N=u.extractPoints(h);let P=N.shape;const G=N.holes;if(!es.isClockWise(P)){P=P.reverse();for(let xe=0,Ee=G.length;xe<Ee;xe++){const Se=G[xe];es.isClockWise(Se)&&(G[xe]=Se.reverse())}}const I=es.triangulateShape(P,G),k=P;for(let xe=0,Ee=G.length;xe<Ee;xe++){const Se=G[xe];P=P.concat(Se)}function j(xe,Ee,Se){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ee.clone().multiplyScalar(Se).add(xe)}const V=P.length,T=I.length;function re(xe,Ee,Se){let Ne,Oe,q;const Z=xe.x-Ee.x,Te=xe.y-Ee.y,F=Se.x-xe.x,U=Se.y-xe.y,ee=Z*Z+Te*Te,he=Z*U-Te*F;if(Math.abs(he)>Number.EPSILON){const ge=Math.sqrt(ee),le=Math.sqrt(F*F+U*U),_e=Ee.x-Te/ge,Re=Ee.y+Z/ge,ze=Se.x-U/le,Be=Se.y+F/le,Ye=((ze-_e)*U-(Be-Re)*F)/(Z*U-Te*F);Ne=_e+Z*Ye-xe.x,Oe=Re+Te*Ye-xe.y;const mt=Ne*Ne+Oe*Oe;if(mt<=2)return new Ce(Ne,Oe);q=Math.sqrt(mt/2)}else{let ge=!1;Z>Number.EPSILON?F>Number.EPSILON&&(ge=!0):Z<-Number.EPSILON?F<-Number.EPSILON&&(ge=!0):Math.sign(Te)===Math.sign(U)&&(ge=!0),ge?(Ne=-Te,Oe=Z,q=Math.sqrt(ee)):(Ne=Z,Oe=Te,q=Math.sqrt(ee/2))}return new Ce(Ne/q,Oe/q)}const Y=[];for(let xe=0,Ee=k.length,Se=Ee-1,Ne=xe+1;xe<Ee;xe++,Se++,Ne++)Se===Ee&&(Se=0),Ne===Ee&&(Ne=0),Y[xe]=re(k[xe],k[Se],k[Ne]);const M=[];let B,J=Y.concat();for(let xe=0,Ee=G.length;xe<Ee;xe++){const Se=G[xe];B=[];for(let Ne=0,Oe=Se.length,q=Oe-1,Z=Ne+1;Ne<Oe;Ne++,q++,Z++)q===Oe&&(q=0),Z===Oe&&(Z=0),B[Ne]=re(Se[Ne],Se[q],Se[Z]);M.push(B),J=J.concat(B)}for(let xe=0;xe<E;xe++){const Ee=xe/E,Se=v*Math.cos(Ee*Math.PI/2),Ne=x*Math.sin(Ee*Math.PI/2)+S;for(let Oe=0,q=k.length;Oe<q;Oe++){const Z=j(k[Oe],Y[Oe],Ne);me(Z.x,Z.y,-Se)}for(let Oe=0,q=G.length;Oe<q;Oe++){const Z=G[Oe];B=M[Oe];for(let Te=0,F=Z.length;Te<F;Te++){const U=j(Z[Te],B[Te],Ne);me(U.x,U.y,-Se)}}}const ie=x+S;for(let xe=0;xe<V;xe++){const Ee=g?j(P[xe],J[xe],ie):P[xe];D?(O.copy(C.normals[0]).multiplyScalar(Ee.x),A.copy(C.binormals[0]).multiplyScalar(Ee.y),z.copy(R[0]).add(O).add(A),me(z.x,z.y,z.z)):me(Ee.x,Ee.y,0)}for(let xe=1;xe<=p;xe++)for(let Ee=0;Ee<V;Ee++){const Se=g?j(P[Ee],J[Ee],ie):P[Ee];D?(O.copy(C.normals[xe]).multiplyScalar(Se.x),A.copy(C.binormals[xe]).multiplyScalar(Se.y),z.copy(R[xe]).add(O).add(A),me(z.x,z.y,z.z)):me(Se.x,Se.y,m/p*xe)}for(let xe=E-1;xe>=0;xe--){const Ee=xe/E,Se=v*Math.cos(Ee*Math.PI/2),Ne=x*Math.sin(Ee*Math.PI/2)+S;for(let Oe=0,q=k.length;Oe<q;Oe++){const Z=j(k[Oe],Y[Oe],Ne);me(Z.x,Z.y,m+Se)}for(let Oe=0,q=G.length;Oe<q;Oe++){const Z=G[Oe];B=M[Oe];for(let Te=0,F=Z.length;Te<F;Te++){const U=j(Z[Te],B[Te],Ne);D?me(U.x,U.y+R[p-1].y,R[p-1].x+Se):me(U.x,U.y,m+Se)}}}ae(),te();function ae(){const xe=s.length/3;if(g){let Ee=0,Se=V*Ee;for(let Ne=0;Ne<T;Ne++){const Oe=I[Ne];Le(Oe[2]+Se,Oe[1]+Se,Oe[0]+Se)}Ee=p+E*2,Se=V*Ee;for(let Ne=0;Ne<T;Ne++){const Oe=I[Ne];Le(Oe[0]+Se,Oe[1]+Se,Oe[2]+Se)}}else{for(let Ee=0;Ee<T;Ee++){const Se=I[Ee];Le(Se[2],Se[1],Se[0])}for(let Ee=0;Ee<T;Ee++){const Se=I[Ee];Le(Se[0]+V*p,Se[1]+V*p,Se[2]+V*p)}}i.addGroup(xe,s.length/3-xe,0)}function te(){const xe=s.length/3;let Ee=0;pe(k,Ee),Ee+=k.length;for(let Se=0,Ne=G.length;Se<Ne;Se++){const Oe=G[Se];pe(Oe,Ee),Ee+=Oe.length}i.addGroup(xe,s.length/3-xe,1)}function pe(xe,Ee){let Se=xe.length;for(;--Se>=0;){const Ne=Se;let Oe=Se-1;Oe<0&&(Oe=xe.length-1);for(let q=0,Z=p+E*2;q<Z;q++){const Te=V*q,F=V*(q+1),U=Ee+Ne+Te,ee=Ee+Oe+Te,he=Ee+Oe+F,ge=Ee+Ne+F;De(U,ee,he,ge)}}}function me(xe,Ee,Se){f.push(xe),f.push(Ee),f.push(Se)}function Le(xe,Ee,Se){Ie(xe),Ie(Ee),Ie(Se);const Ne=s.length/3,Oe=b.generateTopUV(i,s,Ne-3,Ne-2,Ne-1);Ue(Oe[0]),Ue(Oe[1]),Ue(Oe[2])}function De(xe,Ee,Se,Ne){Ie(xe),Ie(Ee),Ie(Ne),Ie(Ee),Ie(Se),Ie(Ne);const Oe=s.length/3,q=b.generateSideWallUV(i,s,Oe-6,Oe-3,Oe-2,Oe-1);Ue(q[0]),Ue(q[1]),Ue(q[3]),Ue(q[1]),Ue(q[2]),Ue(q[3])}function Ie(xe){s.push(f[xe*3+0]),s.push(f[xe*3+1]),s.push(f[xe*3+2])}function Ue(xe){o.push(xe.x),o.push(xe.y)}}}toJSON(){const e=Ze.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return hF(n,i,e)}}const fF={generateTopUV:function(t,e,n,i,s){const o=e[n*3],c=e[n*3+1],u=e[i*3],f=e[i*3+1],h=e[s*3],p=e[s*3+1];return[new Ce(o,c),new Ce(u,f),new Ce(h,p)]},generateSideWallUV:function(t,e,n,i,s,o){const c=e[n*3],u=e[n*3+1],f=e[n*3+2],h=e[i*3],p=e[i*3+1],m=e[i*3+2],g=e[s*3],v=e[s*3+1],x=e[s*3+2],S=e[o*3],E=e[o*3+1],w=e[o*3+2];return Math.abs(u-p)<.01?[new Ce(c,1-f),new Ce(h,1-m),new Ce(g,1-x),new Ce(S,1-w)]:[new Ce(u,1-f),new Ce(p,1-m),new Ce(v,1-x),new Ce(E,1-w)]}};function hF(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class wx extends Ct{constructor(e,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},this.fromBufferGeometry(new Sf(e,n)),this.mergeVertices()}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return dF(n,i,e)}}function dF(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Sx extends ro{constructor(e,n){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,e,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class zC extends Ct{constructor(e,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new Sx(e,n)),this.mergeVertices()}}class Mx extends Ze{constructor(e,n,i,s){super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n)||12,i=i||0,s=s||Math.PI*2,s=st.clamp(s,0,Math.PI*2);const o=[],c=[],u=[],f=1/n,h=new X,p=new Ce;for(let m=0;m<=n;m++){const g=i+m*f*s,v=Math.sin(g),x=Math.cos(g);for(let S=0;S<=e.length-1;S++)h.x=e[S].x*v,h.y=e[S].y,h.z=e[S].x*x,c.push(h.x,h.y,h.z),p.x=m/n,p.y=S/(e.length-1),u.push(p.x,p.y)}for(let m=0;m<n;m++)for(let g=0;g<e.length-1;g++){const v=g+m*e.length,x=v,S=v+e.length,E=v+e.length+1,w=v+1;o.push(x,S,w),o.push(S,E,w)}if(this.setIndex(o),this.setAttribute("position",new Ve(c,3)),this.setAttribute("uv",new Ve(u,2)),this.computeVertexNormals(),s===Math.PI*2){const m=this.attributes.normal.array,g=new X,v=new X,x=new X,S=n*e.length*3;for(let E=0,w=0;E<e.length;E++,w+=3)g.x=m[w+0],g.y=m[w+1],g.z=m[w+2],v.x=m[S+w+0],v.y=m[S+w+1],v.z=m[S+w+2],x.addVectors(g,v).normalize(),m[w+0]=m[S+w+0]=x.x,m[w+1]=m[S+w+1]=x.y,m[w+2]=m[S+w+2]=x.z}}}class UC extends Ct{constructor(e,n,i,s){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},this.fromBufferGeometry(new Mx(e,n,i,s)),this.mergeVertices()}}class kp extends ro{constructor(e,n){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class HC extends Ct{constructor(e,n){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new kp(e,n)),this.mergeVertices()}}function Dl(t,e,n){Ze.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],s=[],o=[],c=[],u=1e-5,f=new X,h=new X,p=new X,m=new X,g=new X;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const v=e+1;for(let x=0;x<=n;x++){const S=x/n;for(let E=0;E<=e;E++){const w=E/e;t(w,S,h),s.push(h.x,h.y,h.z),w-u>=0?(t(w-u,S,p),m.subVectors(h,p)):(t(w+u,S,p),m.subVectors(p,h)),S-u>=0?(t(w,S-u,p),g.subVectors(h,p)):(t(w,S+u,p),g.subVectors(p,h)),f.crossVectors(m,g).normalize(),o.push(f.x,f.y,f.z),c.push(w,S)}}for(let x=0;x<n;x++)for(let S=0;S<e;S++){const E=x*v+S,w=x*v+S+1,b=(x+1)*v+S+1,R=(x+1)*v+S;i.push(E,w,R),i.push(w,b,R)}this.setIndex(i),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(o,3)),this.setAttribute("uv",new Ve(c,2))}Dl.prototype=Object.create(Ze.prototype);Dl.prototype.constructor=Dl;function $u(t,e,n){Ct.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Dl(t,e,n)),this.mergeVertices()}$u.prototype=Object.create(Ct.prototype);$u.prototype.constructor=$u;class VC extends Ct{constructor(e,n,i,s){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s},this.fromBufferGeometry(new Hp(e,n,i,s)),this.mergeVertices()}}class IC extends Ct{constructor(e,n,i,s){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s},this.fromBufferGeometry(new ro(e,n,i,s)),this.mergeVertices()}}class Ex extends Ze{constructor(e,n,i,s,o,c){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:c},e=e||.5,n=n||1,o=o!==void 0?o:0,c=c!==void 0?c:Math.PI*2,i=i!==void 0?Math.max(3,i):8,s=s!==void 0?Math.max(1,s):1;const u=[],f=[],h=[],p=[];let m=e;const g=(n-e)/s,v=new X,x=new Ce;for(let S=0;S<=s;S++){for(let E=0;E<=i;E++){const w=o+E/i*c;v.x=m*Math.cos(w),v.y=m*Math.sin(w),f.push(v.x,v.y,v.z),h.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,p.push(x.x,x.y)}m+=g}for(let S=0;S<s;S++){const E=S*(i+1);for(let w=0;w<i;w++){const b=w+E,R=b,D=b+i+1,C=b+i+2,A=b+1;u.push(R,D,A),u.push(D,C,A)}}this.setIndex(u),this.setAttribute("position",new Ve(f,3)),this.setAttribute("normal",new Ve(h,3)),this.setAttribute("uv",new Ve(p,2))}}class FC extends Ct{constructor(e,n,i,s,o,c){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:c},this.fromBufferGeometry(new Ex(e,n,i,s,o,c)),this.mergeVertices()}}class Tx extends Ze{constructor(e,n){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:n},n=n||12;const i=[],s=[],o=[],c=[];let u=0,f=0;if(Array.isArray(e)===!1)h(e);else for(let p=0;p<e.length;p++)h(e[p]),this.addGroup(u,f,p),u+=f,f=0;this.setIndex(i),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(o,3)),this.setAttribute("uv",new Ve(c,2));function h(p){const m=s.length/3,g=p.extractPoints(n);let v=g.shape;const x=g.holes;es.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,w=x.length;E<w;E++){const b=x[E];es.isClockWise(b)===!0&&(x[E]=b.reverse())}const S=es.triangulateShape(v,x);for(let E=0,w=x.length;E<w;E++){const b=x[E];v=v.concat(b)}for(let E=0,w=v.length;E<w;E++){const b=v[E];s.push(b.x,b.y,0),o.push(0,0,1),c.push(b.x,b.y)}for(let E=0,w=S.length;E<w;E++){const b=S[E],R=b[0]+m,D=b[1]+m,C=b[2]+m;i.push(R,D,C),f+=3}}}toJSON(){const e=Ze.prototype.toJSON.call(this),n=this.parameters.shapes;return pF(n,e)}}function pF(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class Ax extends Ct{constructor(e,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:e,curveSegments:n},this.fromBufferGeometry(new Tx(e,n)),this.mergeVertices()}toJSON(){const e=Ct.prototype.toJSON.call(this),n=this.parameters.shapes;return mF(n,e)}}function mF(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class Gp extends Ze{constructor(e,n,i,s,o,c,u){super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:o,thetaStart:c,thetaLength:u},e=e||1,n=Math.max(3,Math.floor(n)||8),i=Math.max(2,Math.floor(i)||6),s=s!==void 0?s:0,o=o!==void 0?o:Math.PI*2,c=c!==void 0?c:0,u=u!==void 0?u:Math.PI;const f=Math.min(c+u,Math.PI);let h=0;const p=[],m=new X,g=new X,v=[],x=[],S=[],E=[];for(let w=0;w<=i;w++){const b=[],R=w/i;let D=0;w==0&&c==0?D=.5/n:w==i&&f==Math.PI&&(D=-.5/n);for(let C=0;C<=n;C++){const A=C/n;m.x=-e*Math.cos(s+A*o)*Math.sin(c+R*u),m.y=e*Math.cos(c+R*u),m.z=e*Math.sin(s+A*o)*Math.sin(c+R*u),x.push(m.x,m.y,m.z),g.copy(m).normalize(),S.push(g.x,g.y,g.z),E.push(A+D,1-R),b.push(h++)}p.push(b)}for(let w=0;w<i;w++)for(let b=0;b<n;b++){const R=p[w][b+1],D=p[w][b],C=p[w+1][b],A=p[w+1][b+1];(w!==0||c>0)&&v.push(R,D,A),(w!==i-1||f<Math.PI)&&v.push(D,C,A)}this.setIndex(v),this.setAttribute("position",new Ve(x,3)),this.setAttribute("normal",new Ve(S,3)),this.setAttribute("uv",new Ve(E,2))}}class kC extends Ct{constructor(e,n,i,s,o,c,u){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:o,thetaStart:c,thetaLength:u},this.fromBufferGeometry(new Gp(e,n,i,s,o,c,u)),this.mergeVertices()}}class Cx extends ro{constructor(e,n){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class GC extends Ct{constructor(e,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new Cx(e,n)),this.mergeVertices()}}class Rx extends Sf{constructor(e,n){n=n||{};const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ze;const s=i.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(s,n),this.type="TextBufferGeometry"}}class jC extends Ct{constructor(e,n){super(),this.type="TextGeometry",this.parameters={text:e,parameters:n},this.fromBufferGeometry(new Rx(e,n)),this.mergeVertices()}}class Lx extends Ze{constructor(e,n,i,s,o){super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:o},e=e||1,n=n||.4,i=Math.floor(i)||8,s=Math.floor(s)||6,o=o||Math.PI*2;const c=[],u=[],f=[],h=[],p=new X,m=new X,g=new X;for(let v=0;v<=i;v++)for(let x=0;x<=s;x++){const S=x/s*o,E=v/i*Math.PI*2;m.x=(e+n*Math.cos(E))*Math.cos(S),m.y=(e+n*Math.cos(E))*Math.sin(S),m.z=n*Math.sin(E),u.push(m.x,m.y,m.z),p.x=e*Math.cos(S),p.y=e*Math.sin(S),g.subVectors(m,p).normalize(),f.push(g.x,g.y,g.z),h.push(x/s),h.push(v/i)}for(let v=1;v<=i;v++)for(let x=1;x<=s;x++){const S=(s+1)*v+x-1,E=(s+1)*(v-1)+x-1,w=(s+1)*(v-1)+x,b=(s+1)*v+x;c.push(S,E,b),c.push(E,w,b)}this.setIndex(c),this.setAttribute("position",new Ve(u,3)),this.setAttribute("normal",new Ve(f,3)),this.setAttribute("uv",new Ve(h,2))}}class WC extends Ct{constructor(e,n,i,s,o){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:o},this.fromBufferGeometry(new Lx(e,n,i,s,o)),this.mergeVertices()}}class Ox extends Ze{constructor(e,n,i,s,o,c){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:o,q:c},e=e||1,n=n||.4,i=Math.floor(i)||64,s=Math.floor(s)||8,o=o||2,c=c||3;const u=[],f=[],h=[],p=[],m=new X,g=new X,v=new X,x=new X,S=new X,E=new X,w=new X;for(let R=0;R<=i;++R){const D=R/i*o*Math.PI*2;b(D,o,c,e,v),b(D+.01,o,c,e,x),E.subVectors(x,v),w.addVectors(x,v),S.crossVectors(E,w),w.crossVectors(S,E),S.normalize(),w.normalize();for(let C=0;C<=s;++C){const A=C/s*Math.PI*2,O=-n*Math.cos(A),z=n*Math.sin(A);m.x=v.x+(O*w.x+z*S.x),m.y=v.y+(O*w.y+z*S.y),m.z=v.z+(O*w.z+z*S.z),f.push(m.x,m.y,m.z),g.subVectors(m,v).normalize(),h.push(g.x,g.y,g.z),p.push(R/i),p.push(C/s)}}for(let R=1;R<=i;R++)for(let D=1;D<=s;D++){const C=(s+1)*(R-1)+(D-1),A=(s+1)*R+(D-1),O=(s+1)*R+D,z=(s+1)*(R-1)+D;u.push(C,A,z),u.push(A,O,z)}this.setIndex(u),this.setAttribute("position",new Ve(f,3)),this.setAttribute("normal",new Ve(h,3)),this.setAttribute("uv",new Ve(p,2));function b(R,D,C,A,O){const z=Math.cos(R),N=Math.sin(R),P=C/D*R,G=Math.cos(P);O.x=A*(2+G)*.5*z,O.y=A*(2+G)*N*.5,O.z=A*Math.sin(P)*.5}}}class qC extends Ct{constructor(e,n,i,s,o,c,u){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:o,q:c},u!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Ox(e,n,i,s,o,c)),this.mergeVertices()}}class Dx extends Ze{constructor(e,n,i,s,o){super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:o},n=n||64,i=i||1,s=s||8,o=o||!1;const c=e.computeFrenetFrames(n,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const u=new X,f=new X,h=new Ce;let p=new X;const m=[],g=[],v=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new Ve(m,3)),this.setAttribute("normal",new Ve(g,3)),this.setAttribute("uv",new Ve(v,2));function S(){for(let R=0;R<n;R++)E(R);E(o===!1?n:0),b(),w()}function E(R){p=e.getPointAt(R/n,p);const D=c.normals[R],C=c.binormals[R];for(let A=0;A<=s;A++){const O=A/s*Math.PI*2,z=Math.sin(O),N=-Math.cos(O);f.x=N*D.x+z*C.x,f.y=N*D.y+z*C.y,f.z=N*D.z+z*C.z,f.normalize(),g.push(f.x,f.y,f.z),u.x=p.x+i*f.x,u.y=p.y+i*f.y,u.z=p.z+i*f.z,m.push(u.x,u.y,u.z)}}function w(){for(let R=1;R<=n;R++)for(let D=1;D<=s;D++){const C=(s+1)*(R-1)+(D-1),A=(s+1)*R+(D-1),O=(s+1)*R+D,z=(s+1)*(R-1)+D;x.push(C,A,z),x.push(A,O,z)}}function b(){for(let R=0;R<=n;R++)for(let D=0;D<=s;D++)h.x=R/n,h.y=D/s,v.push(h.x,h.y)}}toJSON(){const e=Ze.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class XC extends Ct{constructor(e,n,i,s,o,c){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:o},c!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const u=new Dx(e,n,i,s,o);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals,this.fromBufferGeometry(u),this.mergeVertices()}}class Px extends Ze{constructor(e){super(),this.type="WireframeGeometry";const n=[],i=[0,0],s={},o=["a","b","c"];if(e&&e.isGeometry){const c=e.faces;for(let u=0,f=c.length;u<f;u++){const h=c[u];for(let p=0;p<3;p++){const m=h[o[p]],g=h[o[(p+1)%3]];i[0]=Math.min(m,g),i[1]=Math.max(m,g);const v=i[0]+","+i[1];s[v]===void 0&&(s[v]={index1:i[0],index2:i[1]})}}for(const u in s){const f=s[u];let h=e.vertices[f.index1];n.push(h.x,h.y,h.z),h=e.vertices[f.index2],n.push(h.x,h.y,h.z)}}else if(e&&e.isBufferGeometry){const c=new X;if(e.index!==null){const u=e.attributes.position,f=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:f.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const g=h[p],v=g.start,x=g.count;for(let S=v,E=v+x;S<E;S+=3)for(let w=0;w<3;w++){const b=f.getX(S+w),R=f.getX(S+(w+1)%3);i[0]=Math.min(b,R),i[1]=Math.max(b,R);const D=i[0]+","+i[1];s[D]===void 0&&(s[D]={index1:i[0],index2:i[1]})}}for(const p in s){const m=s[p];c.fromBufferAttribute(u,m.index1),n.push(c.x,c.y,c.z),c.fromBufferAttribute(u,m.index2),n.push(c.x,c.y,c.z)}}else{const u=e.attributes.position;for(let f=0,h=u.count/3;f<h;f++)for(let p=0;p<3;p++){const m=3*f+p;c.fromBufferAttribute(u,m),n.push(c.x,c.y,c.z);const g=3*f+(p+1)%3;c.fromBufferAttribute(u,g),n.push(c.x,c.y,c.z)}}}this.setAttribute("position",new Ve(n,3))}}var Hn=Object.freeze({__proto__:null,BoxGeometry:r0,BoxBufferGeometry:xf,CircleGeometry:RC,CircleBufferGeometry:vx,ConeGeometry:LC,ConeBufferGeometry:OC,CylinderGeometry:xx,CylinderBufferGeometry:wf,DodecahedronGeometry:DC,DodecahedronBufferGeometry:bx,EdgesGeometry:_x,ExtrudeGeometry:wx,ExtrudeBufferGeometry:Sf,IcosahedronGeometry:zC,IcosahedronBufferGeometry:Sx,LatheGeometry:UC,LatheBufferGeometry:Mx,OctahedronGeometry:HC,OctahedronBufferGeometry:kp,ParametricGeometry:$u,ParametricBufferGeometry:Dl,PlaneGeometry:VC,PlaneBufferGeometry:Hp,PolyhedronGeometry:IC,PolyhedronBufferGeometry:ro,RingGeometry:FC,RingBufferGeometry:Ex,ShapeGeometry:Ax,ShapeBufferGeometry:Tx,SphereGeometry:kC,SphereBufferGeometry:Gp,TetrahedronGeometry:GC,TetrahedronBufferGeometry:Cx,TextGeometry:jC,TextBufferGeometry:Rx,TorusGeometry:WC,TorusBufferGeometry:Lx,TorusKnotGeometry:qC,TorusKnotBufferGeometry:Ox,TubeGeometry:XC,TubeBufferGeometry:Dx,WireframeGeometry:Px});function Za(t){et.call(this),this.type="ShadowMaterial",this.color=new ke(0),this.transparent=!0,this.setValues(t)}Za.prototype=Object.create(et.prototype);Za.prototype.constructor=Za;Za.prototype.isShadowMaterial=!0;Za.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this};function ss(t){jn.call(this,t),this.type="RawShaderMaterial"}ss.prototype=Object.create(jn.prototype);ss.prototype.constructor=ss;ss.prototype.isRawShaderMaterial=!0;function _r(t){et.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=io,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}_r.prototype=Object.create(et.prototype);_r.prototype.constructor=_r;_r.prototype.isMeshStandardMaterial=!0;_r.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this};function ia(t){_r.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=st.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}ia.prototype=Object.create(_r.prototype);ia.prototype.constructor=ia;ia.prototype.isMeshPhysicalMaterial=!0;ia.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new ke).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this};function ra(t){et.call(this),this.type="MeshPhongMaterial",this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=io,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=df,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ra.prototype=Object.create(et.prototype);ra.prototype.constructor=ra;ra.prototype.isMeshPhongMaterial=!0;ra.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Ka(t){et.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=io,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Ka.prototype=Object.create(et.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isMeshToonMaterial=!0;Ka.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Qa(t){et.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=io,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Qa.prototype=Object.create(et.prototype);Qa.prototype.constructor=Qa;Qa.prototype.isMeshNormalMaterial=!0;Qa.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Ja(t){et.call(this),this.type="MeshLambertMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=df,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Ja.prototype=Object.create(et.prototype);Ja.prototype.constructor=Ja;Ja.prototype.isMeshLambertMaterial=!0;Ja.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function $a(t){et.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=io,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}$a.prototype=Object.create(et.prototype);$a.prototype.constructor=$a;$a.prototype.isMeshMatcapMaterial=!0;$a.prototype.copy=function(t){return et.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function eo(t){Ft.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}eo.prototype=Object.create(Ft.prototype);eo.prototype.constructor=eo;eo.prototype.isLineDashedMaterial=!0;eo.prototype.copy=function(t){return Ft.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var gF=Object.freeze({__proto__:null,ShadowMaterial:Za,SpriteMaterial:ta,RawShaderMaterial:ss,ShaderMaterial:jn,PointsMaterial:$i,MeshPhysicalMaterial:ia,MeshStandardMaterial:_r,MeshPhongMaterial:ra,MeshToonMaterial:Ka,MeshNormalMaterial:Qa,MeshLambertMaterial:Ja,MeshDepthMaterial:Js,MeshDistanceMaterial:$s,MeshBasicMaterial:Ni,MeshMatcapMaterial:$a,LineDashedMaterial:eo,LineBasicMaterial:Ft,Material:et});const Bt={arraySlice:function(t,e,n){return Bt.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(s,o){return t[s]-t[o]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,s=new t.constructor(i);for(let o=0,c=0;c!==i;++o){const u=n[o]*e;for(let f=0;f!==e;++f)s[c++]=t[u+f]}return s},flattenJSON:function(t,e,n,i){let s=1,o=t[0];for(;o!==void 0&&o[i]===void 0;)o=t[s++];if(o===void 0)return;let c=o[i];if(c!==void 0)if(Array.isArray(c))do c=o[i],c!==void 0&&(e.push(o.time),n.push.apply(n,c)),o=t[s++];while(o!==void 0);else if(c.toArray!==void 0)do c=o[i],c!==void 0&&(e.push(o.time),c.toArray(n,n.length)),o=t[s++];while(o!==void 0);else do c=o[i],c!==void 0&&(e.push(o.time),n.push(c)),o=t[s++];while(o!==void 0)},subclip:function(t,e,n,i,s){s=s||30;const o=t.clone();o.name=e;const c=[];for(let f=0;f<o.tracks.length;++f){const h=o.tracks[f],p=h.getValueSize(),m=[],g=[];for(let v=0;v<h.times.length;++v){const x=h.times[v]*s;if(!(x<n||x>=i)){m.push(h.times[v]);for(let S=0;S<p;++S)g.push(h.values[v*p+S])}}m.length!==0&&(h.times=Bt.convertArray(m,h.times.constructor),h.values=Bt.convertArray(g,h.values.constructor),c.push(h))}o.tracks=c;let u=1/0;for(let f=0;f<o.tracks.length;++f)u>o.tracks[f].times[0]&&(u=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*u);return o.resetDuration(),o},makeClipAdditive:function(t,e,n,i){e===void 0&&(e=0),n===void 0&&(n=t),(i===void 0||i<=0)&&(i=30);const s=n.tracks.length,o=e/i;for(let c=0;c<s;++c){const u=n.tracks[c],f=u.ValueTypeName;if(f==="bool"||f==="string")continue;const h=t.tracks.find(function(w){return w.name===u.name&&w.ValueTypeName===f});if(h===void 0)continue;let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);let g=0;const v=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const x=u.times.length-1;let S;if(o<=u.times[0]){const w=p,b=m-p;S=Bt.arraySlice(u.values,w,b)}else if(o>=u.times[x]){const w=x*m+p,b=w+m-p;S=Bt.arraySlice(u.values,w,b)}else{const w=u.createInterpolant(),b=p,R=m-p;w.evaluate(o),S=Bt.arraySlice(w.resultBuffer,b,R)}f==="quaternion"&&new Nn().fromArray(S).normalize().conjugate().toArray(S);const E=h.times.length;for(let w=0;w<E;++w){const b=w*v+g;if(f==="quaternion")Nn.multiplyQuaternionsFlat(h.values,b,S,0,h.values,b);else{const R=v-g*2;for(let D=0;D<R;++D)h.values[b+D]-=S[D]}}}return t.blendMode=hx,t}};function pi(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}Object.assign(pi.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],s=e[n-1];e:{t:{let o;n:{i:if(!(t<i)){for(let c=n+2;;){if(i===void 0){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,s)}if(n===c)break;if(s=i,i=e[++n],t<i)break t}o=e.length;break n}if(!(t>=s)){const c=e[1];t<c&&(n=2,s=c);for(let u=n-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===u)break;if(i=s,s=e[--n-1],t>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const c=n+o>>>1;t<e[c]?o=c:n=c+1}if(i=e[n],s=e[n-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(i===void 0)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,s,t)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=t*i;for(let o=0;o!==i;++o)e[o]=n[s+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(pi.prototype,{beforeStart_:pi.prototype.copySampleValue_,afterEnd_:pi.prototype.copySampleValue_});function ip(t,e,n,i){pi.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}ip.prototype=Object.assign(Object.create(pi.prototype),{constructor:ip,DefaultSettings_:{endingStart:Ua,endingEnd:Ua},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let s=t-2,o=t+1,c=i[s],u=i[o];if(c===void 0)switch(this.getSettings_().endingStart){case Ha:s=t,c=2*e-n;break;case Hu:s=i.length-2,c=e+i[s]-i[s+1];break;default:s=t,c=n}if(u===void 0)switch(this.getSettings_().endingEnd){case Ha:o=t,u=2*n-e;break;case Hu:o=1,u=n+i[1]-i[0];break;default:o=t-1,u=e}const f=(n-e)*.5,h=this.valueSize;this._weightPrev=f/(e-c),this._weightNext=f/(u-n),this._offsetPrev=s*h,this._offsetNext=o*h},interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=t*c,f=u-c,h=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,g=this._weightNext,v=(n-e)/(i-e),x=v*v,S=x*v,E=-m*S+2*m*x-m*v,w=(1+m)*S+(-1.5-2*m)*x+(-.5+m)*v+1,b=(-1-g)*S+(1.5+g)*x+.5*v,R=g*S-g*x;for(let D=0;D!==c;++D)s[D]=E*o[h+D]+w*o[f+D]+b*o[u+D]+R*o[p+D];return s}});function ef(t,e,n,i){pi.call(this,t,e,n,i)}ef.prototype=Object.assign(Object.create(pi.prototype),{constructor:ef,interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=t*c,f=u-c,h=(n-e)/(i-e),p=1-h;for(let m=0;m!==c;++m)s[m]=o[f+m]*p+o[u+m]*h;return s}});function rp(t,e,n,i){pi.call(this,t,e,n,i)}rp.prototype=Object.assign(Object.create(pi.prototype),{constructor:rp,interpolate_:function(t){return this.copySampleValue_(t-1)}});function Cn(t,e,n,i){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Bt.convertArray(e,this.TimeBufferType),this.values=Bt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(Cn,{toJSON:function(t){const e=t.constructor;let n;if(e.toJSON!==void 0)n=e.toJSON(t);else{n={name:t.name,times:Bt.convertArray(t.times,Array),values:Bt.convertArray(t.values,Array)};const i=t.getInterpolation();i!==t.DefaultInterpolation&&(n.interpolation=i)}return n.type=t.ValueTypeName,n}});Object.assign(Cn.prototype,{constructor:Cn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:xu,InterpolantFactoryMethodDiscrete:function(t){return new rp(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ef(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ip(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Uu:e=this.InterpolantFactoryMethodDiscrete;break;case xu:e=this.InterpolantFactoryMethodLinear;break;case Hd:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Uu;case this.InterpolantFactoryMethodLinear:return xu;case this.InterpolantFactoryMethodSmooth:return Hd}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(t!==1){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<t;)++s;for(;o!==-1&&n[o]>e;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const c=this.getValueSize();this.times=Bt.arraySlice(n,s,o),this.values=Bt.arraySlice(this.values,s*c,o*c)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let c=0;c!==s;c++){const u=n[c];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,u),t=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,u,o),t=!1;break}o=u}if(i!==void 0&&Bt.isTypedArray(i))for(let c=0,u=i.length;c!==u;++c){const f=i[c];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,f),t=!1;break}}return t},optimize:function(){const t=Bt.arraySlice(this.times),e=Bt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Hd,s=t.length-1;let o=1;for(let c=1;c<s;++c){let u=!1;const f=t[c],h=t[c+1];if(f!==h&&(c!==1||f!==f[0]))if(i)u=!0;else{const p=c*n,m=p-n,g=p+n;for(let v=0;v!==n;++v){const x=e[p+v];if(x!==e[m+v]||x!==e[g+v]){u=!0;break}}}if(u){if(c!==o){t[o]=t[c];const p=c*n,m=o*n;for(let g=0;g!==n;++g)e[m+g]=e[p+g]}++o}}if(s>0){t[o]=t[s];for(let c=s*n,u=o*n,f=0;f!==n;++f)e[u+f]=e[c+f];++o}return o!==t.length?(this.times=Bt.arraySlice(t,0,o),this.values=Bt.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=Bt.arraySlice(this.times,0),e=Bt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}});function sp(t,e,n){Cn.call(this,t,e,n)}sp.prototype=Object.assign(Object.create(Cn.prototype),{constructor:sp,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Uu,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function ap(t,e,n,i){Cn.call(this,t,e,n,i)}ap.prototype=Object.assign(Object.create(Cn.prototype),{constructor:ap,ValueTypeName:"color"});function Pl(t,e,n,i){Cn.call(this,t,e,n,i)}Pl.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Pl,ValueTypeName:"number"});function op(t,e,n,i){pi.call(this,t,e,n,i)}op.prototype=Object.assign(Object.create(pi.prototype),{constructor:op,interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=(n-e)/(i-e);let f=t*c;for(let h=f+c;f!==h;f+=4)Nn.slerpFlat(s,0,o,f-c,o,f,u);return s}});function tf(t,e,n,i){Cn.call(this,t,e,n,i)}tf.prototype=Object.assign(Object.create(Cn.prototype),{constructor:tf,ValueTypeName:"quaternion",DefaultInterpolation:xu,InterpolantFactoryMethodLinear:function(t){return new op(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0});function lp(t,e,n,i){Cn.call(this,t,e,n,i)}lp.prototype=Object.assign(Object.create(Cn.prototype),{constructor:lp,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Uu,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Nl(t,e,n,i){Cn.call(this,t,e,n,i)}Nl.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Nl,ValueTypeName:"vector"});function Li(t,e,n,i){this.name=t,this.tracks=n,this.duration=e!==void 0?e:-1,this.blendMode=i!==void 0?i:Bp,this.uuid=st.generateUUID(),this.duration<0&&this.resetDuration()}function yF(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pl;case"vector":case"vector2":case"vector3":case"vector4":return Nl;case"color":return ap;case"quaternion":return tf;case"bool":case"boolean":return sp;case"string":return lp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function vF(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yF(t.type);if(t.times===void 0){const n=[],i=[];Bt.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Li,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let s=0,o=n.length;s!==o;++s)e.push(vF(n[s]).scale(i));return new Li(t.name,t.duration,e,t.blendMode)},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=n.length;s!==o;++s)e.push(Cn.toJSON(n[s]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const s=e.length,o=[];for(let c=0;c<s;c++){let u=[],f=[];u.push((c+s-1)%s,c,(c+1)%s),f.push(0,1,0);const h=Bt.getKeyframeOrder(u);u=Bt.sortedArray(u,1,h),f=Bt.sortedArray(f,1,h),!i&&u[0]===0&&(u.push(s),f.push(f[0])),o.push(new Pl(".morphTargetInfluences["+e[c].name+"]",u,f).scale(1/n))}return new Li(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const i=t;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let c=0,u=t.length;c<u;c++){const f=t[c],h=f.name.match(s);if(h&&h.length>1){const p=h[1];let m=i[p];m||(i[p]=m=[]),m.push(f)}}const o=[];for(const c in i)o.push(Li.CreateFromMorphTargetSequence(c,i[c],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(p,m,g,v,x){if(g.length!==0){const S=[],E=[];Bt.flattenJSON(g,S,E,v),S.length!==0&&x.push(new p(m,S,E))}},i=[],s=t.name||"default",o=t.fps||30,c=t.blendMode;let u=t.length||-1;const f=t.hierarchy||[];for(let p=0;p<f.length;p++){const m=f[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const g={};let v;for(v=0;v<m.length;v++)if(m[v].morphTargets)for(let x=0;x<m[v].morphTargets.length;x++)g[m[v].morphTargets[x]]=-1;for(const x in g){const S=[],E=[];for(let w=0;w!==m[v].morphTargets.length;++w){const b=m[v];S.push(b.time),E.push(b.morphTarget===x?1:0)}i.push(new Pl(".morphTargetInfluence["+x+"]",S,E))}u=g.length*o}else{const g=".bones["+e[p].name+"]";n(Nl,g+".position",m,"pos",i),n(tf,g+".quaternion",m,"rot",i),n(Nl,g+".scale",m,"scl",i)}}return i.length===0?null:new Li(s,u,i,c)}});Object.assign(Li.prototype,{resetDuration:function(){const t=this.tracks;let e=0;for(let n=0,i=t.length;n!==i;++n){const s=this.tracks[n];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Li(this.name,this.duration,t,this.blendMode)}});const to={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Nx(t,e,n){const i=this;let s=!1,o=0,c=0,u;const f=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(h){c++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,c),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,c),o===c&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return f.push(h,p),this},this.removeHandler=function(h){const p=f.indexOf(h);return p!==-1&&f.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=f.length;p<m;p+=2){const g=f[p],v=f[p+1];if(g.global&&(g.lastIndex=0),g.test(h))return v}return null}}const YC=new Nx;function St(t){this.manager=t!==void 0?t:YC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(St.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise(function(i,s){n.load(t,i,e,s)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Xi={};function Ui(t){St.call(this,t)}Ui.prototype=Object.assign(Object.create(St.prototype),{constructor:Ui,load:function(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=to.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;if(Xi[t]!==void 0){Xi[t].push({onLoad:e,onProgress:n,onError:i});return}const c=/^data:(.*?)(;base64)?,(.*)$/,u=t.match(c);let f;if(u){const h=u[1],p=!!u[2];let m=u[3];m=decodeURIComponent(m),p&&(m=atob(m));try{let g;const v=(this.responseType||"").toLowerCase();switch(v){case"arraybuffer":case"blob":const x=new Uint8Array(m.length);for(let E=0;E<m.length;E++)x[E]=m.charCodeAt(E);v==="blob"?g=new Blob([x.buffer],{type:h}):g=x.buffer;break;case"document":g=new DOMParser().parseFromString(m,h);break;case"json":g=JSON.parse(m);break;default:g=m;break}setTimeout(function(){e&&e(g),s.manager.itemEnd(t)},0)}catch(g){setTimeout(function(){i&&i(g),s.manager.itemError(t),s.manager.itemEnd(t)},0)}}else{Xi[t]=[],Xi[t].push({onLoad:e,onProgress:n,onError:i}),f=new XMLHttpRequest,f.open("GET",t,!0),f.addEventListener("load",function(h){const p=this.response,m=Xi[t];if(delete Xi[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),to.add(t,p);for(let g=0,v=m.length;g<v;g++){const x=m[g];x.onLoad&&x.onLoad(p)}s.manager.itemEnd(t)}else{for(let g=0,v=m.length;g<v;g++){const x=m[g];x.onError&&x.onError(h)}s.manager.itemError(t),s.manager.itemEnd(t)}},!1),f.addEventListener("progress",function(h){const p=Xi[t];for(let m=0,g=p.length;m<g;m++){const v=p[m];v.onProgress&&v.onProgress(h)}},!1),f.addEventListener("error",function(h){const p=Xi[t];delete Xi[t];for(let m=0,g=p.length;m<g;m++){const v=p[m];v.onError&&v.onError(h)}s.manager.itemError(t),s.manager.itemEnd(t)},!1),f.addEventListener("abort",function(h){const p=Xi[t];delete Xi[t];for(let m=0,g=p.length;m<g;m++){const v=p[m];v.onError&&v.onError(h)}s.manager.itemError(t),s.manager.itemEnd(t)},!1),this.responseType!==void 0&&(f.responseType=this.responseType),this.withCredentials!==void 0&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const h in this.requestHeader)f.setRequestHeader(h,this.requestHeader[h]);f.send(null)}return s.manager.itemStart(t),f},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}});function o0(t){St.call(this,t)}o0.prototype=Object.assign(Object.create(St.prototype),{constructor:o0,load:function(t,e,n,i){const s=this,o=new Ui(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(c){try{e(s.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=Li.parse(t[n]);e.push(i)}return e}});function l0(t){St.call(this,t)}l0.prototype=Object.assign(Object.create(St.prototype),{constructor:l0,load:function(t,e,n,i){const s=this,o=[],c=new Ol;c.image=o;const u=new Ui(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let f=0;function h(p){u.load(t[p],function(m){const g=s.parse(m,!0);o[p]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},f+=1,f===6&&(g.mipmapCount===1&&(c.minFilter=bn),c.format=g.format,c.needsUpdate=!0,e&&e(c))},n,i)}if(Array.isArray(t))for(let p=0,m=t.length;p<m;++p)h(p);else u.load(t,function(p){const m=s.parse(p,!0);if(m.isCubemap){const g=m.mipmaps.length/m.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let x=0;x<m.mipmapCount;x++)o[v].mipmaps.push(m.mipmaps[v*m.mipmapCount+x]),o[v].format=m.format,o[v].width=m.width,o[v].height=m.height}}else c.image.width=m.width,c.image.height=m.height,c.mipmaps=m.mipmaps;m.mipmapCount===1&&(c.minFilter=bn),c.format=m.format,c.needsUpdate=!0,e&&e(c)},n,i);return c}});function Bl(t){St.call(this,t)}Bl.prototype=Object.assign(Object.create(St.prototype),{constructor:Bl,load:function(t,e,n,i){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=to.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const c=document.createElementNS("http://www.w3.org/1999/xhtml","img");function u(){c.removeEventListener("load",u,!1),c.removeEventListener("error",f,!1),to.add(t,this),e&&e(this),s.manager.itemEnd(t)}function f(h){c.removeEventListener("load",u,!1),c.removeEventListener("error",f,!1),i&&i(h),s.manager.itemError(t),s.manager.itemEnd(t)}return c.addEventListener("load",u,!1),c.addEventListener("error",f,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),s.manager.itemStart(t),c.src=t,c}});function cp(t){St.call(this,t)}cp.prototype=Object.assign(Object.create(St.prototype),{constructor:cp,load:function(t,e,n,i){const s=new br,o=new Bl(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function u(f){o.load(t[f],function(h){s.images[f]=h,c++,c===6&&(s.needsUpdate=!0,e&&e(s))},void 0,i)}for(let f=0;f<t.length;++f)u(f);return s}});function up(t){St.call(this,t)}up.prototype=Object.assign(Object.create(St.prototype),{constructor:up,load:function(t,e,n,i){const s=this,o=new Ya,c=new Ui(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(s.withCredentials),c.load(t,function(u){const f=s.parse(u);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:In,o.wrapT=f.wrapT!==void 0?f.wrapT:In,o.magFilter=f.magFilter!==void 0?f.magFilter:bn,o.minFilter=f.minFilter!==void 0?f.minFilter:bn,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Xl),f.mipmapCount===1&&(o.minFilter=bn),o.needsUpdate=!0,e&&e(o,f))},n,i),o}});function fp(t){St.call(this,t)}fp.prototype=Object.assign(Object.create(St.prototype),{constructor:fp,load:function(t,e,n,i){const s=new Rt,o=new Bl(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(c){s.image=c;const u=t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0;s.format=u?Ws:hi,s.needsUpdate=!0,e!==void 0&&e(s)},n,i),s}});function Xe(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Xe.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){t===void 0&&(t=5);const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){t===void 0&&(t=5);const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),s+=n.distanceTo(i),e.push(s),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const s=n.length;let o;e?o=e:o=t*n[s-1];let c=0,u=s-1,f;for(;c<=u;)if(i=Math.floor(c+(u-c)/2),f=n[i]-o,f<0)c=i+1;else if(f>0)u=i-1;else{u=i;break}if(i=u,n[i]===o)return i/(s-1);const h=n[i],m=n[i+1]-h,g=(o-h)/m;return(i+g)/(s-1)},getTangent:function(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),c=this.getPoint(s),u=e||(o.isVector2?new Ce:new X);return u.copy(c).sub(o).normalize(),u},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new X,i=[],s=[],o=[],c=new X,u=new lt;for(let g=0;g<=t;g++){const v=g/t;i[g]=this.getTangentAt(v,new X),i[g].normalize()}s[0]=new X,o[0]=new X;let f=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=f&&(f=h,n.set(1,0,0)),p<=f&&(f=p,n.set(0,1,0)),m<=f&&n.set(0,0,1),c.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],c),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=t;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),c.crossVectors(i[g-1],i[g]),c.length()>Number.EPSILON){c.normalize();const v=Math.acos(st.clamp(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(u.makeRotationAxis(c,v))}o[g].crossVectors(i[g],s[g])}if(e===!0){let g=Math.acos(st.clamp(s[0].dot(s[t]),-1,1));g/=t,i[0].dot(c.crossVectors(s[0],s[t]))>0&&(g=-g);for(let v=1;v<=t;v++)s[v].applyMatrix4(u.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}});function gi(t,e,n,i,s,o,c,u){Xe.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=s||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=c||!1,this.aRotation=u||0}gi.prototype=Object.create(Xe.prototype);gi.prototype.constructor=gi;gi.prototype.isEllipseCurve=!0;gi.prototype.getPoint=function(t,e){const n=e||new Ce,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const c=this.aStartAngle+t*s;let u=this.aX+this.xRadius*Math.cos(c),f=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=u-this.aX,g=f-this.aY;u=m*h-g*p+this.aX,f=m*p+g*h+this.aY}return n.set(u,f)};gi.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};gi.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t};gi.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};function zl(t,e,n,i,s,o){gi.call(this,t,e,n,n,i,s,o),this.type="ArcCurve"}zl.prototype=Object.create(gi.prototype);zl.prototype.constructor=zl;zl.prototype.isArcCurve=!0;function Bx(){let t=0,e=0,n=0,i=0;function s(o,c,u,f){t=o,e=u,n=-3*o+3*c-2*u-f,i=2*o-2*c+u+f}return{initCatmullRom:function(o,c,u,f,h){s(c,u,h*(u-o),h*(f-c))},initNonuniformCatmullRom:function(o,c,u,f,h,p,m){let g=(c-o)/h-(u-o)/(h+p)+(u-c)/p,v=(u-c)/p-(f-c)/(p+m)+(f-u)/m;g*=p,v*=p,s(c,u,g,v)},calc:function(o){const c=o*o,u=c*o;return t+e*o+n*c+i*u}}}const bd=new X,Zy=new Bx,Ky=new Bx,Qy=new Bx;function zn(t,e,n,i){Xe.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i!==void 0?i:.5}zn.prototype=Object.create(Xe.prototype);zn.prototype.constructor=zn;zn.prototype.isCatmullRomCurve3=!0;zn.prototype.getPoint=function(t,e){const n=e||new X,i=this.points,s=i.length,o=(s-(this.closed?0:1))*t;let c=Math.floor(o),u=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/s)+1)*s:u===0&&c===s-1&&(c=s-2,u=1);let f,h;this.closed||c>0?f=i[(c-1)%s]:(bd.subVectors(i[0],i[1]).add(i[0]),f=bd);const p=i[c%s],m=i[(c+1)%s];if(this.closed||c+2<s?h=i[(c+2)%s]:(bd.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=bd),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(f.distanceToSquared(p),g),x=Math.pow(p.distanceToSquared(m),g),S=Math.pow(m.distanceToSquared(h),g);x<1e-4&&(x=1),v<1e-4&&(v=x),S<1e-4&&(S=x),Zy.initNonuniformCatmullRom(f.x,p.x,m.x,h.x,v,x,S),Ky.initNonuniformCatmullRom(f.y,p.y,m.y,h.y,v,x,S),Qy.initNonuniformCatmullRom(f.z,p.z,m.z,h.z,v,x,S)}else this.curveType==="catmullrom"&&(Zy.initCatmullRom(f.x,p.x,m.x,h.x,this.tension),Ky.initCatmullRom(f.y,p.y,m.y,h.y,this.tension),Qy.initCatmullRom(f.z,p.z,m.z,h.z,this.tension));return n.set(Zy.calc(u),Ky.calc(u),Qy.calc(u)),n};zn.prototype.copy=function(t){Xe.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};zn.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t};zn.prototype.fromJSON=function(t){Xe.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new X().fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};function jM(t,e,n,i,s){const o=(i-e)*.5,c=(s-n)*.5,u=t*t,f=t*u;return(2*n-2*i+o+c)*f+(-3*n+3*i-2*o-c)*u+o*t+n}function xF(t,e){const n=1-t;return n*n*e}function bF(t,e){return 2*(1-t)*t*e}function _F(t,e){return t*t*e}function wu(t,e,n,i){return xF(t,e)+bF(t,n)+_F(t,i)}function wF(t,e){const n=1-t;return n*n*n*e}function SF(t,e){const n=1-t;return 3*n*n*t*e}function MF(t,e){return 3*(1-t)*t*t*e}function EF(t,e){return t*t*t*e}function Su(t,e,n,i,s){return wF(t,e)+SF(t,n)+MF(t,i)+EF(t,s)}function er(t,e,n,i){Xe.call(this),this.type="CubicBezierCurve",this.v0=t||new Ce,this.v1=e||new Ce,this.v2=n||new Ce,this.v3=i||new Ce}er.prototype=Object.create(Xe.prototype);er.prototype.constructor=er;er.prototype.isCubicBezierCurve=!0;er.prototype.getPoint=function(t,e){const n=e||new Ce,i=this.v0,s=this.v1,o=this.v2,c=this.v3;return n.set(Su(t,i.x,s.x,o.x,c.x),Su(t,i.y,s.y,o.y,c.y)),n};er.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};er.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};er.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function wr(t,e,n,i){Xe.call(this),this.type="CubicBezierCurve3",this.v0=t||new X,this.v1=e||new X,this.v2=n||new X,this.v3=i||new X}wr.prototype=Object.create(Xe.prototype);wr.prototype.constructor=wr;wr.prototype.isCubicBezierCurve3=!0;wr.prototype.getPoint=function(t,e){const n=e||new X,i=this.v0,s=this.v1,o=this.v2,c=this.v3;return n.set(Su(t,i.x,s.x,o.x,c.x),Su(t,i.y,s.y,o.y,c.y),Su(t,i.z,s.z,o.z,c.z)),n};wr.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};wr.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};wr.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function $n(t,e){Xe.call(this),this.type="LineCurve",this.v1=t||new Ce,this.v2=e||new Ce}$n.prototype=Object.create(Xe.prototype);$n.prototype.constructor=$n;$n.prototype.isLineCurve=!0;$n.prototype.getPoint=function(t,e){const n=e||new Ce;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n};$n.prototype.getPointAt=function(t,e){return this.getPoint(t,e)};$n.prototype.getTangent=function(t,e){const n=e||new Ce;return n.copy(this.v2).sub(this.v1).normalize(),n};$n.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};$n.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};$n.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function tr(t,e){Xe.call(this),this.type="LineCurve3",this.v1=t||new X,this.v2=e||new X}tr.prototype=Object.create(Xe.prototype);tr.prototype.constructor=tr;tr.prototype.isLineCurve3=!0;tr.prototype.getPoint=function(t,e){const n=e||new X;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n};tr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)};tr.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};tr.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};tr.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function nr(t,e,n){Xe.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Ce,this.v1=e||new Ce,this.v2=n||new Ce}nr.prototype=Object.create(Xe.prototype);nr.prototype.constructor=nr;nr.prototype.isQuadraticBezierCurve=!0;nr.prototype.getPoint=function(t,e){const n=e||new Ce,i=this.v0,s=this.v1,o=this.v2;return n.set(wu(t,i.x,s.x,o.x),wu(t,i.y,s.y,o.y)),n};nr.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};nr.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};nr.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function Sr(t,e,n){Xe.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new X,this.v1=e||new X,this.v2=n||new X}Sr.prototype=Object.create(Xe.prototype);Sr.prototype.constructor=Sr;Sr.prototype.isQuadraticBezierCurve3=!0;Sr.prototype.getPoint=function(t,e){const n=e||new X,i=this.v0,s=this.v1,o=this.v2;return n.set(wu(t,i.x,s.x,o.x),wu(t,i.y,s.y,o.y),wu(t,i.z,s.z,o.z)),n};Sr.prototype.copy=function(t){return Xe.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};Sr.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};Sr.prototype.fromJSON=function(t){return Xe.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function ir(t){Xe.call(this),this.type="SplineCurve",this.points=t||[]}ir.prototype=Object.create(Xe.prototype);ir.prototype.constructor=ir;ir.prototype.isSplineCurve=!0;ir.prototype.getPoint=function(t,e){const n=e||new Ce,i=this.points,s=(i.length-1)*t,o=Math.floor(s),c=s-o,u=i[o===0?o:o-1],f=i[o],h=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return n.set(jM(c,u.x,f.x,h.x,p.x),jM(c,u.y,f.y,h.y,p.y)),n};ir.prototype.copy=function(t){Xe.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this};ir.prototype.toJSON=function(){const t=Xe.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t};ir.prototype.fromJSON=function(t){Xe.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new Ce().fromArray(i))}return this};var c0=Object.freeze({__proto__:null,ArcCurve:zl,CatmullRomCurve3:zn,CubicBezierCurve:er,CubicBezierCurve3:wr,EllipseCurve:gi,LineCurve:$n,LineCurve3:tr,QuadraticBezierCurve:nr,QuadraticBezierCurve3:Sr,SplineCurve:ir});function Qr(){Xe.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Qr.prototype=Object.assign(Object.create(Xe.prototype),{constructor:Qr,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new $n(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const s=n[i]-e,o=this.curves[i],c=o.getLength(),u=c===0?0:1-s/c;return o.getPointAt(u)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t===void 0&&(t=40);const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;const e=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],c=o&&o.isEllipseCurve?t*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,u=o.getPoints(c);for(let f=0;f<u.length;f++){const h=u[f];n&&n.equals(h)||(e.push(h),n=h)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Xe.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Xe.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){Xe.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(new c0[i.type]().fromJSON(i))}return this}});function Ki(t){Qr.call(this),this.type="Path",this.currentPoint=new Ce,t&&this.setFromPoints(t)}Ki.prototype=Object.assign(Object.create(Qr.prototype),{constructor:Ki,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new $n(this.currentPoint.clone(),new Ce(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const s=new nr(this.currentPoint.clone(),new Ce(t,e),new Ce(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,s,o){const c=new er(this.currentPoint.clone(),new Ce(t,e),new Ce(n,i),new Ce(s,o));return this.curves.push(c),this.currentPoint.set(s,o),this},splineThru:function(t){const e=[this.currentPoint.clone()].concat(t),n=new ir(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,s,o){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(t+c,e+u,n,i,s,o),this},absarc:function(t,e,n,i,s,o){return this.absellipse(t,e,n,n,i,s,o),this},ellipse:function(t,e,n,i,s,o,c,u){const f=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(t+f,e+h,n,i,s,o,c,u),this},absellipse:function(t,e,n,i,s,o,c,u){const f=new gi(t,e,n,i,s,o,c,u);if(this.curves.length>0){const p=f.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(f);const h=f.getPoint(1);return this.currentPoint.copy(h),this},copy:function(t){return Qr.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=Qr.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Qr.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}});function Xs(t){Ki.call(this,t),this.uuid=st.generateUUID(),this.type="Shape",this.holes=[]}Xs.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Xs,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Ki.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){const t=Ki.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){Ki.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(new Ki().fromJSON(i))}return this}});function Pt(t,e){We.call(this),this.type="Light",this.color=new ke(t),this.intensity=e!==void 0?e:1}Pt.prototype=Object.assign(Object.create(We.prototype),{constructor:Pt,isLight:!0,copy:function(t){return We.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=We.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}});function hp(t,e,n){Pt.call(this,t,n),this.type="HemisphereLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.groundColor=new ke(e)}hp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:hp,isHemisphereLight:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}});function as(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bf,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new At(0,0,1,1)]}Object.assign(as.prototype,{_projScreenMatrix:new lt,_lightPositionWorld:new X,_lookTarget:new X,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,s=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),s.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(s),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}});function u0(){as.call(this,new ln(50,1,.5,500)),this.focus=1}u0.prototype=Object.assign(Object.create(as.prototype),{constructor:u0,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=st.RAD2DEG*2*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(n!==e.fov||i!==e.aspect||s!==e.far)&&(e.fov=n,e.aspect=i,e.far=s,e.updateProjectionMatrix()),as.prototype.updateMatrices.call(this,t)}});function dp(t,e,n,i,s,o){Pt.call(this,t,e),this.type="SpotLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.target=new We,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(c){this.intensity=c/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=s!==void 0?s:0,this.decay=o!==void 0?o:1,this.shadow=new u0}dp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:dp,isSpotLight:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function f0(){as.call(this,new ln(90,1,.5,500)),this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new At(2,1,1,1),new At(0,1,1,1),new At(3,1,1,1),new At(1,1,1,1),new At(3,0,1,1),new At(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}f0.prototype=Object.assign(Object.create(as.prototype),{constructor:f0,isPointLightShadow:!0,updateMatrices:function(t,e){e===void 0&&(e=0);const n=this.camera,i=this.matrix,s=this._lightPositionWorld,o=this._lookTarget,c=this._projScreenMatrix;s.setFromMatrixPosition(t.matrixWorld),n.position.copy(s),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-s.x,-s.y,-s.z),c.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(c)}});function pp(t,e,n,i){Pt.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(s){this.intensity=s/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new f0}pp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:pp,isPointLight:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}});function Ul(t,e,n,i,s,o){xr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t!==void 0?t:-1,this.right=e!==void 0?e:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=s!==void 0?s:.1,this.far=o!==void 0?o:2e3,this.updateProjectionMatrix()}Ul.prototype=Object.assign(Object.create(xr.prototype),{constructor:Ul,isOrthographicCamera:!0,copy:function(t,e){return xr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-t,o=n+t,c=i+e,u=i-e;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,c-=h*this.view.offsetY,u=c-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,c,u,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){const e=We.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}});function h0(){as.call(this,new Ul(-5,5,5,-5,.5,500))}h0.prototype=Object.assign(Object.create(as.prototype),{constructor:h0,isDirectionalLightShadow:!0,updateMatrices:function(t){as.prototype.updateMatrices.call(this,t)}});function mp(t,e){Pt.call(this,t,e),this.type="DirectionalLight",this.position.copy(We.DefaultUp),this.updateMatrix(),this.target=new We,this.shadow=new h0}mp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:mp,isDirectionalLight:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function gp(t,e){Pt.call(this,t,e),this.type="AmbientLight"}gp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:gp,isAmbientLight:!0});function yp(t,e,n,i){Pt.call(this,t,e),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}yp.prototype=Object.assign(Object.create(Pt.prototype),{constructor:yp,isRectAreaLight:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=Pt.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class ZC{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,o=e.z,c=this.coefficients;return n.copy(c[0]).multiplyScalar(.282095),n.addScaledVector(c[1],.488603*s),n.addScaledVector(c[2],.488603*o),n.addScaledVector(c[3],.488603*i),n.addScaledVector(c[4],1.092548*(i*s)),n.addScaledVector(c[5],1.092548*(s*o)),n.addScaledVector(c[6],.315392*(3*o*o-1)),n.addScaledVector(c[7],1.092548*(i*o)),n.addScaledVector(c[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,o=e.z,c=this.coefficients;return n.copy(c[0]).multiplyScalar(.886227),n.addScaledVector(c[1],2*.511664*s),n.addScaledVector(c[2],2*.511664*o),n.addScaledVector(c[3],2*.511664*i),n.addScaledVector(c[4],2*.429043*i*s),n.addScaledVector(c[5],2*.429043*s*o),n.addScaledVector(c[6],.743125*o*o-.247708),n.addScaledVector(c[7],2*.429043*i*o),n.addScaledVector(c[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n){n===void 0&&(n=0);const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e,n){e===void 0&&(e=[]),n===void 0&&(n=0);const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,o=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-s*s)}}function Pi(t,e){Pt.call(this,void 0,e),this.type="LightProbe",this.sh=t!==void 0?t:new ZC}Pi.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Pi,isLightProbe:!0,copy:function(t){return Pt.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=Pt.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}});function vp(t){St.call(this,t),this.textures={}}vp.prototype=Object.assign(Object.create(St.prototype),{constructor:vp,load:function(t,e,n,i){const s=this,o=new Ui(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(c){try{e(s.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e=this.textures;function n(s){return e[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),e[s]}const i=new gF[t.type];if(t.uuid!==void 0&&(i.uuid=t.uuid),t.name!==void 0&&(i.name=t.name),t.color!==void 0&&i.color.setHex(t.color),t.roughness!==void 0&&(i.roughness=t.roughness),t.metalness!==void 0&&(i.metalness=t.metalness),t.sheen!==void 0&&(i.sheen=new ke().setHex(t.sheen)),t.emissive!==void 0&&i.emissive.setHex(t.emissive),t.specular!==void 0&&i.specular.setHex(t.specular),t.shininess!==void 0&&(i.shininess=t.shininess),t.clearcoat!==void 0&&(i.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(i.fog=t.fog),t.flatShading!==void 0&&(i.flatShading=t.flatShading),t.blending!==void 0&&(i.blending=t.blending),t.combine!==void 0&&(i.combine=t.combine),t.side!==void 0&&(i.side=t.side),t.opacity!==void 0&&(i.opacity=t.opacity),t.transparent!==void 0&&(i.transparent=t.transparent),t.alphaTest!==void 0&&(i.alphaTest=t.alphaTest),t.depthTest!==void 0&&(i.depthTest=t.depthTest),t.depthWrite!==void 0&&(i.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(i.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(i.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(i.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(i.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(i.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(i.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(i.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(i.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(i.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(i.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(i.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(i.rotation=t.rotation),t.linewidth!==1&&(i.linewidth=t.linewidth),t.dashSize!==void 0&&(i.dashSize=t.dashSize),t.gapSize!==void 0&&(i.gapSize=t.gapSize),t.scale!==void 0&&(i.scale=t.scale),t.polygonOffset!==void 0&&(i.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(i.skinning=t.skinning),t.morphTargets!==void 0&&(i.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(i.morphNormals=t.morphNormals),t.dithering!==void 0&&(i.dithering=t.dithering),t.vertexTangents!==void 0&&(i.vertexTangents=t.vertexTangents),t.visible!==void 0&&(i.visible=t.visible),t.toneMapped!==void 0&&(i.toneMapped=t.toneMapped),t.userData!==void 0&&(i.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const s in t.uniforms){const o=t.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=n(o.value);break;case"c":i.uniforms[s].value=new ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ce().fromArray(o.value);break;case"v3":i.uniforms[s].value=new X().fromArray(o.value);break;case"v4":i.uniforms[s].value=new At().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new lt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(t.defines!==void 0&&(i.defines=t.defines),t.vertexShader!==void 0&&(i.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(i.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const s in t.extensions)i.extensions[s]=t.extensions[s];if(t.shading!==void 0&&(i.flatShading=t.shading===1),t.size!==void 0&&(i.size=t.size),t.sizeAttenuation!==void 0&&(i.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(i.map=n(t.map)),t.matcap!==void 0&&(i.matcap=n(t.matcap)),t.alphaMap!==void 0&&(i.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(i.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(i.bumpScale=t.bumpScale),t.normalMap!==void 0&&(i.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(i.normalMapType=t.normalMapType),t.normalScale!==void 0){let s=t.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ce().fromArray(s)}return t.displacementMap!==void 0&&(i.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(i.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(i.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(i.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(i.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(i.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(i.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(i.specularMap=n(t.specularMap)),t.envMap!==void 0&&(i.envMap=n(t.envMap)),t.envMapIntensity!==void 0&&(i.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(i.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(i.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(i.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(i.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(i.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(i.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(i.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(i.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ce().fromArray(t.clearcoatNormalScale)),t.transmission!==void 0&&(i.transmission=t.transmission),t.transmissionMap!==void 0&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});const zx={decodeText:function(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return e===-1?"./":t.substr(0,e+1)}};function nf(){Ze.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}nf.prototype=Object.assign(Object.create(Ze.prototype),{constructor:nf,isInstancedBufferGeometry:!0,copy:function(t){return Ze.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t=Ze.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}});function xp(t,e,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Je.call(this,t,e,n),this.meshPerAttribute=i||1}xp.prototype=Object.assign(Object.create(Je.prototype),{constructor:xp,isInstancedBufferAttribute:!0,copy:function(t){return Je.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Je.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}});function bp(t){St.call(this,t)}bp.prototype=Object.assign(Object.create(St.prototype),{constructor:bp,load:function(t,e,n,i){const s=this,o=new Ui(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(c){try{e(s.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e={},n={};function i(g,v){if(e[v]!==void 0)return e[v];const S=g.interleavedBuffers[v],E=s(g,S.buffer),w=new _d[S.type](E),b=new fi(w,S.stride);return b.uuid=S.uuid,e[v]=b,b}function s(g,v){if(n[v]!==void 0)return n[v];const S=g.arrayBuffers[v],E=new Uint32Array(S).buffer;return n[v]=E,E}const o=t.isInstancedBufferGeometry?new nf:new Ze,c=t.data.index;if(c!==void 0){const g=new _d[c.type](c.array);o.setIndex(new Je(g,1))}const u=t.data.attributes;for(const g in u){const v=u[g];let x;if(v.isInterleavedBufferAttribute){const S=i(t.data,v.data);x=new ea(S,v.itemSize,v.offset,v.normalized)}else{const S=new _d[v.type](v.array),E=v.isInstancedBufferAttribute?xp:Je;x=new E(S,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),o.setAttribute(g,x)}const f=t.data.morphAttributes;if(f)for(const g in f){const v=f[g],x=[];for(let S=0,E=v.length;S<E;S++){const w=v[S];let b;if(w.isInterleavedBufferAttribute){const R=i(t.data,w.data);b=new ea(R,w.itemSize,w.offset,w.normalized)}else{const R=new _d[w.type](w.array);b=new Je(R,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),x.push(b)}o.morphAttributes[g]=x}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=t.data.groups||t.data.drawcalls||t.data.offsets;if(p!==void 0)for(let g=0,v=p.length;g!==v;++g){const x=p[g];o.addGroup(x.start,x.count,x.materialIndex)}const m=t.data.boundingSphere;if(m!==void 0){const g=new X;m.center!==void 0&&g.fromArray(m.center),o.boundingSphere=new ls(g,m.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}});const _d={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};class TF extends St{constructor(e){super(e)}load(e,n,i,s){const o=this,c=this.path===""?zx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||c;const u=new Ui(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){let h=null;try{h=JSON.parse(f)}catch(m){s!==void 0&&s(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const p=h.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(h,n)},i,s)}parse(e,n){const i=this.parseShape(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(f)}),c=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,c),f=this.parseObject(e.object,s,u);return e.animations&&(f.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&n!==void 0&&n(f),f}parseShape(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const o=new Xs().fromJSON(e[i]);n[o.uuid]=o}return n}parseGeometries(e,n){const i={};let s;if(e!==void 0){const o=new bp;for(let c=0,u=e.length;c<u;c++){let f;const h=e[c];switch(h.type){case"PlaneGeometry":case"PlaneBufferGeometry":f=new Hn[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":f=new Hn[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":f=new Hn[h.type](h.radius,h.segments,h.thetaStart,h.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":f=new Hn[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":f=new Hn[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":f=new Hn[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":f=new Hn[h.type](h.radius,h.detail);break;case"RingGeometry":case"RingBufferGeometry":f=new Hn[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":f=new Hn[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":f=new Hn[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case"TubeGeometry":case"TubeBufferGeometry":f=new Hn[h.type](new c0[h.path.type]().fromJSON(h.path),h.tubularSegments,h.radius,h.radialSegments,h.closed);break;case"LatheGeometry":case"LatheBufferGeometry":f=new Hn[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":f=new Hn[h.type](h.vertices,h.indices,h.radius,h.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":s=[];for(let m=0,g=h.shapes.length;m<g;m++){const v=n[h.shapes[m]];s.push(v)}f=new Hn[h.type](s,h.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":s=[];for(let m=0,g=h.shapes.length;m<g;m++){const v=n[h.shapes[m]];s.push(v)}const p=h.options.extrudePath;p!==void 0&&(h.options.extrudePath=new c0[p.type]().fromJSON(p)),f=new Hn[h.type](s,h.options);break;case"BufferGeometry":case"InstancedBufferGeometry":f=o.parse(h);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+h.type+'"');continue}f.uuid=h.uuid,h.name!==void 0&&(f.name=h.name),f.isBufferGeometry===!0&&h.userData!==void 0&&(f.userData=h.userData),i[h.uuid]=f}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const o=new vp;o.setTextures(n);for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.type==="MultiMaterial"){const h=[];for(let p=0;p<f.materials.length;p++){const m=f.materials[p];i[m.uuid]===void 0&&(i[m.uuid]=o.parse(m)),h.push(i[m.uuid])}s[f.uuid]=h}else i[f.uuid]===void 0&&(i[f.uuid]=o.parse(f)),s[f.uuid]=i[f.uuid]}}return s}parseAnimations(e){const n=[];for(let i=0;i<e.length;i++){const s=e[i],o=Li.parse(s);s.uuid!==void 0&&(o.uuid=s.uuid),n.push(o)}return n}parseImages(e,n){const i=this,s={};let o;function c(u){return i.manager.itemStart(u),o.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}if(e!==void 0&&e.length>0){const u=new Nx(n);o=new Bl(u),o.setCrossOrigin(this.crossOrigin);for(let f=0,h=e.length;f<h;f++){const p=e[f],m=p.url;if(Array.isArray(m)){s[p.uuid]=[];for(let g=0,v=m.length;g<v;g++){const x=m[g],S=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(x)?x:i.resourcePath+x;s[p.uuid].push(c(S))}}else{const g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p.url)?p.url:i.resourcePath+p.url;s[p.uuid]=c(g)}}}return s}parseTextures(e,n){function i(o,c){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),c[o])}const s={};if(e!==void 0)for(let o=0,c=e.length;o<c;o++){const u=e[o];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),n[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);let f;Array.isArray(n[u.image])?f=new br(n[u.image]):f=new Rt(n[u.image]),f.needsUpdate=!0,f.uuid=u.uuid,u.name!==void 0&&(f.name=u.name),u.mapping!==void 0&&(f.mapping=i(u.mapping,AF)),u.offset!==void 0&&f.offset.fromArray(u.offset),u.repeat!==void 0&&f.repeat.fromArray(u.repeat),u.center!==void 0&&f.center.fromArray(u.center),u.rotation!==void 0&&(f.rotation=u.rotation),u.wrap!==void 0&&(f.wrapS=i(u.wrap[0],WM),f.wrapT=i(u.wrap[1],WM)),u.format!==void 0&&(f.format=u.format),u.type!==void 0&&(f.type=u.type),u.encoding!==void 0&&(f.encoding=u.encoding),u.minFilter!==void 0&&(f.minFilter=i(u.minFilter,qM)),u.magFilter!==void 0&&(f.magFilter=i(u.magFilter,qM)),u.anisotropy!==void 0&&(f.anisotropy=u.anisotropy),u.flipY!==void 0&&(f.flipY=u.flipY),u.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(f.unpackAlignment=u.unpackAlignment),s[u.uuid]=f}return s}parseObject(e,n,i){let s;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function c(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let m=0,g=h.length;m<g;m++){const v=h[m];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),p.push(i[v])}return p}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}let u,f;switch(e.type){case"Scene":s=new yx,e.background!==void 0&&Number.isInteger(e.background)&&(s.background=new ke(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Ip(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Vp(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new ln(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ul(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new gp(e.color,e.intensity);break;case"DirectionalLight":s=new mp(e.color,e.intensity);break;case"PointLight":s=new pp(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new yp(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new dp(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new hp(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Pi().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":u=o(e.geometry),f=c(e.material),s=new Ut(u,f);break;case"InstancedMesh":u=o(e.geometry),f=c(e.material);const h=e.count,p=e.instanceMatrix;s=new tp(u,f,h),s.instanceMatrix=new Je(new Float32Array(p.array),16);break;case"LOD":s=new Xu;break;case"Line":s=new zi(o(e.geometry),c(e.material),e.mode);break;case"LineLoop":s=new np(o(e.geometry),c(e.material));break;case"LineSegments":s=new Wn(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new Ll(o(e.geometry),c(e.material));break;case"Sprite":s=new qu(c(e.material));break;case"Group":s=new js;break;default:s=new We}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)s.add(this.parseObject(h[p],n,i))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const m=h[p],g=s.getObjectByProperty("uuid",m.object);g!==void 0&&s.addLevel(g,m.distance)}}return s}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const AF={UVMapping:Np,CubeReflectionMapping:pf,CubeRefractionMapping:mf,EquirectangularReflectionMapping:Yd,EquirectangularRefractionMapping:Zd,CubeUVReflectionMapping:ql,CubeUVRefractionMapping:gf},WM={RepeatWrapping:Pu,ClampToEdgeWrapping:In,MirroredRepeatWrapping:Nu},qM={NearestFilter:dn,NearestMipmapNearestFilter:Kd,NearestMipmapLinearFilter:Qd,LinearFilter:bn,LinearMipmapNearestFilter:fx,LinearMipmapLinearFilter:Xl};function d0(t){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),St.call(this,t),this.options={premultiplyAlpha:"none"}}d0.prototype=Object.assign(Object.create(St.prototype),{constructor:d0,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=to.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(t,c).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,s.options)}).then(function(u){to.add(t,u),e&&e(u),s.manager.itemEnd(t)}).catch(function(u){i&&i(u),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}});function Ux(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}Object.assign(Ux.prototype,{moveTo:function(t,e){return this.currentPath=new Ki,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,s,o){return this.currentPath.bezierCurveTo(t,e,n,i,s,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(w){const b=[];for(let R=0,D=w.length;R<D;R++){const C=w[R],A=new Xs;A.curves=C.curves,b.push(A)}return b}function i(w,b){const R=b.length;let D=!1;for(let C=R-1,A=0;A<R;C=A++){let O=b[C],z=b[A],N=z.x-O.x,P=z.y-O.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(O=b[A],N=-N,z=b[C],P=-P),w.y<O.y||w.y>z.y)continue;if(w.y===O.y){if(w.x===O.x)return!0}else{const G=P*(w.x-O.x)-N*(w.y-O.y);if(G===0)return!0;if(G<0)continue;D=!D}}else{if(w.y!==O.y)continue;if(z.x<=w.x&&w.x<=O.x||O.x<=w.x&&w.x<=z.x)return!0}}return D}const s=es.isClockWise,o=this.subPaths;if(o.length===0)return[];if(e===!0)return n(o);let c,u,f;const h=[];if(o.length===1)return u=o[0],f=new Xs,f.curves=u.curves,h.push(f),h;let p=!s(o[0].getPoints());p=t?!p:p;const m=[],g=[];let v=[],x=0,S;g[x]=void 0,v[x]=[];for(let w=0,b=o.length;w<b;w++)u=o[w],S=u.getPoints(),c=s(S),c=t?!c:c,c?(!p&&g[x]&&x++,g[x]={s:new Xs,p:S},g[x].s.curves=u.curves,p&&x++,v[x]=[]):v[x].push({h:u,p:S[0]});if(!g[0])return n(o);if(g.length>1){let w=!1;const b=[];for(let R=0,D=g.length;R<D;R++)m[R]=[];for(let R=0,D=g.length;R<D;R++){const C=v[R];for(let A=0;A<C.length;A++){const O=C[A];let z=!0;for(let N=0;N<g.length;N++)i(O.p,g[N].p)&&(R!==N&&b.push({froms:R,tos:N,hole:A}),z?(z=!1,m[N].push(O)):w=!0);z&&m[R].push(O)}}b.length>0&&(w||(v=m))}let E;for(let w=0,b=g.length;w<b;w++){f=g[w].s,h.push(f),E=v[w];for(let R=0,D=E.length;R<D;R++)f.holes.push(E[R].h)}return h}});function Hx(t){this.type="Font",this.data=t}Object.assign(Hx.prototype,{isFont:!0,generateShapes:function(t,e){e===void 0&&(e=100);const n=[],i=CF(t,e,this.data);for(let s=0,o=i.length;s<o;s++)Array.prototype.push.apply(n,i[s].toShapes());return n}});function CF(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,c=[];let u=0,f=0;for(let h=0;h<i.length;h++){const p=i[h];if(p===`
`)u=0,f-=o;else{const m=RF(p,s,u,f,n);u+=m.offsetX,c.push(m.path)}}return c}function RF(t,e,n,i,s){const o=s.glyphs[t]||s.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+s.familyName+".");return}const c=new Ux;let u,f,h,p,m,g,v,x;if(o.o){const S=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let E=0,w=S.length;E<w;)switch(S[E++]){case"m":u=S[E++]*e+n,f=S[E++]*e+i,c.moveTo(u,f);break;case"l":u=S[E++]*e+n,f=S[E++]*e+i,c.lineTo(u,f);break;case"q":h=S[E++]*e+n,p=S[E++]*e+i,m=S[E++]*e+n,g=S[E++]*e+i,c.quadraticCurveTo(m,g,h,p);break;case"b":h=S[E++]*e+n,p=S[E++]*e+i,m=S[E++]*e+n,g=S[E++]*e+i,v=S[E++]*e+n,x=S[E++]*e+i,c.bezierCurveTo(m,g,v,x,h,p);break}}return{offsetX:o.ha*e,path:c}}function p0(t){St.call(this,t)}p0.prototype=Object.assign(Object.create(St.prototype),{constructor:p0,load:function(t,e,n,i){const s=this,o=new Ui(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(c){let u;try{u=JSON.parse(c)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),u=JSON.parse(c.substring(65,c.length-2))}const f=s.parse(u);e&&e(f)},n,i)},parse:function(t){return new Hx(t)}});let wd;const Vx={getContext:function(){return wd===void 0&&(wd=new(window.AudioContext||window.webkitAudioContext)),wd},setContext:function(t){wd=t}};function _p(t){St.call(this,t)}_p.prototype=Object.assign(Object.create(St.prototype),{constructor:_p,load:function(t,e,n,i){const s=this,o=new Ui(s.manager);o.setResponseType("arraybuffer"),o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(c){try{const u=c.slice(0);Vx.getContext().decodeAudioData(u,function(h){e(h)})}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)}});function m0(t,e,n){Pi.call(this,void 0,n);const i=new ke().set(t),s=new ke().set(e),o=new X(i.r,i.g,i.b),c=new X(s.r,s.g,s.b),u=Math.sqrt(Math.PI),f=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(c).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(c).multiplyScalar(f)}m0.prototype=Object.assign(Object.create(Pi.prototype),{constructor:m0,isHemisphereLightProbe:!0,copy:function(t){return Pi.prototype.copy.call(this,t),this},toJSON:function(t){return Pi.prototype.toJSON.call(this,t)}});function g0(t,e){Pi.call(this,void 0,e);const n=new ke().set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}g0.prototype=Object.assign(Object.create(Pi.prototype),{constructor:g0,isAmbientLightProbe:!0,copy:function(t){return Pi.prototype.copy.call(this,t),this},toJSON:function(t){return Pi.prototype.toJSON.call(this,t)}});const XM=new lt,YM=new lt;function KC(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ln,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ln,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(KC.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const i=t.projectionMatrix.clone(),s=e.eyeSep/2,o=s*e.near/e.focus,c=e.near*Math.tan(st.DEG2RAD*e.fov*.5)/e.zoom;let u,f;YM.elements[12]=-s,XM.elements[12]=s,u=-c*e.aspect+o,f=c*e.aspect+o,i.elements[0]=2*e.near/(f-u),i.elements[8]=(f+u)/(f-u),this.cameraL.projectionMatrix.copy(i),u=-c*e.aspect-o,f=c*e.aspect-o,i.elements[0]=2*e.near/(f-u),i.elements[8]=(f+u)/(f-u),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(YM),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(XM)}});class QC{constructor(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=(typeof performance>"u"?Date:performance).now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Aa=new X,ZM=new Nn,LF=new X,Ca=new X;class OF extends We{constructor(){super(),this.type="AudioListener",this.context=Vx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Aa,ZM,LF),Ca.set(0,0,-1).applyQuaternion(ZM),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Aa.x,s),n.positionY.linearRampToValueAtTime(Aa.y,s),n.positionZ.linearRampToValueAtTime(Aa.z,s),n.forwardX.linearRampToValueAtTime(Ca.x,s),n.forwardY.linearRampToValueAtTime(Ca.y,s),n.forwardZ.linearRampToValueAtTime(Ca.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(Aa.x,Aa.y,Aa.z),n.setOrientation(Ca.x,Ca.y,Ca.z,i.x,i.y,i.z)}}class Ix extends We{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ra=new X,KM=new Nn,DF=new X,La=new X;class PF extends Ix{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ra,KM,DF),La.set(0,0,1).applyQuaternion(KM);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ra.x,i),n.positionY.linearRampToValueAtTime(Ra.y,i),n.positionZ.linearRampToValueAtTime(Ra.z,i),n.orientationX.linearRampToValueAtTime(La.x,i),n.orientationY.linearRampToValueAtTime(La.y,i),n.orientationZ.linearRampToValueAtTime(La.z,i)}else n.setPosition(Ra.x,Ra.y,Ra.z),n.setOrientation(La.x,La.y,La.z)}}class JC{constructor(e,n){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n!==void 0?n:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}function Fx(t,e,n){this.binding=t,this.valueSize=n;let i,s,o;switch(e){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Fx.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,s=t*i+i;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==i;++c)n[s+c]=n[c];o=e}else{o+=e;const c=e/o;this._mixBufferRegion(n,s,0,c,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=e*this._origIndex;this._mixBufferRegion(n,i,u,1-s,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let u=e,f=e+e;u!==f;++u)if(n[u]!==n[u+e]){c.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let s=n,o=i;s!==o;++s)e[s]=e[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){Nn.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,s){const o=this._workIndex*s;Nn.multiplyQuaternionsFlat(t,o,t,e,t,n),Nn.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,s){const o=1-i;for(let c=0;c!==s;++c){const u=e+c;t[u]=t[u]*o+t[n+c]*i}},_lerpAdditive:function(t,e,n,i,s){for(let o=0;o!==s;++o){const c=e+o;t[c]=t[c]+t[n+o]*i}}});const kx="\\[\\]\\.:\\/",NF=new RegExp("["+kx+"]","g"),Gx="[^"+kx+"]",BF="[^"+kx.replace("\\.","")+"]",zF=/((?:WC+[\/:])*)/.source.replace("WC",Gx),UF=/(WCOD+)?/.source.replace("WCOD",BF),HF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Gx),VF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Gx),IF=new RegExp("^"+zF+UF+HF+VF+"$"),FF=["material","materials","bones"];function $C(t,e,n){const i=n||Bn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}Object.assign($C.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}});function Bn(t,e,n){this.path=e,this.parsedPath=n||Bn.parseTrackName(e),this.node=Bn.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Bn,{Composite:$C,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Bn.Composite(t,e,n):new Bn(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(NF,"")},parseTrackName:function(t){const e=IF.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);FF.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(s){for(let o=0;o<s.length;o++){const c=s[o];if(c.name===e||c.uuid===e)return c;const u=n(c.children);if(u)return u}return null},i=n(t.children);if(i)return i}return null}});Object.assign(Bn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,n){e[n]=this.node[this.propertyName]},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)e[n++]=i[s]},function(e,n){e[n]=this.resolvedProperty[this.propertyIndex]},function(e,n){this.resolvedProperty.toArray(e,n)}],SetterByBindingTypeAndVersioning:[[function(e,n){this.targetObject[this.propertyName]=e[n]},function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0},function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++]},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){this.resolvedProperty[this.propertyIndex]=e[n]},function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0},function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){this.resolvedProperty.fromArray(e,n)},function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0},function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,n){this.bind(),this.getValue(e,n)},setValue:function(e,n){this.bind(),this.setValue(e,n)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let s=e.propertyIndex;if(t||(t=Bn.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let f=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===f){f=h;break}break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(f!==void 0){if(t[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[f]}}const o=t[i];if(o===void 0){const f=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(Bn.prototype,{_getValue_unbound:Bn.prototype.getValue,_setValue_unbound:Bn.prototype.setValue});function eR(){this.uuid=st.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}Object.assign(eR.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let c,u=t.length,f=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const m=arguments[h],g=m.uuid;let v=e[g];if(v===void 0){v=u++,e[g]=v,t.push(m);for(let x=0,S=o;x!==S;++x)s[x].push(new Bn(m,n[x],i[x]))}else if(v<f){c=t[v];const x=--f,S=t[x];e[S.uuid]=v,t[v]=S,e[g]=x,t[x]=m;for(let E=0,w=o;E!==w;++E){const b=s[E],R=b[x];let D=b[v];b[v]=R,D===void 0&&(D=new Bn(m,n[E],i[E])),b[x]=D}}else t[v]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],f=u.uuid,h=e[f];if(h!==void 0&&h>=s){const p=s++,m=t[p];e[m.uuid]=h,t[h]=m,e[f]=p,t[p]=u;for(let g=0,v=i;g!==v;++g){const x=n[g],S=x[p],E=x[h];x[h]=S,x[p]=E}}}this.nCachedObjects_=s},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,o=t.length;for(let c=0,u=arguments.length;c!==u;++c){const f=arguments[c],h=f.uuid,p=e[h];if(p!==void 0)if(delete e[h],p<s){const m=--s,g=t[m],v=--o,x=t[v];e[g.uuid]=p,t[p]=g,e[x.uuid]=m,t[m]=x,t.pop();for(let S=0,E=i;S!==E;++S){const w=n[S],b=w[m],R=w[v];w[p]=b,w[m]=R,w.pop()}}else{const m=--o,g=t[m];e[g.uuid]=p,t[p]=g,t.pop();for(let v=0,x=i;v!==x;++v){const S=n[v];S[p]=S[m],S.pop()}}}this.nCachedObjects_=s},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,c=this._parsedPaths,u=this._objects,f=u.length,h=this.nCachedObjects_,p=new Array(f);i=s.length,n[t]=i,o.push(t),c.push(e),s.push(p);for(let m=h,g=u.length;m!==g;++m){const v=u[m];p[m]=new Bn(v,t,e)}return p},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,c=o.length-1,u=o[c],f=t[c];e[f]=n,o[n]=u,o.pop(),s[n]=s[c],s.pop(),i[n]=i[c],i.pop()}}});class kF{constructor(e,n,i,s){this._mixer=e,this._clip=n,this._localRoot=i||null,this.blendMode=s||n.blendMode;const o=n.tracks,c=o.length,u=new Array(c),f={endingStart:Ua,endingEnd:Ua};for(let h=0;h!==c;++h){const p=o[h].createInterpolant(null);u[h]=p,p.settings=f}this._interpolantSettings=f,this._interpolants=u,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=sC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,o=e._clip.duration,c=o/s,u=s/o;e.warp(1,c,n),this.warp(u,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,o=s.time,c=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const f=u.parameterPositions,h=u.sampleValues;return f[0]=o,f[1]=o+i,h[0]=e/c,h[1]=n/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*i;if(f<0||i===0)return;this._startTime=null,n=i*f}n*=this._updateTimeScale(e);const c=this._updateTime(n),u=this._updateWeight(e);if(u>0){const f=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case hx:for(let p=0,m=f.length;p!==m;++p)f[p].evaluate(c),h[p].accumulateAdditive(u);break;case Bp:default:for(let p=0,m=f.length;p!==m;++p)f[p].evaluate(c),h[p].accumulate(s,u)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,o=this._loopCount;const c=i===aC;if(e===0)return o===-1?s:c&&(o&1)===1?n-s:s;if(i===rC){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),s>=n||s<0){const u=Math.floor(s/n);s-=n*u,o+=Math.abs(u);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const h=e<0;this._setEndings(h,!h,c)}else this._setEndings(!1,!1,c);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(c&&(o&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=Ha,s.endingEnd=Ha):(e?s.endingStart=this.zeroSlopeAtStart?Ha:Ua:s.endingStart=Hu,n?s.endingEnd=this.zeroSlopeAtEnd?Ha:Ua:s.endingEnd=Hu)}_scheduleFading(e,n,i){const s=this._mixer,o=s.time;let c=this._weightInterpolant;c===null&&(c=s._lendControlInterpolant(),this._weightInterpolant=c);const u=c.parameterPositions,f=c.sampleValues;return u[0]=o,f[0]=n,u[1]=o+e,f[1]=i,this}}function y0(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}y0.prototype=Object.assign(Object.create(Tr.prototype),{constructor:y0,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,s=i.length,o=t._propertyBindings,c=t._interpolants,u=n.uuid,f=this._bindingsByRootAndName;let h=f[u];h===void 0&&(h={},f[u]=h);for(let p=0;p!==s;++p){const m=i[p],g=m.name;let v=h[g];if(v!==void 0)o[p]=v;else{if(v=o[p],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,u,g));continue}const x=e&&e._propertyBindings[p].binding.parsedPath;v=new Fx(Bn.create(n,g,x),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,u,g),o[p]=v}c[p].resultBuffer=v.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,n)}const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const c=o.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,c=o[s],u=c.knownActions,f=u[u.length-1],h=t._byClipCacheIndex;f._byClipCacheIndex=h,u[h]=f,u.pop(),t._byClipCacheIndex=null;const p=c.actionByRoot,m=(t._localRoot||this._root).uuid;delete p[m],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[e];o===void 0&&(o={},i[e]=o),o[n]=t,t._cacheIndex=s.length,s.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,c=o[i],u=e[e.length-1],f=t._cacheIndex;u._cacheIndex=f,e[f]=u,e.pop(),delete c[s],Object.keys(c).length===0&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new ef(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,s=e[i];t.__cacheIndex=i,e[i]=t,s.__cacheIndex=n,e[n]=s},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,s=i.uuid;let o=typeof t=="string"?Li.findByName(i,t):t;const c=o!==null?o.uuid:t,u=this._actionsByClip[c];let f=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Bp),u!==void 0){const p=u.actionByRoot[s];if(p!==void 0&&p.blendMode===n)return p;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const h=new kF(this,o,e,n);return this._bindAction(h,f),this._addInactiveAction(h,c,s),h},existingAction:function(t,e){const n=e||this._root,i=n.uuid,s=typeof t=="string"?Li.findByName(n,t):t,o=s?s.uuid:t,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let f=0;f!==n;++f)e[f]._update(i,t,s,o);const c=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)c[f].apply(o);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let c=0,u=o.length;c!==u;++c){const f=o[c];this._deactivateAction(f);const h=f._cacheIndex,p=e[e.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,p._cacheIndex=h,e[h]=p,e.pop(),this._removeInactiveBindingsForAction(f)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,u=c[e];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,s=i[e];if(s!==void 0)for(const o in s){const c=s[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class jp{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new jp(this.value.clone===void 0?this.value:this.value.clone())}}function v0(t,e,n){fi.call(this,t,e),this.meshPerAttribute=n||1}v0.prototype=Object.assign(Object.create(fi.prototype),{constructor:v0,isInstancedInterleavedBuffer:!0,copy:function(t){return fi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=fi.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=fi.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}});function jx(t,e,n,i,s){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}Object.defineProperty(jx.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(jx.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}});function Wx(t,e,n,i){this.ray=new Zl(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new gx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function QM(t,e){return t.distance-e.distance}function x0(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const s=t.children;for(let o=0,c=s.length;o<c;o++)x0(s[o],e,n,!0)}}Object.assign(Wx.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){const i=n||[];return x0(t,this,i,e),i.sort(QM),i},intersectObjects:function(t,e,n){const i=n||[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let s=0,o=t.length;s<o;s++)x0(t[s],this,i,e);return i.sort(QM),i}});class GF{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(st.clamp(n/this.radius,-1,1))),this}}class jF{constructor(e,n,i){return this.radius=e!==void 0?e:1,this.theta=n!==void 0?n:0,this.y=i!==void 0?i:0,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}}const JM=new Ce;class tR{constructor(e,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=e!==void 0?e:new Ce(1/0,1/0),this.max=n!==void 0?n:new Ce(-1/0,-1/0)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=JM.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Ce),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Ce),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Ce),n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Ce),n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return JM.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $M=new X,Sd=new X;class nR{constructor(e,n){this.start=e!==void 0?e:new X,this.end=n!==void 0?n:new X}set(e,n){return this.start.copy(e),this.end.copy(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new X),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new X),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new X),this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){$M.subVectors(e,this.start),Sd.subVectors(this.end,this.start);const i=Sd.dot(Sd);let o=Sd.dot($M)/i;return n&&(o=st.clamp(o,0,1)),o}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new X),this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function rf(t){We.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}rf.prototype=Object.create(We.prototype);rf.prototype.constructor=rf;rf.prototype.isImmediateRenderObject=!0;const eE=new X;class WF extends We{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ze,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,u=1,f=32;c<f;c++,u++){const h=c/f*Math.PI*2,p=u/f*Math.PI*2;s.push(Math.cos(h),Math.sin(h),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new Ve(s,3));const o=new Ft({fog:!1,toneMapped:!1});this.cone=new Wn(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),eE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fs=new X,Md=new lt,Jy=new lt;class iR extends Wn{constructor(e){const n=rR(e),i=new Ze,s=[],o=[],c=new ke(0,0,1),u=new ke(0,1,0);for(let h=0;h<n.length;h++){const p=n[h];p.parent&&p.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(c.r,c.g,c.b),o.push(u.r,u.g,u.b))}i.setAttribute("position",new Ve(s,3)),i.setAttribute("color",new Ve(o,3));const f=new Ft({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,f),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");Jy.getInverse(this.root.matrixWorld);for(let o=0,c=0;o<n.length;o++){const u=n[o];u.parent&&u.parent.isBone&&(Md.multiplyMatrices(Jy,u.matrixWorld),Fs.setFromMatrixPosition(Md),s.setXYZ(c,Fs.x,Fs.y,Fs.z),Md.multiplyMatrices(Jy,u.parent.matrixWorld),Fs.setFromMatrixPosition(Md),s.setXYZ(c+1,Fs.x,Fs.y,Fs.z),c+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function rR(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,rR(t.children[n]));return e}class qF extends Ut{constructor(e,n,i){const s=new Gp(n,4,2),o=new Ni({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const XF=new X,tE=new ke,nE=new ke;class YF extends We{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const s=new kp(n);s.rotateY(Math.PI*.5),this.material=new Ni({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),c=new Float32Array(o.count*3);s.setAttribute("color",new Je(c,3)),this.add(new Ut(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");tE.copy(this.light.color),nE.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const o=i<s/2?tE:nE;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}e.lookAt(XF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class sR extends Wn{constructor(e,n,i,s){e=e||10,n=n||10,i=new ke(i!==void 0?i:4473924),s=new ke(s!==void 0?s:8947848);const o=n/2,c=e/n,u=e/2,f=[],h=[];for(let g=0,v=0,x=-u;g<=n;g++,x+=c){f.push(-u,0,x,u,0,x),f.push(x,0,-u,x,0,u);const S=g===o?i:s;S.toArray(h,v),v+=3,S.toArray(h,v),v+=3,S.toArray(h,v),v+=3,S.toArray(h,v),v+=3}const p=new Ze;p.setAttribute("position",new Ve(f,3)),p.setAttribute("color",new Ve(h,3));const m=new Ft({vertexColors:!0,toneMapped:!1});super(p,m),this.type="GridHelper"}}class ZF extends Wn{constructor(e,n,i,s,o,c){e=e||10,n=n||16,i=i||8,s=s||64,o=new ke(o!==void 0?o:4473924),c=new ke(c!==void 0?c:8947848);const u=[],f=[];for(let m=0;m<=n;m++){const g=m/n*(Math.PI*2),v=Math.sin(g)*e,x=Math.cos(g)*e;u.push(0,0,0),u.push(v,0,x);const S=m&1?o:c;f.push(S.r,S.g,S.b),f.push(S.r,S.g,S.b)}for(let m=0;m<=i;m++){const g=m&1?o:c,v=e-e/i*m;for(let x=0;x<s;x++){let S=x/s*(Math.PI*2),E=Math.sin(S)*v,w=Math.cos(S)*v;u.push(E,0,w),f.push(g.r,g.g,g.b),S=(x+1)/s*(Math.PI*2),E=Math.sin(S)*v,w=Math.cos(S)*v,u.push(E,0,w),f.push(g.r,g.g,g.b)}}const h=new Ze;h.setAttribute("position",new Ve(u,3)),h.setAttribute("color",new Ve(f,3));const p=new Ft({vertexColors:!0,toneMapped:!1});super(h,p),this.type="PolarGridHelper"}}const iE=new X,Ed=new X,rE=new X;class KF extends We{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let s=new Ze;s.setAttribute("position",new Ve([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ft({fog:!1,toneMapped:!1});this.lightPlane=new zi(s,o),this.add(this.lightPlane),s=new Ze,s.setAttribute("position",new Ve([0,0,0,0,0,1],3)),this.targetLine=new zi(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){iE.setFromMatrixPosition(this.light.matrixWorld),Ed.setFromMatrixPosition(this.light.target.matrixWorld),rE.subVectors(Ed,iE),this.lightPlane.lookAt(Ed),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ed),this.targetLine.scale.z=rE.length()}}const Td=new X,Kt=new xr;class QF extends Wn{constructor(e){const n=new Ze,i=new Ft({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],c={},u=new ke(16755200),f=new ke(16711680),h=new ke(43775),p=new ke(16777215),m=new ke(3355443);g("n1","n2",u),g("n2","n4",u),g("n4","n3",u),g("n3","n1",u),g("f1","f2",u),g("f2","f4",u),g("f4","f3",u),g("f3","f1",u),g("n1","f1",u),g("n2","f2",u),g("n3","f3",u),g("n4","f4",u),g("p","n1",f),g("p","n2",f),g("p","n3",f),g("p","n4",f),g("u1","u2",h),g("u2","u3",h),g("u3","u1",h),g("c","t",p),g("p","c",m),g("cn1","cn2",m),g("cn3","cn4",m),g("cf1","cf2",m),g("cf3","cf4",m);function g(x,S,E){v(x,E),v(S,E)}function v(x,S){s.push(0,0,0),o.push(S.r,S.g,S.b),c[x]===void 0&&(c[x]=[]),c[x].push(s.length/3-1)}n.setAttribute("position",new Ve(s,3)),n.setAttribute("color",new Ve(o,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update()}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;Kt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),en("c",n,e,Kt,0,0,-1),en("t",n,e,Kt,0,0,1),en("n1",n,e,Kt,-i,-s,-1),en("n2",n,e,Kt,i,-s,-1),en("n3",n,e,Kt,-i,s,-1),en("n4",n,e,Kt,i,s,-1),en("f1",n,e,Kt,-i,-s,1),en("f2",n,e,Kt,i,-s,1),en("f3",n,e,Kt,-i,s,1),en("f4",n,e,Kt,i,s,1),en("u1",n,e,Kt,i*.7,s*1.1,-1),en("u2",n,e,Kt,-i*.7,s*1.1,-1),en("u3",n,e,Kt,0,s*2,-1),en("cf1",n,e,Kt,-i,0,1),en("cf2",n,e,Kt,i,0,1),en("cf3",n,e,Kt,0,-s,1),en("cf4",n,e,Kt,0,s,1),en("cn1",n,e,Kt,-i,0,-1),en("cn2",n,e,Kt,i,0,-1),en("cn3",n,e,Kt,0,-s,-1),en("cn4",n,e,Kt,0,s,-1),e.getAttribute("position").needsUpdate=!0}}function en(t,e,n,i,s,o,c){Td.set(s,o,c).unproject(i);const u=e[t];if(u!==void 0){const f=n.getAttribute("position");for(let h=0,p=u.length;h<p;h++)f.setXYZ(u[h],Td.x,Td.y,Td.z)}}const Ad=new Ar;class aR extends Wn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),o=new Ze;o.setIndex(new Je(i,1)),o.setAttribute("position",new Je(s,3)),super(o,new Ft({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ad.setFromObject(this.object),Ad.isEmpty())return;const n=Ad.min,i=Ad.max,s=this.geometry.attributes.position,o=s.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Wn.prototype.copy.call(this,e),this.object=e.object,this}}class JF extends Wn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ze;o.setIndex(new Je(i,1)),o.setAttribute("position",new Ve(s,3)),super(o,new Ft({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class $F extends zi{constructor(e,n,i){const s=i!==void 0?i:16776960,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],c=new Ze;c.setAttribute("position",new Ve(o,3)),c.computeBoundingSphere(),super(c,new Ft({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n===void 0?1:n;const u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],f=new Ze;f.setAttribute("position",new Ve(u,3)),f.computeBoundingSphere(),this.add(new Ut(f,new Ni({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?hn:Wl,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const sE=new X;let Cd,$y;class ek extends We{constructor(e,n,i,s,o,c){super(),this.type="ArrowHelper",e===void 0&&(e=new X(0,0,1)),n===void 0&&(n=new X(0,0,0)),i===void 0&&(i=1),s===void 0&&(s=16776960),o===void 0&&(o=.2*i),c===void 0&&(c=.2*o),Cd===void 0&&(Cd=new Ze,Cd.setAttribute("position",new Ve([0,0,0,0,1,0],3)),$y=new wf(0,.5,1,5,1),$y.translate(0,-.5,0)),this.position.copy(n),this.line=new zi(Cd,new Ft({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ut($y,new Ni({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,c)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sE.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(sE,n)}}setLength(e,n,i){n===void 0&&(n=.2*e),i===void 0&&(i=.2*n),this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class oR extends Wn{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Ze;s.setAttribute("position",new Ve(n,3)),s.setAttribute("color",new Ve(i,3));const o=new Ft({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}}const wl=4,Ys=8,hr=Math.pow(2,Ys),lR=[.125,.215,.35,.446,.526,.582],cR=Ys-wl+1+lR.length,rl=20,mr={[Gn]:0,[yf]:1,[Up]:2,[dx]:3,[px]:4,[mx]:5,[zp]:6},ev=new Ul,{_lodPlanes:au,_sizeLods:aE,_sigmas:Rd}=ik();let tv=null;const Pa=(1+Math.sqrt(5))/2,sl=1/Pa,oE=[new X(1,1,1),new X(-1,1,1),new X(1,1,-1),new X(-1,1,-1),new X(0,Pa,sl),new X(0,Pa,-sl),new X(sl,0,Pa),new X(-sl,0,Pa),new X(Pa,sl,0),new X(-Pa,sl,0)];class tk{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=rk(rl),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100){tv=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,i,s,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=uE(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=cE(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<au.length;e++)au[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(tv),e.scissorTest=!1,Ld(e,0,0,e.width,e.height)}_fromTexture(e){tv=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:Yl,format:_2,encoding:nk(e)?e.encoding:Up,depthBuffer:!1},i=lE(n);return i.depthBuffer=!e,this._pingPongRenderTarget=lE(n),i}_compileMaterial(e){const n=new Ut(au[0],e);this._renderer.compile(n,ev)}_sceneToCubeUV(e,n,i,s){const u=new ln(90,1,n,i),f=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,m=p.outputEncoding,g=p.toneMapping,v=p.getClearColor(),x=p.getClearAlpha();p.toneMapping=ka,p.outputEncoding=Gn;let S=e.background;if(S&&S.isColor){S.convertSRGBToLinear();const E=Math.max(S.r,S.g,S.b),w=Math.min(Math.max(Math.ceil(Math.log2(E)),-128),127);S=S.multiplyScalar(Math.pow(2,-w));const b=(w+128)/255;p.setClearColor(S,b),e.background=null}for(let E=0;E<6;E++){const w=E%3;w==0?(u.up.set(0,f[E],0),u.lookAt(h[E],0,0)):w==1?(u.up.set(0,0,f[E]),u.lookAt(0,h[E],0)):(u.up.set(0,f[E],0),u.lookAt(0,0,h[E])),Ld(s,w*hr,E>2?hr:0,hr,hr),p.setRenderTarget(s),p.render(e,u)}p.toneMapping=g,p.outputEncoding=m,p.setClearColor(v,x)}_textureToCubeUV(e,n){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=uE()):this._equirectShader==null&&(this._equirectShader=cE());const s=e.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Ut(au[0],s),c=s.uniforms;c.envMap.value=e,e.isCubeTexture||c.texelSize.value.set(1/e.image.width,1/e.image.height),c.inputEncoding.value=mr[e.encoding],c.outputEncoding.value=mr[n.texture.encoding],Ld(n,0,0,3*hr,2*hr),i.setRenderTarget(n),i.render(o,ev)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let s=1;s<cR;s++){const o=Math.sqrt(Rd[s]*Rd[s]-Rd[s-1]*Rd[s-1]),c=oE[(s-1)%oE.length];this._blur(e,s-1,s,o,c)}n.autoClear=i}_blur(e,n,i,s,o){const c=this._pingPongRenderTarget;this._halfBlur(e,c,n,i,s,"latitudinal",o),this._halfBlur(c,e,i,i,s,"longitudinal",o)}_halfBlur(e,n,i,s,o,c,u){const f=this._renderer,h=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,m=new Ut(au[s],h),g=h.uniforms,v=aE[i]-1,x=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*rl-1),S=o/x,E=isFinite(o)?1+Math.floor(p*S):rl;E>rl&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${rl}`);const w=[];let b=0;for(let A=0;A<rl;++A){const O=A/S,z=Math.exp(-O*O/2);w.push(z),A==0?b+=z:A<E&&(b+=2*z)}for(let A=0;A<w.length;A++)w[A]=w[A]/b;g.envMap.value=e.texture,g.samples.value=E,g.weights.value=w,g.latitudinal.value=c==="latitudinal",u&&(g.poleAxis.value=u),g.dTheta.value=x,g.mipInt.value=Ys-i,g.inputEncoding.value=mr[e.texture.encoding],g.outputEncoding.value=mr[e.texture.encoding];const R=aE[s],D=3*Math.max(0,hr-2*R),C=(s===0?0:2*hr)+2*R*(s>Ys-wl?s-Ys+wl:0);Ld(n,D,C,3*R,2*R),f.setRenderTarget(n),f.render(m,ev)}}function nk(t){return t===void 0||t.type!==Yl?!1:t.encoding===Gn||t.encoding===yf||t.encoding===zp}function ik(){const t=[],e=[],n=[];let i=Ys;for(let s=0;s<cR;s++){const o=Math.pow(2,i);e.push(o);let c=1/o;s>Ys-wl?c=lR[s-Ys+wl-1]:s==0&&(c=0),n.push(c);const u=1/(o-1),f=-u/2,h=1+u/2,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,g=6,v=3,x=2,S=1,E=new Float32Array(v*g*m),w=new Float32Array(x*g*m),b=new Float32Array(S*g*m);for(let D=0;D<m;D++){const C=D%3*2/3-1,A=D>2?0:-1,O=[C,A,0,C+2/3,A,0,C+2/3,A+1,0,C,A,0,C+2/3,A+1,0,C,A+1,0];E.set(O,v*g*D),w.set(p,x*g*D);const z=[D,D,D,D,D,D];b.set(z,S*g*D)}const R=new Ze;R.setAttribute("position",new Je(E,v)),R.setAttribute("uv",new Je(w,x)),R.setAttribute("faceIndex",new Je(b,S)),t.push(R),i>wl&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function lE(t){const e=new di(3*hr,3*hr,t);return e.texture.mapping=ql,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Ld(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function rk(t){const e=new Float32Array(t),n=new X(0,1,0);return new ss({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:mr[Gn]},outputEncoding:{value:mr[Gn]}},vertexShader:qx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Xx()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:$r,depthTest:!1,depthWrite:!1})}function cE(){const t=new Ce(1,1);return new ss({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:mr[Gn]},outputEncoding:{value:mr[Gn]}},vertexShader:qx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Xx()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:$r,depthTest:!1,depthWrite:!1})}function uE(){return new ss({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:mr[Gn]},outputEncoding:{value:mr[Gn]}},vertexShader:qx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Xx()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:$r,depthTest:!1,depthWrite:!1})}function qx(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Xx(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function sk(t,e,n,i,s,o,c){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Vu(t,e,n,s,o,c)}const ak=0,ok=1,lk=0,ck=1,uk=2;function fk(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function hk(t){return t===void 0&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function dk(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ll(t,e)}function pk(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new qu(t)}function mk(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ll(t,e)}function gk(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new $i(t)}function yk(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new $i(t)}function vk(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new $i(t)}function xk(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new X(t,e,n)}function bk(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Je(t,e).setUsage(Wa)}function _k(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Iu(t,e)}function wk(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Fu(t,e)}function Sk(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ku(t,e)}function Mk(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Gu(t,e)}function Ek(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new qa(t,e)}function Tk(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ju(t,e)}function Ak(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Xa(t,e)}function Ck(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ve(t,e)}function Rk(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Wu(t,e)}Xe.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Xe.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};Object.assign(Qr.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new Ct;for(let n=0,i=t.length;n<i;n++){const s=t[n];e.vertices.push(new X(s.x,s.y,s.z||0))}return e}});Object.assign(Ki.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}});function uR(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),zn.call(this,t),this.type="catmullrom",this.closed=!0}uR.prototype=Object.create(zn.prototype);function fR(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),zn.call(this,t),this.type="catmullrom"}fR.prototype=Object.create(zn.prototype);function Yx(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),zn.call(this,t),this.type="catmullrom"}Yx.prototype=Object.create(zn.prototype);Object.assign(Yx.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function Lk(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new oR(t)}function Ok(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new aR(t,e)}function Dk(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Wn(new _x(t.geometry),new Ft({color:e!==void 0?e:16777215}))}sR.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};iR.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function Pk(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Wn(new Px(t.geometry),new Ft({color:e!==void 0?e:16777215}))}Object.assign(St.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),zx.extractUrlBase(t)}});St.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function Nk(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ui(t)}function Bk(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new up(t)}Object.assign(tR.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(Ar.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(ls.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});bf.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};nR.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Object.assign(st,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),st.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),st.ceilPowerOfTwo(t)}});Object.assign(kn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(lt.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new X().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,s,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,s,o)}});pr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};Nn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};Object.assign(Zl.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}});Object.assign(An.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}});Object.assign(An,{barycoordFromPoint:function(t,e,n,i,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),An.getBarycoord(t,e,n,i,s)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),An.getNormal(t,e,n,i)}});Object.assign(Xs.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new wx(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ax(this,t)}});Object.assign(Ce.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(X.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(At.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ct.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.assign(We.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(We.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Ut.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Ut.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),oC},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Xu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(ep.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});$d.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Xe.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}});ln.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(Pt.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(Je.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Wa},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Wa)}}});Object.assign(Je.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Wa:vf),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ze.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Je(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)},addDrawCall:function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(Ze.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(nf.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}});Object.defineProperties(Wx.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}});Object.defineProperties(fi.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Wa},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}});Object.assign(fi.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Wa:vf),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Sf.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(yx.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(jp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(et.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ke}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===lx}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}});Object.defineProperties(ra.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ia.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}});Object.defineProperties(jn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});Object.assign(_f.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(_f.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?yf:Gn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(EC.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function zk(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Qs(t,n)}Object.defineProperties(di.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});Object.defineProperties(Ix.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new _p().load(t,function(i){e.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});JC.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Al.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};const Uk={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};Ks.crossOrigin=void 0;Ks.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new fp;s.setCrossOrigin(this.crossOrigin);const o=s.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ks.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new cp;s.setCrossOrigin(this.crossOrigin);const o=s.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ks.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ks.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function Hk(){console.error("THREE.CanvasRenderer has been removed")}function Vk(){console.error("THREE.JSONLoader has been removed.")}const Ik={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Fk(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:zA}}));const fE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:u2,AddEquation:Na,AddOperation:a2,AdditiveAnimationBlendMode:hx,AdditiveBlending:zv,AlphaFormat:v2,AlwaysDepth:$A,AlwaysStencilFunc:hC,AmbientLight:gp,AmbientLightProbe:g0,AnimationClip:Li,AnimationLoader:o0,AnimationMixer:y0,AnimationObjectGroup:eR,AnimationUtils:Bt,ArcCurve:zl,ArrayCamera:Jd,ArrowHelper:ek,Audio:Ix,AudioAnalyser:JC,AudioContext:Vx,AudioListener:OF,AudioLoader:_p,AxesHelper:oR,AxisHelper:Lk,BackSide:hn,BasicDepthPacking:cC,BasicShadowMap:r4,BinaryTextureLoader:Bk,Bone:t0,BooleanKeyframeTrack:sp,BoundingBoxHelper:Ok,Box2:tR,Box3:Ar,Box3Helper:JF,BoxBufferGeometry:xf,BoxGeometry:r0,BoxHelper:aR,BufferAttribute:Je,BufferGeometry:Ze,BufferGeometryLoader:bp,ByteType:h2,Cache:to,Camera:xr,CameraHelper:QF,CanvasRenderer:Hk,CanvasTexture:Yu,CatmullRomCurve3:zn,CineonToneMapping:c2,CircleBufferGeometry:vx,CircleGeometry:RC,ClampToEdgeWrapping:In,Clock:QC,ClosedSplineCurve3:uR,Color:ke,ColorKeyframeTrack:ap,CompressedTexture:Ol,CompressedTextureLoader:l0,ConeBufferGeometry:OC,ConeGeometry:LC,CubeCamera:Al,CubeGeometry:r0,CubeReflectionMapping:pf,CubeRefractionMapping:mf,CubeTexture:br,CubeTextureLoader:cp,CubeUVReflectionMapping:ql,CubeUVRefractionMapping:gf,CubicBezierCurve:er,CubicBezierCurve3:wr,CubicInterpolant:ip,CullFaceBack:Bv,CullFaceFront:HA,CullFaceFrontBack:i4,CullFaceNone:UA,Curve:Xe,CurvePath:Qr,CustomBlending:IA,CustomToneMapping:f2,CylinderBufferGeometry:wf,CylinderGeometry:xx,Cylindrical:jF,DataTexture:Ya,DataTexture2DArray:Cl,DataTexture3D:Rl,DataTextureLoader:up,DecrementStencilOp:m4,DecrementWrapStencilOp:y4,DefaultLoadingManager:YC,DepthFormat:Ga,DepthStencilFormat:El,DepthTexture:Zu,DirectionalLight:mp,DirectionalLightHelper:KF,DiscreteInterpolant:rp,DodecahedronBufferGeometry:bx,DodecahedronGeometry:DC,DoubleSide:hf,DstAlphaFactor:XA,DstColorFactor:ZA,DynamicBufferAttribute:bk,DynamicCopyUsage:O4,DynamicDrawUsage:Wa,DynamicReadUsage:C4,EdgesGeometry:_x,EdgesHelper:Dk,EllipseCurve:gi,EqualDepth:t2,EqualStencilFunc:_4,EquirectangularReflectionMapping:Yd,EquirectangularRefractionMapping:Zd,Euler:Kl,EventDispatcher:Tr,ExtrudeBufferGeometry:Sf,ExtrudeGeometry:wx,Face3:Vu,Face4:sk,FaceColors:ck,FileLoader:Ui,FlatShading:lx,Float32Attribute:Ck,Float32BufferAttribute:Ve,Float64Attribute:Rk,Float64BufferAttribute:Wu,FloatType:Kr,Fog:Ip,FogExp2:Vp,Font:Hx,FontLoader:p0,FrontSide:Wl,Frustum:bf,GLBufferAttribute:jx,GLSL1:P4,GLSL3:Qv,GammaEncoding:zp,Geometry:Ct,GeometryUtils:Uk,GreaterDepth:i2,GreaterEqualDepth:n2,GreaterEqualStencilFunc:E4,GreaterStencilFunc:S4,GridHelper:sR,Group:js,HalfFloatType:zu,HemisphereLight:hp,HemisphereLightHelper:YF,HemisphereLightProbe:m0,IcosahedronBufferGeometry:Sx,IcosahedronGeometry:zC,ImageBitmapLoader:d0,ImageLoader:Bl,ImageUtils:Ks,ImmediateRenderObject:rf,IncrementStencilOp:p4,IncrementWrapStencilOp:g4,InstancedBufferAttribute:xp,InstancedBufferGeometry:nf,InstancedInterleavedBuffer:v0,InstancedMesh:tp,Int16Attribute:Mk,Int16BufferAttribute:Gu,Int32Attribute:Tk,Int32BufferAttribute:ju,Int8Attribute:_k,Int8BufferAttribute:Iu,IntType:p2,InterleavedBuffer:fi,InterleavedBufferAttribute:ea,Interpolant:pi,InterpolateDiscrete:Uu,InterpolateLinear:xu,InterpolateSmooth:Hd,InvertStencilOp:v4,JSONLoader:Vk,KeepStencilOp:Vd,KeyframeTrack:Cn,LOD:Xu,LatheBufferGeometry:Mx,LatheGeometry:UC,Layers:gx,LensFlare:Fk,LessDepth:e2,LessEqualDepth:Xd,LessEqualStencilFunc:w4,LessStencilFunc:b4,Light:Pt,LightProbe:Pi,Line:zi,Line3:nR,LineBasicMaterial:Ft,LineCurve:$n,LineCurve3:tr,LineDashedMaterial:eo,LineLoop:np,LinePieces:ok,LineSegments:Wn,LineStrip:ak,LinearEncoding:Gn,LinearFilter:bn,LinearInterpolant:ef,LinearMipMapLinearFilter:c4,LinearMipMapNearestFilter:l4,LinearMipmapLinearFilter:Xl,LinearMipmapNearestFilter:fx,LinearToneMapping:o2,Loader:St,LoaderUtils:zx,LoadingManager:Nx,LogLuvEncoding:lC,LoopOnce:rC,LoopPingPong:aC,LoopRepeat:sC,LuminanceAlphaFormat:b2,LuminanceFormat:x2,MOUSE:t4,Material:et,MaterialLoader:vp,Math:st,MathUtils:st,Matrix3:kn,Matrix4:lt,MaxEquation:Iv,Mesh:Ut,MeshBasicMaterial:Ni,MeshDepthMaterial:Js,MeshDistanceMaterial:$s,MeshFaceMaterial:fk,MeshLambertMaterial:Ja,MeshMatcapMaterial:$a,MeshNormalMaterial:Qa,MeshPhongMaterial:ra,MeshPhysicalMaterial:ia,MeshStandardMaterial:_r,MeshToonMaterial:Ka,MinEquation:Vv,MirroredRepeatWrapping:Nu,MixOperation:s2,MultiMaterial:hk,MultiplyBlending:Hv,MultiplyOperation:df,NearestFilter:dn,NearestMipMapLinearFilter:o4,NearestMipMapNearestFilter:a4,NearestMipmapLinearFilter:Qd,NearestMipmapNearestFilter:Kd,NeverDepth:JA,NeverStencilFunc:x4,NoBlending:$r,NoColors:lk,NoToneMapping:ka,NormalAnimationBlendMode:Bp,NormalBlending:bl,NotEqualDepth:r2,NotEqualStencilFunc:M4,NumberKeyframeTrack:Pl,Object3D:We,ObjectLoader:TF,ObjectSpaceNormalMap:fC,OctahedronBufferGeometry:kp,OctahedronGeometry:HC,OneFactor:jA,OneMinusDstAlphaFactor:YA,OneMinusDstColorFactor:KA,OneMinusSrcAlphaFactor:ux,OneMinusSrcColorFactor:qA,OrthographicCamera:Ul,PCFShadowMap:ox,PCFSoftShadowMap:VA,PMREMGenerator:tk,ParametricBufferGeometry:Dl,ParametricGeometry:$u,Particle:pk,ParticleBasicMaterial:yk,ParticleSystem:mk,ParticleSystemMaterial:vk,Path:Ki,PerspectiveCamera:ln,Plane:pr,PlaneBufferGeometry:Hp,PlaneGeometry:VC,PlaneHelper:$F,PointCloud:dk,PointCloudMaterial:gk,PointLight:pp,PointLightHelper:qF,Points:Ll,PointsMaterial:$i,PolarGridHelper:ZF,PolyhedronBufferGeometry:ro,PolyhedronGeometry:IC,PositionalAudio:PF,PropertyBinding:Bn,PropertyMixer:Fx,QuadraticBezierCurve:nr,QuadraticBezierCurve3:Sr,Quaternion:Nn,QuaternionKeyframeTrack:tf,QuaternionLinearInterpolant:op,REVISION:zA,RGBADepthPacking:uC,RGBAFormat:hi,RGBAIntegerFormat:A2,RGBA_ASTC_10x10_Format:I2,RGBA_ASTC_10x5_Format:U2,RGBA_ASTC_10x6_Format:H2,RGBA_ASTC_10x8_Format:V2,RGBA_ASTC_12x10_Format:F2,RGBA_ASTC_12x12_Format:k2,RGBA_ASTC_4x4_Format:R2,RGBA_ASTC_5x4_Format:L2,RGBA_ASTC_5x5_Format:O2,RGBA_ASTC_6x5_Format:D2,RGBA_ASTC_6x6_Format:P2,RGBA_ASTC_8x5_Format:N2,RGBA_ASTC_8x6_Format:B2,RGBA_ASTC_8x8_Format:z2,RGBA_BPTC_Format:G2,RGBA_ETC2_EAC_Format:Kv,RGBA_PVRTC_2BPPV1_Format:Yv,RGBA_PVRTC_4BPPV1_Format:Xv,RGBA_S3TC_DXT1_Format:kv,RGBA_S3TC_DXT3_Format:Gv,RGBA_S3TC_DXT5_Format:jv,RGBDEncoding:mx,RGBEEncoding:Up,RGBEFormat:_2,RGBFormat:Ws,RGBIntegerFormat:T2,RGBM16Encoding:px,RGBM7Encoding:dx,RGB_ETC1_Format:C2,RGB_ETC2_Format:Zv,RGB_PVRTC_2BPPV1_Format:qv,RGB_PVRTC_4BPPV1_Format:Wv,RGB_S3TC_DXT1_Format:Fv,RGFormat:M2,RGIntegerFormat:E2,RawShaderMaterial:ss,Ray:Zl,Raycaster:Wx,RectAreaLight:yp,RedFormat:w2,RedIntegerFormat:S2,ReinhardToneMapping:l2,RepeatWrapping:Pu,ReplaceStencilOp:d4,ReverseSubtractEquation:kA,RingBufferGeometry:Ex,RingGeometry:FC,SRGB8_ALPHA8_ASTC_10x10_Format:tC,SRGB8_ALPHA8_ASTC_10x5_Format:J2,SRGB8_ALPHA8_ASTC_10x6_Format:$2,SRGB8_ALPHA8_ASTC_10x8_Format:eC,SRGB8_ALPHA8_ASTC_12x10_Format:nC,SRGB8_ALPHA8_ASTC_12x12_Format:iC,SRGB8_ALPHA8_ASTC_4x4_Format:j2,SRGB8_ALPHA8_ASTC_5x4_Format:W2,SRGB8_ALPHA8_ASTC_5x5_Format:q2,SRGB8_ALPHA8_ASTC_6x5_Format:X2,SRGB8_ALPHA8_ASTC_6x6_Format:Y2,SRGB8_ALPHA8_ASTC_8x5_Format:Z2,SRGB8_ALPHA8_ASTC_8x6_Format:K2,SRGB8_ALPHA8_ASTC_8x8_Format:Q2,Scene:yx,SceneUtils:Ik,ShaderChunk:ht,ShaderLib:Zi,ShaderMaterial:jn,ShadowMaterial:Za,Shape:Xs,ShapeBufferGeometry:Tx,ShapeGeometry:Ax,ShapePath:Ux,ShapeUtils:es,ShortType:d2,Skeleton:ep,SkeletonHelper:iR,SkinnedMesh:$d,SmoothShading:s4,Sphere:ls,SphereBufferGeometry:Gp,SphereGeometry:kC,Spherical:GF,SphericalHarmonics3:ZC,Spline:Yx,SplineCurve:ir,SplineCurve3:fR,SpotLight:dp,SpotLightHelper:WF,Sprite:qu,SpriteMaterial:ta,SrcAlphaFactor:cx,SrcAlphaSaturateFactor:QA,SrcColorFactor:WA,StaticCopyUsage:L4,StaticDrawUsage:vf,StaticReadUsage:A4,StereoCamera:KC,StreamCopyUsage:D4,StreamDrawUsage:T4,StreamReadUsage:R4,StringKeyframeTrack:lp,SubtractEquation:FA,SubtractiveBlending:Uv,TOUCH:n4,TangentSpaceNormalMap:io,TetrahedronBufferGeometry:Cx,TetrahedronGeometry:GC,TextBufferGeometry:Rx,TextGeometry:jC,Texture:Rt,TextureLoader:fp,TorusBufferGeometry:Lx,TorusGeometry:WC,TorusKnotBufferGeometry:Ox,TorusKnotGeometry:qC,Triangle:An,TriangleFanDrawMode:f4,TriangleStripDrawMode:u4,TrianglesDrawMode:oC,TubeBufferGeometry:Dx,TubeGeometry:XC,UVMapping:Np,Uint16Attribute:Ek,Uint16BufferAttribute:qa,Uint32Attribute:Ak,Uint32BufferAttribute:Xa,Uint8Attribute:wk,Uint8BufferAttribute:Fu,Uint8ClampedAttribute:Sk,Uint8ClampedBufferAttribute:ku,Uniform:jp,UniformsLib:Fe,UniformsUtils:gC,UnsignedByteType:Yl,UnsignedInt248Type:_l,UnsignedIntType:vu,UnsignedShort4444Type:m2,UnsignedShort5551Type:g2,UnsignedShort565Type:y2,UnsignedShortType:Bu,VSMShadowMap:pl,Vector2:Ce,Vector3:X,Vector4:At,VectorKeyframeTrack:Nl,Vertex:xk,VertexColors:uk,VideoTexture:i0,WebGL1Renderer:e0,WebGLCubeRenderTarget:Qs,WebGLMultisampleRenderTarget:Jv,WebGLRenderTarget:di,WebGLRenderTargetCube:zk,WebGLRenderer:_f,WebGLUtils:TC,WireframeGeometry:Px,WireframeHelper:Pk,WrapAroundEnding:Hu,XHRLoader:Nk,ZeroCurvatureEnding:Ua,ZeroFactor:GA,ZeroSlopeEnding:Ha,ZeroStencilOp:h4,sRGBEncoding:yf},Symbol.toStringTag,{value:"Module"}));var Id={exports:{}},kk=Id.exports,hE;function Gk(){return hE||(hE=1,(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:kk,(()=>(()=>{var n={d:(x,S)=>{for(var E in S)n.o(S,E)&&!n.o(x,E)&&Object.defineProperty(x,E,{enumerable:!0,get:S[E]})},o:(x,S)=>Object.prototype.hasOwnProperty.call(x,S),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},i={};function s(x,S){return Math.floor(x+Math.random()*(S-x+1))}n.r(i),n.d(i,{default:()=>v}),Number.prototype.clamp=function(x,S){return Math.min(Math.max(this,x),S)};function o(x){for(;x.children&&x.children.length>0;)o(x.children[0]),x.remove(x.children[0]);x.geometry&&x.geometry.dispose(),x.material&&(Object.keys(x.material).forEach((S=>{x.material[S]&&x.material[S]!==null&&typeof x.material[S].dispose=="function"&&x.material[S].dispose()})),x.material.dispose())}const c=typeof window=="object";let u=c&&window.THREE||{};c&&!window.VANTA&&(window.VANTA={});const f=c&&window.VANTA||{};f.register=(x,S)=>f[x]=E=>new S(E),f.version="0.5.24";const h=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};f.VantaBase=class{constructor(x={}){if(!c)return!1;f.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const S=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},S),(x instanceof HTMLElement||typeof x=="string")&&(x={el:x}),Object.assign(this.options,x),this.options.THREE&&(u=this.options.THREE),this.el=this.options.el,this.el==null)h('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const R=this.el;if(this.el=(E=R,document.querySelector(E)),!this.el)return void h("Cannot find element",R)}var E,w;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(R){return h("Init error",R),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(w=this.options.backgroundColor,typeof w=="number"?"#"+("00000"+w.toString(16)).slice(-6):w)))}this.initMouse(),this.resize(),this.animationLoop();const b=window.addEventListener;b("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(b("scroll",this.windowMouseMoveWrapper),b("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(b("touchstart",this.windowTouchWrapper),b("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&b("deviceorientation",this.windowGyroWrapper)}setOptions(x={}){Object.assign(this.options,x),this.triggerMouseMove()}prepareEl(){let x,S;if(typeof Node<"u"&&Node.TEXT_NODE)for(x=0;x<this.el.childNodes.length;x++){const E=this.el.childNodes[x];if(E.nodeType===Node.TEXT_NODE){const w=document.createElement("span");w.textContent=E.textContent,E.parentElement.insertBefore(w,E),E.remove()}}for(x=0;x<this.el.children.length;x++)S=this.el.children[x],getComputedStyle(S).position==="static"&&(S.style.position="relative"),getComputedStyle(S).zIndex==="auto"&&(S.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(x,S={}){Object.assign(x.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(x.style,S),x.classList.add("vanta-canvas")}initThree(){u.WebGLRenderer?(this.renderer=new u.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new u.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const x=this.getCanvasElement();return!!x&&x.getBoundingClientRect()}windowMouseMoveWrapper(x){const S=this.getCanvasRect();if(!S)return!1;const E=x.clientX-S.left,w=x.clientY-S.top;E>=0&&w>=0&&E<=S.width&&w<=S.height&&(this.mouseX=E,this.mouseY=w,this.options.mouseEase||this.triggerMouseMove(E,w))}windowTouchWrapper(x){const S=this.getCanvasRect();if(!S)return!1;if(x.touches.length===1){const E=x.touches[0].clientX-S.left,w=x.touches[0].clientY-S.top;E>=0&&w>=0&&E<=S.width&&w<=S.height&&(this.mouseX=E,this.mouseY=w,this.options.mouseEase||this.triggerMouseMove(E,w))}}windowGyroWrapper(x){const S=this.getCanvasRect();if(!S)return!1;const E=Math.round(2*x.alpha)-S.left,w=Math.round(2*x.beta)-S.top;E>=0&&w>=0&&E<=S.width&&w<=S.height&&(this.mouseX=E,this.mouseY=w,this.options.mouseEase||this.triggerMouseMove(E,w))}triggerMouseMove(x,S){x===void 0&&S===void 0&&(this.options.mouseEase?(x=this.mouseEaseX,S=this.mouseEaseY):(x=this.mouseX,S=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=x/this.scale,this.uniforms.iMouse.value.y=S/this.scale);const E=x/this.width,w=S/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(E,w)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const x=this.el.offsetHeight,S=this.el.getBoundingClientRect(),E=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,w=S.top+E;return w-window.innerHeight<=E&&E<=w+x}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const x=performance.now();if(this.prevNow){let S=(x-this.prevNow)/16.666666666666668;S=Math.max(.2,Math.min(S,5)),this.t+=S,this.t2+=(this.options.speed||1)*S,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=x,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const x=window.removeEventListener;x("touchstart",this.windowTouchWrapper),x("touchmove",this.windowTouchWrapper),x("scroll",this.windowMouseMoveWrapper),x("mousemove",this.windowMouseMoveWrapper),x("deviceorientation",this.windowGyroWrapper),x("resize",this.resize),window.cancelAnimationFrame(this.req);const S=this.scene;S&&S.children&&o(S),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),f.current===this&&(f.current=null)}};const p=f.VantaBase;let m=typeof window=="object"&&window.THREE;class g extends p{static initClass(){this.prototype.ww=100,this.prototype.hh=80,this.prototype.waveNoise=4}constructor(S){m=S.THREE||m,super(S)}getMaterial(){const S={color:this.options.color,shininess:this.options.shininess,flatShading:!0,side:m.DoubleSide};return new m.MeshPhongMaterial(S)}onInit(){let S,E;const w=this.getMaterial(),b=new m.BufferGeometry;this.gg=[];const R=[];for(S=0;S<=this.ww;S++)for(this.gg[S]=[],E=0;E<=this.hh;E++){const N=R.length,P=new m.Vector3(18*(S-.5*this.ww),((D=0)==null&&(D=0),(C=this.waveNoise)==null&&(C=1),D+Math.random()*(C-D)-10),18*(.5*this.hh-E));R.push(P),this.gg[S][E]=N}var D,C;b.setFromPoints(R);const A=[];for(S=1;S<=this.ww;S++)for(E=1;E<=this.hh;E++){let N,P;const G=this.gg[S][E],W=this.gg[S][E-1],I=this.gg[S-1][E],k=this.gg[S-1][E-1];s(0,1)?(N=[k,W,I],P=[W,I,G]):(N=[k,W,G],P=[k,I,G]),A.push(...N,...P)}b.setIndex(A),this.plane=new m.Mesh(b,w),this.scene.add(this.plane);const O=new m.AmbientLight(16777215,.9);this.scene.add(O);const z=new m.PointLight(16777215,.9);z.position.set(-100,250,-100),this.scene.add(z),this.camera=new m.PerspectiveCamera(35,this.width/this.height,50,1e4),this.cameraPosition=new m.Vector3(240,200,390),this.cameraTarget=new m.Vector3(140,-30,190),this.camera.position.copy(this.cameraPosition),this.scene.add(this.camera)}onUpdate(){let S;this.plane.material.color.set(this.options.color),this.plane.material.shininess=this.options.shininess,this.camera.ox=this.cameraPosition.x/this.options.zoom,this.camera.oy=this.cameraPosition.y/this.options.zoom,this.camera.oz=this.cameraPosition.z/this.options.zoom,this.controls!=null&&this.controls.update();const E=this.camera;Math.abs(E.tx-E.position.x)>.01&&(S=E.tx-E.position.x,E.position.x+=.02*S),Math.abs(E.ty-E.position.y)>.01&&(S=E.ty-E.position.y,E.position.y+=.02*S),Math.abs(E.tz-E.position.z)>.01&&(S=E.tz-E.position.z,E.position.z+=.02*S),E.lookAt(this.cameraTarget),this.oy=this.oy||{};for(let w=0;w<this.plane.geometry.attributes.position.array.length;w+=3){const b={x:this.plane.geometry.attributes.position.array[w],y:this.plane.geometry.attributes.position.array[w+1],z:this.plane.geometry.attributes.position.array[w+2],oy:this.oy[w]};if(b.oy){const R=this.options.waveSpeed,D=Math.sqrt(R)*Math.cos(-b.x-.7*b.z),C=Math.sin(R*this.t*.02-R*b.x*.025+R*b.z*.015+D),A=Math.pow(C+1,2)/4;b.y=b.oy+A*this.options.waveHeight,this.plane.geometry.attributes.position.array[w+1]=b.y}else this.oy[w]=b.y}this.plane.geometry.attributes.position.setUsage(m.DynamicDrawUsage),this.plane.geometry.computeVertexNormals(),this.plane.geometry.attributes.position.needsUpdate=!0,this.wireframe&&(this.wireframe.geometry.fromGeometry(this.plane.geometry),this.wireframe.geometry.computeFaceNormals())}onMouseMove(S,E){const w=this.camera;return w.oy||(w.oy=w.position.y,w.ox=w.position.x,w.oz=w.position.z),w.tx=w.ox+100*(S-.5)/this.options.zoom,w.ty=w.oy+-100*(E-.5)/this.options.zoom,w.tz=w.oz+-50*(S-.5)/this.options.zoom}}g.prototype.defaultOptions={color:21896,shininess:30,waveHeight:15,waveSpeed:1,zoom:1},g.initClass();const v=f.register("WAVES",g);return i})()))})(Id)),Id.exports}var jk=Gk();const Wk=S0(jk),qk="/assets/banner-2-a6dV1iov.png",Xk=()=>{const t=Fl(),e=s=>{t(s),window.scrollTo({top:0,behavior:"smooth"})},n=oe.useRef(null),i=oe.useRef(null);return oe.useEffect(()=>{window.THREE=fE;const s=setTimeout(()=>{!i.current&&n.current&&(i.current=Wk({el:n.current,THREE:fE,mouseControls:!1,touchControls:!1,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:1710619,shininess:14,waveHeight:16.5,waveSpeed:.4,zoom:1}))},100);return()=>{clearTimeout(s),i.current&&i.current.destroy()}},[]),Q.createElement("section",{className:"relative h-[70vh] sm:h-[80vh] lg:h-screen flex items-center justify-start text-white overflow-hidden"},Q.createElement("div",{ref:n,className:"absolute inset-0 w-full h-full z-10 vanta-container opacity-40"}),Q.createElement("div",{className:"absolute inset-0 w-full h-full z-0",style:{backgroundImage:`url(${qk})`,backgroundSize:"cover",backgroundPosition:"center",opacity:1}}),Q.createElement("div",{className:"absolute inset-0 z-20",style:{backgroundImage:"linear-gradient(to right, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.1) 100%)"}}),Q.createElement("div",{className:"relative z-30 p-6 sm:p-12 text-left max-w-full lg:max-w-4xl"},Q.createElement("div",{className:"px-4 sm:px-6 lg:px-8"},Q.createElement("p",{className:"text-[#163c6e] text-sm sm:text-base font-semibold mb-2 tracking-widest uppercase flex items-center"},Q.createElement("span",{className:"h-2 w-2 bg-[#163c6e] rounded-full mr-2"}),"TrueBuild Property Solution"),Q.createElement("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight"},"We Provide Effective ",Q.createElement("br",null),"Construction ",Q.createElement("span",{className:"text-[#163c6e]"},"&")," ",Q.createElement("br",null),"Renovations Services"),Q.createElement("div",{className:"flex mt-8"},Q.createElement(Ml.button,{onClick:()=>e("/contact"),className:"px-6 sm:px-8 py-3 sm:py-4 bg-[#163c6e] text-[#ffffff] font-semibold rounded-full shadow-lg relative overflow-hidden group",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300}},Q.createElement("span",{className:"block transition-transform duration-300 group-hover:-translate-y-1"},"Take Our Service"))))))},hR="/assets/service1-ODpxpSfM.jpg",dR="/assets/service2-jmyaCW-a.jpg",pR="/assets/service3-CXqu1mtn.jpg",mR="/assets/service4-BlKK2aPZ.jpg",Yk=[{title:"Kitchens & Bathrooms",image:hR,description:"Upgrade your home with custom kitchen and bathroom renovations including cabinets, tiles, lighting, and fixtures.",alt:"Kitchens and Bathrooms"},{title:"Flooring, Painting & Drywall",image:dR,description:"Enhance your space with professional flooring installations, painting services, and drywall finishing.",alt:"Flooring, Painting and Drywall"},{title:"Decks & Outdoor",image:pR,description:"Expand your living space with custom-built decks, patios, and outdoor living Solution.",alt:"Decks and Outdoor"},{title:"Tenant Improvements",image:mR,description:"We provide complete tenant improvement services to optimize your commercial or residential property.",alt:"Tenant Improvements"}],Zk=()=>{const t=Fl(),e=n=>{t(n),window.scrollTo({top:0,behavior:"smooth"})};return Q.createElement("div",{className:"bg-blue-50"},Q.createElement("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 md:px-12 lg:px-16 py-12"},Q.createElement("div",{className:"text-center max-w-4xl mx-auto mb-12"},Q.createElement("p",{className:"text-gray-600 text-2xl font-bold"},"We specialize in a wide range of construction services, including residential, commercial, and industrial projects.")),Q.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8"},Yk.map((n,i)=>Q.createElement("div",{key:i,className:"relative w-full overflow-hidden rounded-2xl shadow-xl group"},Q.createElement("img",{src:n.image,alt:n.alt,className:"w-full h-96 object-cover transition-transform duration-500 group-hover:scale-110"}),Q.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),Q.createElement("div",{className:"absolute bottom-6 left-6 right-6 text-white transition-all duration-300 group-hover:translate-y-10 group-hover:opacity-0"},Q.createElement("h2",{className:"text-2xl font-bold"},n.title)),Q.createElement("div",{className:"absolute inset-0 flex flex-col justify-end p-6 text-white bg-black bg-opacity-70 opacity-0 transition-opacity duration-500 group-hover:opacity-100"},Q.createElement("div",{className:"transition-transform duration-500 transform translate-y-full group-hover:translate-y-0"},Q.createElement("h2",{className:"text-2xl font-bold mb-2"},n.title),Q.createElement("p",{className:"text-sm"},n.description)))))),Q.createElement("div",{className:"flex justify-center mt-8 mx-auto"},Q.createElement(Ml.button,{onClick:()=>e("/services"),className:"px-6 sm:px-8 py-3 sm:py-4 bg-[#163c6e] text-[#ffffff] font-semibold rounded-full shadow-lg relative overflow-hidden group",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300}},Q.createElement("span",{className:"block transition-transform duration-300 group-hover:-translate-y-1"},"View All Services")))))},Kk=({texts:t=["Build fast","Ship faster"],velocity:e=100,className:n=""})=>{const i=Jz(0),s=oe.useRef(null),o=t.map(c=>`${c} `).join(" ");return $z((c,u)=>{const f=e*(u/1e3);if(i.set(i.get()-f),s.current){const h=s.current.scrollWidth/2;Math.abs(i.get())>=h&&i.set(0)}}),Q.createElement("div",{className:"relative overflow-hidden w-full h-32 md:h-48 lg:h-64 flex items-center bg-[#041a36]"},Q.createElement(Ml.div,{ref:s,className:`flex whitespace-nowrap text-center font-bold tracking-wide uppercase ${n}`,style:{x:i}},[0,1].map(c=>Q.createElement("span",{key:c,className:"flex-shrink-0 px-4 text-4xl sm:text-4xl md:text-6xl lg:text-8xl",style:{WebkitTextStroke:"2px #4b912b",color:"transparent",fontFamily:"'Poppins', sans-serif"}},o))))},Qk=()=>Q.createElement("div",null,Q.createElement("div",{className:"py-8 flex items-center justify-center"},Q.createElement(Kk,{texts:["Our Services","Quality Work On Time"],velocity:120}))),Jk="/assets/bg2-B-XsW8YT.jpg",$k="/assets/shape-1-BE0pJtAU.png",eG="/assets/shape-1-BE0pJtAU.png",tG=()=>{const t=Fl(),e=n=>{t(n),window.scrollTo({top:0,behavior:"smooth"})};return Q.createElement("div",{className:"relative w-full min-h-[250px] md:min-h-[300px] overflow-hidden flex items-center justify-center p-8 font-['Inter'] mt-5"},Q.createElement("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${Jk}')`}}),Q.createElement("div",{className:"absolute inset-0 z-10 bg-gradient-to-r from-[#163c6e]/70 to-[#163c6e]/90"}),Q.createElement("img",{src:$k,alt:"Animated shape",className:"absolute left-[5%] top-[20%] w-[500px] z-20 animate-float-slow"}),Q.createElement("img",{src:eG,alt:"Animated shape",className:"absolute right-[8%] bottom-[5%] w-[500px] z-20 animate-float-fast"}),Q.createElement("div",{className:"relative z-30 w-full max-w-7xl flex flex-col md:flex-row items-center md:items-center justify-between text-white text-center md:text-left gap-10"},Q.createElement("div",{className:"flex-1"},Q.createElement("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-extrabold leading-tight"},"Ready to Pull The Trigger?",Q.createElement("br",null),"Get a Quote Today.")),Q.createElement("div",{className:"flex-shrink-0 flex flex-col sm:flex-row items-center justify-center gap-4"},Q.createElement("button",{onClick:()=>e("/contact"),className:"px-8 py-4 bg-white text-[#163c6e] font-bold rounded-full shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#163c6e]"},"Get A Quote"),Q.createElement("button",{onClick:()=>e("/services"),className:"px-8 py-4 bg-transparent text-white font-bold rounded-full border-2 border-white shadow-lg hover:bg-white hover:text-[#163c6e] transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#163c6e]"},"Our Service"))))},nG=()=>Q.createElement(Q.Fragment,null,Q.createElement(Xk,null),Q.createElement(e4,null),Q.createElement(Qk,null),Q.createElement(Zk,null),Q.createElement(tG,null));var nv={},iv={},ou={},rv={},dE;function iG(){return dE||(dE=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(rv)),rv}var sv,pE;function rG(){if(pE)return sv;pE=1;var t="Expected a function",e=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,f=typeof Uh=="object"&&Uh&&Uh.Object===Object&&Uh,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),m=Object.prototype,g=m.toString,v=Math.max,x=Math.min,S=function(){return p.Date.now()};function E(C,A,O){var z,N,P,G,W,I,k=0,j=!1,V=!1,T=!0;if(typeof C!="function")throw new TypeError(t);A=D(A)||0,w(O)&&(j=!!O.leading,V="maxWait"in O,P=V?v(D(O.maxWait)||0,A):P,T="trailing"in O?!!O.trailing:T);function re(me){var Le=z,De=N;return z=N=void 0,k=me,G=C.apply(De,Le),G}function Y(me){return k=me,W=setTimeout(J,A),j?re(me):G}function M(me){var Le=me-I,De=me-k,Ie=A-Le;return V?x(Ie,P-De):Ie}function B(me){var Le=me-I,De=me-k;return I===void 0||Le>=A||Le<0||V&&De>=P}function J(){var me=S();if(B(me))return ie(me);W=setTimeout(J,M(me))}function ie(me){return W=void 0,T&&z?re(me):(z=N=void 0,G)}function ae(){W!==void 0&&clearTimeout(W),k=0,z=I=N=W=void 0}function te(){return W===void 0?G:ie(S())}function pe(){var me=S(),Le=B(me);if(z=arguments,N=this,I=me,Le){if(W===void 0)return Y(I);if(V)return W=setTimeout(J,A),re(I)}return W===void 0&&(W=setTimeout(J,A)),G}return pe.cancel=ae,pe.flush=te,pe}function w(C){var A=typeof C;return!!C&&(A=="object"||A=="function")}function b(C){return!!C&&typeof C=="object"}function R(C){return typeof C=="symbol"||b(C)&&g.call(C)==n}function D(C){if(typeof C=="number")return C;if(R(C))return e;if(w(C)){var A=typeof C.valueOf=="function"?C.valueOf():C;C=w(A)?A+"":A}if(typeof C!="string")return C===0?C:+C;C=C.replace(i,"");var O=o.test(C);return O||c.test(C)?u(C.slice(2),O?2:8):s.test(C)?e:+C}return sv=E,sv}var av={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mE;function Wp(){return mE||(mE=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(o=s(o,i(u)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var u in o)e.call(o,u)&&o[u]&&(c=s(c,u));return c}function s(o,c){return c?o?o+" "+c:o+c:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(av)),av.exports}var He={},ov={},gE;function gR(){return gE||(gE=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Mr());function n(s){return s&&s.__esModule?s:{default:s}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=i})(ov)),ov}var yE;function Mf(){if(yE)return He;yE=1,Object.defineProperty(He,"__esModule",{value:!0}),He.checkSpecKeys=He.checkNavigable=He.changeSlide=He.canUseDOM=He.canGoNext=void 0,He.clamp=h,He.extractObject=void 0,He.filterSettings=re,He.validSettings=He.swipeStart=He.swipeMove=He.swipeEnd=He.slidesOnRight=He.slidesOnLeft=He.slideHandler=He.siblingDirection=He.safePreventDefault=He.lazyStartIndex=He.lazySlidesOnRight=He.lazySlidesOnLeft=He.lazyEndIndex=He.keyHandler=He.initializedState=He.getWidth=He.getTrackLeft=He.getTrackCSS=He.getTrackAnimateCSS=He.getTotalSlides=He.getSwipeDirection=He.getSlideCount=He.getRequiredLazySlides=He.getPreClones=He.getPostClones=He.getOnDemandLazySlides=He.getNavigableIndexes=He.getHeight=void 0;var t=n(Mr()),e=n(gR());function n(Y){return Y&&Y.__esModule?Y:{default:Y}}function i(Y){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},i(Y)}function s(Y,M){var B=Object.keys(Y);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Y);M&&(J=J.filter(function(ie){return Object.getOwnPropertyDescriptor(Y,ie).enumerable})),B.push.apply(B,J)}return B}function o(Y){for(var M=1;M<arguments.length;M++){var B=arguments[M]!=null?arguments[M]:{};M%2?s(Object(B),!0).forEach(function(J){c(Y,J,B[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(B)):s(Object(B)).forEach(function(J){Object.defineProperty(Y,J,Object.getOwnPropertyDescriptor(B,J))})}return Y}function c(Y,M,B){return(M=u(M))in Y?Object.defineProperty(Y,M,{value:B,enumerable:!0,configurable:!0,writable:!0}):Y[M]=B,Y}function u(Y){var M=f(Y,"string");return i(M)=="symbol"?M:M+""}function f(Y,M){if(i(Y)!="object"||!Y)return Y;var B=Y[Symbol.toPrimitive];if(B!==void 0){var J=B.call(Y,M);if(i(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(Y)}function h(Y,M,B){return Math.max(M,Math.min(Y,B))}var p=He.safePreventDefault=function(M){var B=["onTouchStart","onTouchMove","onWheel"];B.includes(M._reactName)||M.preventDefault()},m=He.getOnDemandLazySlides=function(M){for(var B=[],J=g(M),ie=v(M),ae=J;ae<ie;ae++)M.lazyLoadedList.indexOf(ae)<0&&B.push(ae);return B};He.getRequiredLazySlides=function(M){for(var B=[],J=g(M),ie=v(M),ae=J;ae<ie;ae++)B.push(ae);return B};var g=He.lazyStartIndex=function(M){return M.currentSlide-x(M)},v=He.lazyEndIndex=function(M){return M.currentSlide+S(M)},x=He.lazySlidesOnLeft=function(M){return M.centerMode?Math.floor(M.slidesToShow/2)+(parseInt(M.centerPadding)>0?1:0):0},S=He.lazySlidesOnRight=function(M){return M.centerMode?Math.floor((M.slidesToShow-1)/2)+1+(parseInt(M.centerPadding)>0?1:0):M.slidesToShow},E=He.getWidth=function(M){return M&&M.offsetWidth||0},w=He.getHeight=function(M){return M&&M.offsetHeight||0},b=He.getSwipeDirection=function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J,ie,ae,te;return J=M.startX-M.curX,ie=M.startY-M.curY,ae=Math.atan2(ie,J),te=Math.round(ae*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":B===!0?te>=35&&te<=135?"up":"down":"vertical"},R=He.canGoNext=function(M){var B=!0;return M.infinite||(M.centerMode&&M.currentSlide>=M.slideCount-1||M.slideCount<=M.slidesToShow||M.currentSlide>=M.slideCount-M.slidesToShow)&&(B=!1),B};He.extractObject=function(M,B){var J={};return B.forEach(function(ie){return J[ie]=M[ie]}),J},He.initializedState=function(M){var B=t.default.Children.count(M.children),J=M.listRef,ie=Math.ceil(E(J)),ae=M.trackRef&&M.trackRef.node,te=Math.ceil(E(ae)),pe;if(M.vertical)pe=ie;else{var me=M.centerMode&&parseInt(M.centerPadding)*2;typeof M.centerPadding=="string"&&M.centerPadding.slice(-1)==="%"&&(me*=ie/100),pe=Math.ceil((ie-me)/M.slidesToShow)}var Le=J&&w(J.querySelector('[data-index="0"]')),De=Le*M.slidesToShow,Ie=M.currentSlide===void 0?M.initialSlide:M.currentSlide;M.rtl&&M.currentSlide===void 0&&(Ie=B-1-M.initialSlide);var Ue=M.lazyLoadedList||[],xe=m(o(o({},M),{},{currentSlide:Ie,lazyLoadedList:Ue}));Ue=Ue.concat(xe);var Ee={slideCount:B,slideWidth:pe,listWidth:ie,trackWidth:te,currentSlide:Ie,slideHeight:Le,listHeight:De,lazyLoadedList:Ue};return M.autoplaying===null&&M.autoplay&&(Ee.autoplaying="playing"),Ee},He.slideHandler=function(M){var B=M.waitForAnimate,J=M.animating,ie=M.fade,ae=M.infinite,te=M.index,pe=M.slideCount,me=M.lazyLoad,Le=M.currentSlide,De=M.centerMode,Ie=M.slidesToScroll,Ue=M.slidesToShow,xe=M.useCSS,Ee=M.lazyLoadedList;if(B&&J)return{};var Se=te,Ne,Oe,q,Z={},Te={},F=ae?te:h(te,0,pe-1);if(ie){if(!ae&&(te<0||te>=pe))return{};te<0?Se=te+pe:te>=pe&&(Se=te-pe),me&&Ee.indexOf(Se)<0&&(Ee=Ee.concat(Se)),Z={animating:!0,currentSlide:Se,lazyLoadedList:Ee,targetSlide:Se},Te={animating:!1,targetSlide:Se}}else Ne=Se,Se<0?(Ne=Se+pe,ae?pe%Ie!==0&&(Ne=pe-pe%Ie):Ne=0):!R(M)&&Se>Le?Se=Ne=Le:De&&Se>=pe?(Se=ae?pe:pe-1,Ne=ae?0:pe-1):Se>=pe&&(Ne=Se-pe,ae?pe%Ie!==0&&(Ne=0):Ne=pe-Ue),!ae&&Se+Ue>=pe&&(Ne=pe-Ue),Oe=P(o(o({},M),{},{slideIndex:Se})),q=P(o(o({},M),{},{slideIndex:Ne})),ae||(Oe===q&&(Se=Ne),Oe=q),me&&(Ee=Ee.concat(m(o(o({},M),{},{currentSlide:Se})))),xe?(Z={animating:!0,currentSlide:Ne,trackStyle:N(o(o({},M),{},{left:Oe})),lazyLoadedList:Ee,targetSlide:F},Te={animating:!1,currentSlide:Ne,trackStyle:z(o(o({},M),{},{left:q})),swipeLeft:null,targetSlide:F}):Z={currentSlide:Ne,trackStyle:z(o(o({},M),{},{left:q})),lazyLoadedList:Ee,targetSlide:F};return{state:Z,nextState:Te}},He.changeSlide=function(M,B){var J,ie,ae,te,pe,me=M.slidesToScroll,Le=M.slidesToShow,De=M.slideCount,Ie=M.currentSlide,Ue=M.targetSlide,xe=M.lazyLoad,Ee=M.infinite;if(te=De%me!==0,J=te?0:(De-Ie)%me,B.message==="previous")ae=J===0?me:Le-J,pe=Ie-ae,xe&&!Ee&&(ie=Ie-ae,pe=ie===-1?De-1:ie),Ee||(pe=Ue-me);else if(B.message==="next")ae=J===0?me:J,pe=Ie+ae,xe&&!Ee&&(pe=(Ie+me)%De+J),Ee||(pe=Ue+me);else if(B.message==="dots")pe=B.index*B.slidesToScroll;else if(B.message==="children"){if(pe=B.index,Ee){var Se=k(o(o({},M),{},{targetSlide:pe}));pe>B.currentSlide&&Se==="left"?pe=pe-De:pe<B.currentSlide&&Se==="right"&&(pe=pe+De)}}else B.message==="index"&&(pe=Number(B.index));return pe},He.keyHandler=function(M,B,J){return M.target.tagName.match("TEXTAREA|INPUT|SELECT")||!B?"":M.keyCode===37?J?"next":"previous":M.keyCode===39?J?"previous":"next":""},He.swipeStart=function(M,B,J){return M.target.tagName==="IMG"&&p(M),!B||!J&&M.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:M.touches?M.touches[0].pageX:M.clientX,startY:M.touches?M.touches[0].pageY:M.clientY,curX:M.touches?M.touches[0].pageX:M.clientX,curY:M.touches?M.touches[0].pageY:M.clientY}}},He.swipeMove=function(M,B){var J=B.scrolling,ie=B.animating,ae=B.vertical,te=B.swipeToSlide,pe=B.verticalSwiping,me=B.rtl,Le=B.currentSlide,De=B.edgeFriction,Ie=B.edgeDragged,Ue=B.onEdge,xe=B.swiped,Ee=B.swiping,Se=B.slideCount,Ne=B.slidesToScroll,Oe=B.infinite,q=B.touchObject,Z=B.swipeEvent,Te=B.listHeight,F=B.listWidth;if(!J){if(ie)return p(M);ae&&te&&pe&&p(M);var U,ee={},he=P(B);q.curX=M.touches?M.touches[0].pageX:M.clientX,q.curY=M.touches?M.touches[0].pageY:M.clientY,q.swipeLength=Math.round(Math.sqrt(Math.pow(q.curX-q.startX,2)));var ge=Math.round(Math.sqrt(Math.pow(q.curY-q.startY,2)));if(!pe&&!Ee&&ge>10)return{scrolling:!0};pe&&(q.swipeLength=ge);var le=(me?-1:1)*(q.curX>q.startX?1:-1);pe&&(le=q.curY>q.startY?1:-1);var _e=Math.ceil(Se/Ne),Re=b(B.touchObject,pe),ze=q.swipeLength;return Oe||(Le===0&&(Re==="right"||Re==="down")||Le+1>=_e&&(Re==="left"||Re==="up")||!R(B)&&(Re==="left"||Re==="up"))&&(ze=q.swipeLength*De,Ie===!1&&Ue&&(Ue(Re),ee.edgeDragged=!0)),!xe&&Z&&(Z(Re),ee.swiped=!0),ae?U=he+ze*(Te/F)*le:me?U=he-ze*le:U=he+ze*le,pe&&(U=he+ze*le),ee=o(o({},ee),{},{touchObject:q,swipeLeft:U,trackStyle:z(o(o({},B),{},{left:U}))}),Math.abs(q.curX-q.startX)<Math.abs(q.curY-q.startY)*.8||q.swipeLength>10&&(ee.swiping=!0,p(M)),ee}},He.swipeEnd=function(M,B){var J=B.dragging,ie=B.swipe,ae=B.touchObject,te=B.listWidth,pe=B.touchThreshold,me=B.verticalSwiping,Le=B.listHeight,De=B.swipeToSlide,Ie=B.scrolling,Ue=B.onSwipe,xe=B.targetSlide,Ee=B.currentSlide,Se=B.infinite;if(!J)return ie&&p(M),{};var Ne=me?Le/pe:te/pe,Oe=b(ae,me),q={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ie||!ae.swipeLength)return q;if(ae.swipeLength>Ne){p(M),Ue&&Ue(Oe);var Z,Te,F=Se?Ee:xe;switch(Oe){case"left":case"up":Te=F+A(B),Z=De?C(B,Te):Te,q.currentDirection=0;break;case"right":case"down":Te=F-A(B),Z=De?C(B,Te):Te,q.currentDirection=1;break;default:Z=F}q.triggerSlideHandler=Z}else{var U=P(B);q.trackStyle=N(o(o({},B),{},{left:U}))}return q};var D=He.getNavigableIndexes=function(M){for(var B=M.infinite?M.slideCount*2:M.slideCount,J=M.infinite?M.slidesToShow*-1:0,ie=M.infinite?M.slidesToShow*-1:0,ae=[];J<B;)ae.push(J),J=ie+M.slidesToScroll,ie+=Math.min(M.slidesToScroll,M.slidesToShow);return ae},C=He.checkNavigable=function(M,B){var J=D(M),ie=0;if(B>J[J.length-1])B=J[J.length-1];else for(var ae in J){if(B<J[ae]){B=ie;break}ie=J[ae]}return B},A=He.getSlideCount=function(M){var B=M.centerMode?M.slideWidth*Math.floor(M.slidesToShow/2):0;if(M.swipeToSlide){var J,ie=M.listRef,ae=ie.querySelectorAll&&ie.querySelectorAll(".slick-slide")||[];if(Array.from(ae).every(function(me){if(M.vertical){if(me.offsetTop+w(me)/2>M.swipeLeft*-1)return J=me,!1}else if(me.offsetLeft-B+E(me)/2>M.swipeLeft*-1)return J=me,!1;return!0}),!J)return 0;var te=M.rtl===!0?M.slideCount-M.currentSlide:M.currentSlide,pe=Math.abs(J.dataset.index-te)||1;return pe}else return M.slidesToScroll},O=He.checkSpecKeys=function(M,B){return B.reduce(function(J,ie){return J&&M.hasOwnProperty(ie)},!0)?null:console.error("Keys Missing:",M)},z=He.getTrackCSS=function(M){O(M,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var B,J;if(!M.vertical)B=I(M)*M.slideWidth;else{var ie=M.unslick?M.slideCount:M.slideCount+2*M.slidesToShow;J=ie*M.slideHeight}var ae={opacity:1,transition:"",WebkitTransition:""};if(M.useTransform){var te=M.vertical?"translate3d(0px, "+M.left+"px, 0px)":"translate3d("+M.left+"px, 0px, 0px)",pe=M.vertical?"translate3d(0px, "+M.left+"px, 0px)":"translate3d("+M.left+"px, 0px, 0px)",me=M.vertical?"translateY("+M.left+"px)":"translateX("+M.left+"px)";ae=o(o({},ae),{},{WebkitTransform:te,transform:pe,msTransform:me})}else M.vertical?ae.top=M.left:ae.left=M.left;return M.fade&&(ae={opacity:1}),B&&(ae.width=B),J&&(ae.height=J),window&&!window.addEventListener&&window.attachEvent&&(M.vertical?ae.marginTop=M.left+"px":ae.marginLeft=M.left+"px"),ae},N=He.getTrackAnimateCSS=function(M){O(M,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var B=z(M);return M.useTransform?(B.WebkitTransition="-webkit-transform "+M.speed+"ms "+M.cssEase,B.transition="transform "+M.speed+"ms "+M.cssEase):M.vertical?B.transition="top "+M.speed+"ms "+M.cssEase:B.transition="left "+M.speed+"ms "+M.cssEase,B},P=He.getTrackLeft=function(M){if(M.unslick)return 0;O(M,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var B=M.slideIndex,J=M.trackRef,ie=M.infinite,ae=M.centerMode,te=M.slideCount,pe=M.slidesToShow,me=M.slidesToScroll,Le=M.slideWidth,De=M.listWidth,Ie=M.variableWidth,Ue=M.slideHeight,xe=M.fade,Ee=M.vertical,Se=0,Ne,Oe,q=0;if(xe||M.slideCount===1)return 0;var Z=0;if(ie?(Z=-G(M),te%me!==0&&B+me>te&&(Z=-(B>te?pe-(B-te):te%me)),ae&&(Z+=parseInt(pe/2))):(te%me!==0&&B+me>te&&(Z=pe-te%me),ae&&(Z=parseInt(pe/2))),Se=Z*Le,q=Z*Ue,Ee?Ne=B*Ue*-1+q:Ne=B*Le*-1+Se,Ie===!0){var Te,F=J&&J.node;if(Te=B+G(M),Oe=F&&F.childNodes[Te],Ne=Oe?Oe.offsetLeft*-1:0,ae===!0){Te=ie?B+G(M):B,Oe=F&&F.children[Te],Ne=0;for(var U=0;U<Te;U++)Ne-=F&&F.children[U]&&F.children[U].offsetWidth;Ne-=parseInt(M.centerPadding),Ne+=Oe&&(De-Oe.offsetWidth)/2}}return Ne},G=He.getPreClones=function(M){return M.unslick||!M.infinite?0:M.variableWidth?M.slideCount:M.slidesToShow+(M.centerMode?1:0)},W=He.getPostClones=function(M){return M.unslick||!M.infinite?0:M.variableWidth?M.slideCount:M.slidesToShow+(M.centerMode?1:0)},I=He.getTotalSlides=function(M){return M.slideCount===1?1:G(M)+M.slideCount+W(M)},k=He.siblingDirection=function(M){return M.targetSlide>M.currentSlide?M.targetSlide>M.currentSlide+j(M)?"left":"right":M.targetSlide<M.currentSlide-V(M)?"right":"left"},j=He.slidesOnRight=function(M){var B=M.slidesToShow,J=M.centerMode,ie=M.rtl,ae=M.centerPadding;if(J){var te=(B-1)/2+1;return parseInt(ae)>0&&(te+=1),ie&&B%2===0&&(te+=1),te}return ie?0:B-1},V=He.slidesOnLeft=function(M){var B=M.slidesToShow,J=M.centerMode,ie=M.rtl,ae=M.centerPadding;if(J){var te=(B-1)/2+1;return parseInt(ae)>0&&(te+=1),!ie&&B%2===0&&(te+=1),te}return ie?B-1:0};He.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=He.validSettings=Object.keys(e.default);function re(Y){return T.reduce(function(M,B){return Y.hasOwnProperty(B)&&(M[B]=Y[B]),M},{})}return He}var lu={},vE;function sG(){if(vE)return lu;vE=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.Track=void 0;var t=i(Mr()),e=i(Wp()),n=Mf();function i(N){return N&&N.__esModule?N:{default:N}}function s(N){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},s(N)}function o(){return o=Object.assign?Object.assign.bind():function(N){for(var P=1;P<arguments.length;P++){var G=arguments[P];for(var W in G)({}).hasOwnProperty.call(G,W)&&(N[W]=G[W])}return N},o.apply(null,arguments)}function c(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}function u(N,P){for(var G=0;G<P.length;G++){var W=P[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(N,R(W.key),W)}}function f(N,P,G){return P&&u(N.prototype,P),Object.defineProperty(N,"prototype",{writable:!1}),N}function h(N,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(P&&P.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),P&&p(N,P)}function p(N,P){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,W){return G.__proto__=W,G},p(N,P)}function m(N){var P=x();return function(){var G,W=S(N);if(P){var I=S(this).constructor;G=Reflect.construct(W,arguments,I)}else G=W.apply(this,arguments);return g(this,G)}}function g(N,P){if(P&&(s(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(N)}function v(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function x(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!N})()}function S(N){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},S(N)}function E(N,P){var G=Object.keys(N);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(N);P&&(W=W.filter(function(I){return Object.getOwnPropertyDescriptor(N,I).enumerable})),G.push.apply(G,W)}return G}function w(N){for(var P=1;P<arguments.length;P++){var G=arguments[P]!=null?arguments[P]:{};P%2?E(Object(G),!0).forEach(function(W){b(N,W,G[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(G)):E(Object(G)).forEach(function(W){Object.defineProperty(N,W,Object.getOwnPropertyDescriptor(G,W))})}return N}function b(N,P,G){return(P=R(P))in N?Object.defineProperty(N,P,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[P]=G,N}function R(N){var P=D(N,"string");return s(P)=="symbol"?P:P+""}function D(N,P){if(s(N)!="object"||!N)return N;var G=N[Symbol.toPrimitive];if(G!==void 0){var W=G.call(N,P);if(s(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(N)}var C=function(P){var G,W,I,k,j;P.rtl?j=P.slideCount-1-P.index:j=P.index,I=j<0||j>=P.slideCount,P.centerMode?(k=Math.floor(P.slidesToShow/2),W=(j-P.currentSlide)%P.slideCount===0,j>P.currentSlide-k-1&&j<=P.currentSlide+k&&(G=!0)):G=P.currentSlide<=j&&j<P.currentSlide+P.slidesToShow;var V;P.targetSlide<0?V=P.targetSlide+P.slideCount:P.targetSlide>=P.slideCount?V=P.targetSlide-P.slideCount:V=P.targetSlide;var T=j===V;return{"slick-slide":!0,"slick-active":G,"slick-center":W,"slick-cloned":I,"slick-current":T}},A=function(P){var G={};return(P.variableWidth===void 0||P.variableWidth===!1)&&(G.width=P.slideWidth),P.fade&&(G.position="relative",P.vertical?G.top=-P.index*parseInt(P.slideHeight):G.left=-P.index*parseInt(P.slideWidth),G.opacity=P.currentSlide===P.index?1:0,G.zIndex=P.currentSlide===P.index?999:998,P.useCSS&&(G.transition="opacity "+P.speed+"ms "+P.cssEase+", visibility "+P.speed+"ms "+P.cssEase)),G},O=function(P,G){return P.key||G},z=function(P){var G,W=[],I=[],k=[],j=t.default.Children.count(P.children),V=(0,n.lazyStartIndex)(P),T=(0,n.lazyEndIndex)(P);return t.default.Children.forEach(P.children,function(re,Y){var M,B={message:"children",index:Y,slidesToScroll:P.slidesToScroll,currentSlide:P.currentSlide};!P.lazyLoad||P.lazyLoad&&P.lazyLoadedList.indexOf(Y)>=0?M=re:M=t.default.createElement("div",null);var J=A(w(w({},P),{},{index:Y})),ie=M.props.className||"",ae=C(w(w({},P),{},{index:Y}));if(W.push(t.default.cloneElement(M,{key:"original"+O(M,Y),"data-index":Y,className:(0,e.default)(ae,ie),tabIndex:"-1","aria-hidden":!ae["slick-active"],style:w(w({outline:"none"},M.props.style||{}),J),onClick:function(me){M.props&&M.props.onClick&&M.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(B)}})),P.infinite&&j>1&&P.fade===!1&&!P.unslick){var te=j-Y;te<=(0,n.getPreClones)(P)&&(G=-te,G>=V&&(M=re),ae=C(w(w({},P),{},{index:G})),I.push(t.default.cloneElement(M,{key:"precloned"+O(M,G),"data-index":G,tabIndex:"-1",className:(0,e.default)(ae,ie),"aria-hidden":!ae["slick-active"],style:w(w({},M.props.style||{}),J),onClick:function(me){M.props&&M.props.onClick&&M.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(B)}}))),Y<(0,n.getPostClones)(P)&&(G=j+Y,G<T&&(M=re),ae=C(w(w({},P),{},{index:G})),k.push(t.default.cloneElement(M,{key:"postcloned"+O(M,G),"data-index":G,tabIndex:"-1",className:(0,e.default)(ae,ie),"aria-hidden":!ae["slick-active"],style:w(w({},M.props.style||{}),J),onClick:function(me){M.props&&M.props.onClick&&M.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(B)}})))}}),P.rtl?I.concat(W,k).reverse():I.concat(W,k)};return lu.Track=(function(N){h(G,N);var P=m(G);function G(){var W;c(this,G);for(var I=arguments.length,k=new Array(I),j=0;j<I;j++)k[j]=arguments[j];return W=P.call.apply(P,[this].concat(k)),b(v(W),"node",null),b(v(W),"handleRef",function(V){W.node=V}),W}return f(G,[{key:"render",value:function(){var I=z(this.props),k=this.props,j=k.onMouseEnter,V=k.onMouseOver,T=k.onMouseLeave,re={onMouseEnter:j,onMouseOver:V,onMouseLeave:T};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},re),I)}}]),G})(t.default.PureComponent),lu}var cu={},xE;function aG(){if(xE)return cu;xE=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(C)}Object.defineProperty(cu,"__esModule",{value:!0}),cu.Dots=void 0;var e=s(Mr()),n=s(Wp()),i=Mf();function s(C){return C&&C.__esModule?C:{default:C}}function o(C,A){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(C);A&&(z=z.filter(function(N){return Object.getOwnPropertyDescriptor(C,N).enumerable})),O.push.apply(O,z)}return O}function c(C){for(var A=1;A<arguments.length;A++){var O=arguments[A]!=null?arguments[A]:{};A%2?o(Object(O),!0).forEach(function(z){u(C,z,O[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(z){Object.defineProperty(C,z,Object.getOwnPropertyDescriptor(O,z))})}return C}function u(C,A,O){return(A=m(A))in C?Object.defineProperty(C,A,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[A]=O,C}function f(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function h(C,A){for(var O=0;O<A.length;O++){var z=A[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,m(z.key),z)}}function p(C,A,O){return A&&h(C.prototype,A),Object.defineProperty(C,"prototype",{writable:!1}),C}function m(C){var A=g(C,"string");return t(A)=="symbol"?A:A+""}function g(C,A){if(t(C)!="object"||!C)return C;var O=C[Symbol.toPrimitive];if(O!==void 0){var z=O.call(C,A);if(t(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function v(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),A&&x(C,A)}function x(C,A){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,z){return O.__proto__=z,O},x(C,A)}function S(C){var A=b();return function(){var O,z=R(C);if(A){var N=R(this).constructor;O=Reflect.construct(z,arguments,N)}else O=z.apply(this,arguments);return E(this,O)}}function E(C,A){if(A&&(t(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function b(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!C})()}function R(C){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},R(C)}var D=function(A){var O;return A.infinite?O=Math.ceil(A.slideCount/A.slidesToScroll):O=Math.ceil((A.slideCount-A.slidesToShow)/A.slidesToScroll)+1,O};return cu.Dots=(function(C){v(O,C);var A=S(O);function O(){return f(this,O),A.apply(this,arguments)}return p(O,[{key:"clickHandler",value:function(N,P){P.preventDefault(),this.props.clickHandler(N)}},{key:"render",value:function(){for(var N=this.props,P=N.onMouseEnter,G=N.onMouseOver,W=N.onMouseLeave,I=N.infinite,k=N.slidesToScroll,j=N.slidesToShow,V=N.slideCount,T=N.currentSlide,re=D({slideCount:V,slidesToScroll:k,slidesToShow:j,infinite:I}),Y={onMouseEnter:P,onMouseOver:G,onMouseLeave:W},M=[],B=0;B<re;B++){var J=(B+1)*k-1,ie=I?J:(0,i.clamp)(J,0,V-1),ae=ie-(k-1),te=I?ae:(0,i.clamp)(ae,0,V-1),pe=(0,n.default)({"slick-active":I?T>=te&&T<=ie:T===te}),me={message:"dots",index:B,slidesToScroll:k,currentSlide:T},Le=this.clickHandler.bind(this,me);M=M.concat(e.default.createElement("li",{key:B,className:pe},e.default.cloneElement(this.props.customPaging(B),{onClick:Le})))}return e.default.cloneElement(this.props.appendDots(M),c({className:this.props.dotsClass},Y))}}]),O})(e.default.PureComponent),cu}var Oa={},bE;function oG(){if(bE)return Oa;bE=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(C)}Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.PrevArrow=Oa.NextArrow=void 0;var e=s(Mr()),n=s(Wp()),i=Mf();function s(C){return C&&C.__esModule?C:{default:C}}function o(){return o=Object.assign?Object.assign.bind():function(C){for(var A=1;A<arguments.length;A++){var O=arguments[A];for(var z in O)({}).hasOwnProperty.call(O,z)&&(C[z]=O[z])}return C},o.apply(null,arguments)}function c(C,A){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(C);A&&(z=z.filter(function(N){return Object.getOwnPropertyDescriptor(C,N).enumerable})),O.push.apply(O,z)}return O}function u(C){for(var A=1;A<arguments.length;A++){var O=arguments[A]!=null?arguments[A]:{};A%2?c(Object(O),!0).forEach(function(z){f(C,z,O[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(O)):c(Object(O)).forEach(function(z){Object.defineProperty(C,z,Object.getOwnPropertyDescriptor(O,z))})}return C}function f(C,A,O){return(A=g(A))in C?Object.defineProperty(C,A,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[A]=O,C}function h(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function p(C,A){for(var O=0;O<A.length;O++){var z=A[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,g(z.key),z)}}function m(C,A,O){return A&&p(C.prototype,A),Object.defineProperty(C,"prototype",{writable:!1}),C}function g(C){var A=v(C,"string");return t(A)=="symbol"?A:A+""}function v(C,A){if(t(C)!="object"||!C)return C;var O=C[Symbol.toPrimitive];if(O!==void 0){var z=O.call(C,A);if(t(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function x(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),A&&S(C,A)}function S(C,A){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,z){return O.__proto__=z,O},S(C,A)}function E(C){var A=R();return function(){var O,z=D(C);if(A){var N=D(this).constructor;O=Reflect.construct(z,arguments,N)}else O=z.apply(this,arguments);return w(this,O)}}function w(C,A){if(A&&(t(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(C)}function b(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function R(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!C})()}function D(C){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},D(C)}return Oa.PrevArrow=(function(C){x(O,C);var A=E(O);function O(){return h(this,O),A.apply(this,arguments)}return m(O,[{key:"clickHandler",value:function(N,P){P&&P.preventDefault(),this.props.clickHandler(N,P)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-prev":!0},P=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(N["slick-disabled"]=!0,P=null);var G={key:"0","data-role":"none",className:(0,n.default)(N),style:{display:"block"},onClick:P},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.prevArrow?I=e.default.cloneElement(this.props.prevArrow,u(u({},G),W)):I=e.default.createElement("button",o({key:"0",type:"button"},G)," ","Previous"),I}}]),O})(e.default.PureComponent),Oa.NextArrow=(function(C){x(O,C);var A=E(O);function O(){return h(this,O),A.apply(this,arguments)}return m(O,[{key:"clickHandler",value:function(N,P){P&&P.preventDefault(),this.props.clickHandler(N,P)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-next":!0},P=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(N["slick-disabled"]=!0,P=null);var G={key:"1","data-role":"none",className:(0,n.default)(N),style:{display:"block"},onClick:P},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.nextArrow?I=e.default.cloneElement(this.props.nextArrow,u(u({},G),W)):I=e.default.createElement("button",o({key:"1",type:"button"},G)," ","Next"),I}}]),O})(e.default.PureComponent),Oa}var yR=(function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(s,o){return s[0]===n?(i=o,!0):!1}),i}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),s=this.__entries__[i];return s&&s[1]},e.prototype.set=function(n,i){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,s=t(i,n);~s&&i.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var s=0,o=this.__entries__;s<o.length;s++){var c=o[s];n.call(i,c[1],c[0])}},e})()})(),b0=typeof window<"u"&&typeof document<"u"&&window.document===document,wp=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),lG=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(wp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),cG=2;function uG(t,e){var n=!1,i=!1,s=0;function o(){n&&(n=!1,t()),i&&u()}function c(){lG(o)}function u(){var f=Date.now();if(n){if(f-s<cG)return;i=!0}else n=!0,i=!1,setTimeout(c,e);s=f}return u}var fG=20,hG=["top","right","bottom","left","width","height","size","weight"],dG=typeof MutationObserver<"u",pG=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uG(this.refresh.bind(this),fG)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!b0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),dG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!b0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,s=hG.some(function(o){return!!~i.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),vR=(function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var s=i[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t}),Hl=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||wp}),xR=qp(0,0,0,0);function Sp(t){return parseFloat(t)||0}function _E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,s){var o=t["border-"+s+"-width"];return i+Sp(o)},0)}function mG(t){for(var e=["top","right","bottom","left"],n={},i=0,s=e;i<s.length;i++){var o=s[i],c=t["padding-"+o];n[o]=Sp(c)}return n}function gG(t){var e=t.getBBox();return qp(0,0,e.width,e.height)}function yG(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return xR;var i=Hl(t).getComputedStyle(t),s=mG(i),o=s.left+s.right,c=s.top+s.bottom,u=Sp(i.width),f=Sp(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+o)!==e&&(u-=_E(i,"left","right")+o),Math.round(f+c)!==n&&(f-=_E(i,"top","bottom")+c)),!xG(t)){var h=Math.round(u+o)-e,p=Math.round(f+c)-n;Math.abs(h)!==1&&(u-=h),Math.abs(p)!==1&&(f-=p)}return qp(s.left,s.top,u,f)}var vG=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Hl(t).SVGGraphicsElement}:function(t){return t instanceof Hl(t).SVGElement&&typeof t.getBBox=="function"}})();function xG(t){return t===Hl(t).document.documentElement}function bG(t){return b0?vG(t)?gG(t):yG(t):xR}function _G(t){var e=t.x,n=t.y,i=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(o.prototype);return vR(c,{x:e,y:n,width:i,height:s,top:n,right:e+i,bottom:s+n,left:e}),c}function qp(t,e,n,i){return{x:t,y:e,width:n,height:i}}var wG=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=bG(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),SG=(function(){function t(e,n){var i=_G(n);vR(this,{target:e,contentRect:i})}return t})(),MG=(function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new yR,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new wG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new SG(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),bR=typeof WeakMap<"u"?new WeakMap:new yR,_R=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=pG.getInstance(),i=new MG(e,n,this);bR.set(this,i)}return t})();["observe","unobserve","disconnect"].forEach(function(t){_R.prototype[t]=function(){var e;return(e=bR.get(this))[t].apply(e,arguments)}});var EG=(function(){return typeof wp.ResizeObserver<"u"?wp.ResizeObserver:_R})();const TG=Object.freeze(Object.defineProperty({__proto__:null,default:EG},Symbol.toStringTag,{value:"Module"})),AG=FL(TG);var wE;function CG(){if(wE)return ou;wE=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.InnerSlider=void 0;var t=h(Mr()),e=h(iG()),n=h(rG()),i=h(Wp()),s=Mf(),o=sG(),c=aG(),u=oG(),f=h(AG);function h(I){return I&&I.__esModule?I:{default:I}}function p(I){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},p(I)}function m(){return m=Object.assign?Object.assign.bind():function(I){for(var k=1;k<arguments.length;k++){var j=arguments[k];for(var V in j)({}).hasOwnProperty.call(j,V)&&(I[V]=j[V])}return I},m.apply(null,arguments)}function g(I,k){if(I==null)return{};var j,V,T=v(I,k);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(I);for(V=0;V<re.length;V++)j=re[V],k.includes(j)||{}.propertyIsEnumerable.call(I,j)&&(T[j]=I[j])}return T}function v(I,k){if(I==null)return{};var j={};for(var V in I)if({}.hasOwnProperty.call(I,V)){if(k.includes(V))continue;j[V]=I[V]}return j}function x(I,k){var j=Object.keys(I);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(I);k&&(V=V.filter(function(T){return Object.getOwnPropertyDescriptor(I,T).enumerable})),j.push.apply(j,V)}return j}function S(I){for(var k=1;k<arguments.length;k++){var j=arguments[k]!=null?arguments[k]:{};k%2?x(Object(j),!0).forEach(function(V){P(I,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(j)):x(Object(j)).forEach(function(V){Object.defineProperty(I,V,Object.getOwnPropertyDescriptor(j,V))})}return I}function E(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function w(I,k){for(var j=0;j<k.length;j++){var V=k[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(I,G(V.key),V)}}function b(I,k,j){return k&&w(I.prototype,k),Object.defineProperty(I,"prototype",{writable:!1}),I}function R(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),k&&D(I,k)}function D(I,k){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,V){return j.__proto__=V,j},D(I,k)}function C(I){var k=z();return function(){var j,V=N(I);if(k){var T=N(this).constructor;j=Reflect.construct(V,arguments,T)}else j=V.apply(this,arguments);return A(this,j)}}function A(I,k){if(k&&(p(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(I)}function O(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function z(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z=function(){return!!I})()}function N(I){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},N(I)}function P(I,k,j){return(k=G(k))in I?Object.defineProperty(I,k,{value:j,enumerable:!0,configurable:!0,writable:!0}):I[k]=j,I}function G(I){var k=W(I,"string");return p(k)=="symbol"?k:k+""}function W(I,k){if(p(I)!="object"||!I)return I;var j=I[Symbol.toPrimitive];if(j!==void 0){var V=j.call(I,k);if(p(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(I)}return ou.InnerSlider=(function(I){R(j,I);var k=C(j);function j(V){var T;E(this,j),T=k.call(this,V),P(O(T),"listRefHandler",function(Y){return T.list=Y}),P(O(T),"trackRefHandler",function(Y){return T.track=Y}),P(O(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var Y=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,s.getHeight)(Y)+"px"}}),P(O(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var Y=(0,s.getOnDemandLazySlides)(S(S({},T.props),T.state));Y.length>0&&(T.setState(function(B){return{lazyLoadedList:B.lazyLoadedList.concat(Y)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Y))}var M=S({listRef:T.list,trackRef:T.track},T.props);T.updateState(M,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new f.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(B){B.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,B.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),P(O(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(Y){return clearTimeout(Y)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),P(O(T),"componentDidUpdate",function(Y){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var M=(0,s.getOnDemandLazySlides)(S(S({},T.props),T.state));M.length>0&&(T.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(M)}}),T.props.onLazyLoad&&T.props.onLazyLoad(M))}T.adaptHeight();var B=S(S({listRef:T.list,trackRef:T.track},T.props),T.state),J=T.didPropsChange(Y);J&&T.updateState(B,J,function(){T.state.currentSlide>=t.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:t.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),P(O(T),"onWindowResized",function(Y){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,n.default)(function(){return T.resizeWindow(Y)},50),T.debouncedResize()}),P(O(T),"resizeWindow",function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,M=!!(T.track&&T.track.node);if(M){var B=S(S({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(B,Y,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),P(O(T),"updateState",function(Y,M,B){var J=(0,s.initializedState)(Y);Y=S(S(S({},Y),J),{},{slideIndex:J.currentSlide});var ie=(0,s.getTrackLeft)(Y);Y=S(S({},Y),{},{left:ie});var ae=(0,s.getTrackCSS)(Y);(M||t.default.Children.count(T.props.children)!==t.default.Children.count(Y.children))&&(J.trackStyle=ae),T.setState(J,B)}),P(O(T),"ssrInit",function(){if(T.props.variableWidth){var Y=0,M=0,B=[],J=(0,s.getPreClones)(S(S(S({},T.props),T.state),{},{slideCount:T.props.children.length})),ie=(0,s.getPostClones)(S(S(S({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(Oe){B.push(Oe.props.style.width),Y+=Oe.props.style.width});for(var ae=0;ae<J;ae++)M+=B[B.length-1-ae],Y+=B[B.length-1-ae];for(var te=0;te<ie;te++)Y+=B[te];for(var pe=0;pe<T.state.currentSlide;pe++)M+=B[pe];var me={width:Y+"px",left:-M+"px"};if(T.props.centerMode){var Le="".concat(B[T.state.currentSlide],"px");me.left="calc(".concat(me.left," + (100% - ").concat(Le,") / 2 ) ")}return{trackStyle:me}}var De=t.default.Children.count(T.props.children),Ie=S(S(S({},T.props),T.state),{},{slideCount:De}),Ue=(0,s.getPreClones)(Ie)+(0,s.getPostClones)(Ie)+De,xe=100/T.props.slidesToShow*Ue,Ee=100/Ue,Se=-Ee*((0,s.getPreClones)(Ie)+T.state.currentSlide)*xe/100;T.props.centerMode&&(Se+=(100-Ee*xe/100)/2);var Ne={width:xe+"%",left:Se+"%"};return{slideWidth:Ee+"%",trackStyle:Ne}}),P(O(T),"checkImagesLoad",function(){var Y=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],M=Y.length,B=0;Array.prototype.forEach.call(Y,function(J){var ie=function(){return++B&&B>=M&&T.onWindowResized()};if(!J.onclick)J.onclick=function(){return J.parentNode.focus()};else{var ae=J.onclick;J.onclick=function(te){ae(te),J.parentNode.focus()}}J.onload||(T.props.lazyLoad?J.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(J.onload=ie,J.onerror=function(){ie(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),P(O(T),"progressiveLazyLoad",function(){for(var Y=[],M=S(S({},T.props),T.state),B=T.state.currentSlide;B<T.state.slideCount+(0,s.getPostClones)(M);B++)if(T.state.lazyLoadedList.indexOf(B)<0){Y.push(B);break}for(var J=T.state.currentSlide-1;J>=-(0,s.getPreClones)(M);J--)if(T.state.lazyLoadedList.indexOf(J)<0){Y.push(J);break}Y.length>0?(T.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(Y)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Y)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),P(O(T),"slideHandler",function(Y){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=T.props,J=B.asNavFor,ie=B.beforeChange,ae=B.onLazyLoad,te=B.speed,pe=B.afterChange,me=T.state.currentSlide,Le=(0,s.slideHandler)(S(S(S({index:Y},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!M})),De=Le.state,Ie=Le.nextState;if(De){ie&&ie(me,De.currentSlide);var Ue=De.lazyLoadedList.filter(function(xe){return T.state.lazyLoadedList.indexOf(xe)<0});ae&&Ue.length>0&&ae(Ue),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),pe&&pe(me),delete T.animationEndCallback),T.setState(De,function(){J&&T.asNavForIndex!==Y&&(T.asNavForIndex=Y,J.innerSlider.slideHandler(Y)),Ie&&(T.animationEndCallback=setTimeout(function(){var xe=Ie.animating,Ee=g(Ie,["animating"]);T.setState(Ee,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:xe})},10)),pe&&pe(De.currentSlide),delete T.animationEndCallback})},te))})}}),P(O(T),"changeSlide",function(Y){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=S(S({},T.props),T.state),J=(0,s.changeSlide)(B,Y);if(!(J!==0&&!J)&&(M===!0?T.slideHandler(J,M):T.slideHandler(J),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var ie=T.list.querySelectorAll(".slick-current");ie[0]&&ie[0].focus()}}),P(O(T),"clickHandler",function(Y){T.clickable===!1&&(Y.stopPropagation(),Y.preventDefault()),T.clickable=!0}),P(O(T),"keyHandler",function(Y){var M=(0,s.keyHandler)(Y,T.props.accessibility,T.props.rtl);M!==""&&T.changeSlide({message:M})}),P(O(T),"selectHandler",function(Y){T.changeSlide(Y)}),P(O(T),"disableBodyScroll",function(){var Y=function(B){B=B||window.event,B.preventDefault&&B.preventDefault(),B.returnValue=!1};window.ontouchmove=Y}),P(O(T),"enableBodyScroll",function(){window.ontouchmove=null}),P(O(T),"swipeStart",function(Y){T.props.verticalSwiping&&T.disableBodyScroll();var M=(0,s.swipeStart)(Y,T.props.swipe,T.props.draggable);M!==""&&T.setState(M)}),P(O(T),"swipeMove",function(Y){var M=(0,s.swipeMove)(Y,S(S(S({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));M&&(M.swiping&&(T.clickable=!1),T.setState(M))}),P(O(T),"swipeEnd",function(Y){var M=(0,s.swipeEnd)(Y,S(S(S({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(M){var B=M.triggerSlideHandler;delete M.triggerSlideHandler,T.setState(M),B!==void 0&&(T.slideHandler(B),T.props.verticalSwiping&&T.enableBodyScroll())}}),P(O(T),"touchEnd",function(Y){T.swipeEnd(Y),T.clickable=!0}),P(O(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),P(O(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),P(O(T),"slickGoTo",function(Y){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Y=Number(Y),isNaN(Y))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:Y,currentSlide:T.state.currentSlide},M)},0))}),P(O(T),"play",function(){var Y;if(T.props.rtl)Y=T.state.currentSlide-T.props.slidesToScroll;else if((0,s.canGoNext)(S(S({},T.props),T.state)))Y=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(Y)}),P(O(T),"autoPlay",function(Y){T.autoplayTimer&&clearInterval(T.autoplayTimer);var M=T.state.autoplaying;if(Y==="update"){if(M==="hovered"||M==="focused"||M==="paused")return}else if(Y==="leave"){if(M==="paused"||M==="focused")return}else if(Y==="blur"&&(M==="paused"||M==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),P(O(T),"pause",function(Y){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var M=T.state.autoplaying;Y==="paused"?T.setState({autoplaying:"paused"}):Y==="focused"?(M==="hovered"||M==="playing")&&T.setState({autoplaying:"focused"}):M==="playing"&&T.setState({autoplaying:"hovered"})}),P(O(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),P(O(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),P(O(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),P(O(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),P(O(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),P(O(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),P(O(T),"render",function(){var Y=(0,i.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),M=S(S({},T.props),T.state),B=(0,s.extractObject)(M,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),J=T.props.pauseOnHover;B=S(S({},B),{},{onMouseEnter:J?T.onTrackOver:null,onMouseLeave:J?T.onTrackLeave:null,onMouseOver:J?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var ie;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ae=(0,s.extractObject)(M,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=T.props.pauseOnDotsHover;ae=S(S({},ae),{},{clickHandler:T.changeSlide,onMouseEnter:te?T.onDotsLeave:null,onMouseOver:te?T.onDotsOver:null,onMouseLeave:te?T.onDotsLeave:null}),ie=t.default.createElement(c.Dots,ae)}var pe,me,Le=(0,s.extractObject)(M,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Le.clickHandler=T.changeSlide,T.props.arrows&&(pe=t.default.createElement(u.PrevArrow,Le),me=t.default.createElement(u.NextArrow,Le));var De=null;T.props.vertical&&(De={height:T.state.listHeight});var Ie=null;T.props.vertical===!1?T.props.centerMode===!0&&(Ie={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Ie={padding:T.props.centerPadding+" 0px"});var Ue=S(S({},De),Ie),xe=T.props.touchMove,Ee={className:"slick-list",style:Ue,onClick:T.clickHandler,onMouseDown:xe?T.swipeStart:null,onMouseMove:T.state.dragging&&xe?T.swipeMove:null,onMouseUp:xe?T.swipeEnd:null,onMouseLeave:T.state.dragging&&xe?T.swipeEnd:null,onTouchStart:xe?T.swipeStart:null,onTouchMove:T.state.dragging&&xe?T.swipeMove:null,onTouchEnd:xe?T.touchEnd:null,onTouchCancel:T.state.dragging&&xe?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Se={className:Y,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ee={className:"slick-list"},Se={className:Y,style:T.props.style}),t.default.createElement("div",Se,T.props.unslick?"":pe,t.default.createElement("div",m({ref:T.listRefHandler},Ee),t.default.createElement(o.Track,m({ref:T.trackRefHandler},B),T.props.children)),T.props.unslick?"":me,T.props.unslick?"":ie)}),T.list=null,T.track=null,T.state=S(S({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:t.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var re=T.ssrInit();return T.state=S(S({},T.state),re),T}return b(j,[{key:"didPropsChange",value:function(T){for(var re=!1,Y=0,M=Object.keys(this.props);Y<M.length;Y++){var B=M[Y];if(!T.hasOwnProperty(B)){re=!0;break}if(!(p(T[B])==="object"||typeof T[B]=="function"||isNaN(T[B]))&&T[B]!==this.props[B]){re=!0;break}}return re||t.default.Children.count(this.props.children)!==t.default.Children.count(T.children)}}]),j})(t.default.Component),ou}var lv,SE;function RG(){if(SE)return lv;SE=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return lv=t,lv}var cv,ME;function LG(){if(ME)return cv;ME=1;var t=RG(),e=function(s){var o=/[height|width]$/;return o.test(s)},n=function(s){var o="",c=Object.keys(s);return c.forEach(function(u,f){var h=s[u];u=t(u),e(u)&&typeof h=="number"&&(h=h+"px"),h===!0?o+=u:h===!1?o+="not "+u:o+="("+u+": "+h+")",f<c.length-1&&(o+=" and ")}),o},i=function(s){var o="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(c,u){o+=n(c),u<s.length-1&&(o+=", ")}),o):n(s)};return cv=i,cv}var EE;function OG(){return EE||(EE=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=c(Mr()),n=CG(),i=c(LG()),s=c(gR()),o=Mf();function c(z){return z&&z.__esModule?z:{default:z}}function u(z){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(z)}function f(){return f=Object.assign?Object.assign.bind():function(z){for(var N=1;N<arguments.length;N++){var P=arguments[N];for(var G in P)({}).hasOwnProperty.call(P,G)&&(z[G]=P[G])}return z},f.apply(null,arguments)}function h(z,N){var P=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);N&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(z,W).enumerable})),P.push.apply(P,G)}return P}function p(z){for(var N=1;N<arguments.length;N++){var P=arguments[N]!=null?arguments[N]:{};N%2?h(Object(P),!0).forEach(function(G){C(z,G,P[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(P)):h(Object(P)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(P,G))})}return z}function m(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function g(z,N){for(var P=0;P<N.length;P++){var G=N[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,A(G.key),G)}}function v(z,N,P){return N&&g(z.prototype,N),Object.defineProperty(z,"prototype",{writable:!1}),z}function x(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),N&&S(z,N)}function S(z,N){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,G){return P.__proto__=G,P},S(z,N)}function E(z){var N=R();return function(){var P,G=D(z);if(N){var W=D(this).constructor;P=Reflect.construct(G,arguments,W)}else P=G.apply(this,arguments);return w(this,P)}}function w(z,N){if(N&&(u(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(z)}function b(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function R(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!z})()}function D(z){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},D(z)}function C(z,N,P){return(N=A(N))in z?Object.defineProperty(z,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[N]=P,z}function A(z){var N=O(z,"string");return u(N)=="symbol"?N:N+""}function O(z,N){if(u(z)!="object"||!z)return z;var P=z[Symbol.toPrimitive];if(P!==void 0){var G=P.call(z,N);if(u(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(z)}t.default=(function(z){x(P,z);var N=E(P);function P(G){var W;return m(this,P),W=N.call(this,G),C(b(W),"innerSliderRefHandler",function(I){return W.innerSlider=I}),C(b(W),"slickPrev",function(){return W.innerSlider.slickPrev()}),C(b(W),"slickNext",function(){return W.innerSlider.slickNext()}),C(b(W),"slickGoTo",function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return W.innerSlider.slickGoTo(I,k)}),C(b(W),"slickPause",function(){return W.innerSlider.pause("paused")}),C(b(W),"slickPlay",function(){return W.innerSlider.autoPlay("play")}),W.state={breakpoint:null},W._responsiveMediaHandlers=[],W}return v(P,[{key:"media",value:function(W,I){var k=window.matchMedia(W),j=function(T){var re=T.matches;re&&I()};k.addListener(j),this._responsiveMediaHandlers.push({mql:k,query:W,listener:j})}},{key:"componentDidMount",value:function(){var W=this;if(this.props.responsive){var I=this.props.responsive.map(function(j){return j.breakpoint});I.sort(function(j,V){return j-V}),I.forEach(function(j,V){var T;V===0?T=(0,i.default)({minWidth:0,maxWidth:j}):T=(0,i.default)({minWidth:I[V-1]+1,maxWidth:j}),(0,o.canUseDOM)()&&W.media(T,function(){W.setState({breakpoint:j})})});var k=(0,i.default)({minWidth:I.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(k,function(){W.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(W){W.mql.removeListener(W.listener)})}},{key:"render",value:function(){var W=this,I,k;this.state.breakpoint?(k=this.props.responsive.filter(function(ae){return ae.breakpoint===W.state.breakpoint}),I=k[0].settings==="unslick"?"unslick":p(p(p({},s.default),this.props),k[0].settings)):I=p(p({},s.default),this.props),I.centerMode&&(I.slidesToScroll>1,I.slidesToScroll=1),I.fade&&(I.slidesToShow>1,I.slidesToScroll>1,I.slidesToShow=1,I.slidesToScroll=1);var j=e.default.Children.toArray(this.props.children);j=j.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),I.variableWidth&&(I.rows>1||I.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),I.variableWidth=!1);for(var V=[],T=null,re=0;re<j.length;re+=I.rows*I.slidesPerRow){for(var Y=[],M=re;M<re+I.rows*I.slidesPerRow;M+=I.slidesPerRow){for(var B=[],J=M;J<M+I.slidesPerRow&&(I.variableWidth&&j[J].props.style&&(T=j[J].props.style.width),!(J>=j.length));J+=1)B.push(e.default.cloneElement(j[J],{key:100*re+10*M+J,tabIndex:-1,style:{width:"".concat(100/I.slidesPerRow,"%"),display:"inline-block"}}));Y.push(e.default.createElement("div",{key:10*re+M},B))}I.variableWidth?V.push(e.default.createElement("div",{key:re,style:{width:T}},Y)):V.push(e.default.createElement("div",{key:re},Y))}if(I==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},j)}else V.length<=I.slidesToShow&&(I.unslick=!0);return e.default.createElement(n.InnerSlider,f({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(I)),V)}}]),P})(e.default.Component)})(iv)),iv}var TE;function DG(){return TE||(TE=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(OG());function n(i){return i&&i.__esModule?i:{default:i}}t.default=e.default})(nv)),nv}var PG=DG();const NG=S0(PG),BG="/assets/service5-jJ3DR1Ht.jpg",zG="/assets/service6-BlvLyOa1.jpg",UG="/assets/kitchen1-C0fxb566.png",HG="/assets/kitchen2-CFQi6o9E.jpg",VG="/assets/kitchen3-NICoZr-F.jpg",IG="/assets/bathroom-r4On0qbD.jpg",FG="/assets/bathroom1-DQ2TQaa5.jpg",kG="/assets/bathroom2-CGjOHC2x.jpg",GG="/assets/outdoor1-CH25sDjT.jpg",jG="/assets/outdoor2-kne_r2_8.jpg",WG="/assets/middle-BbaMl2bH.png",qG=()=>{const t=[{title:"Kitchens & Bathrooms",description:"Upgrade your home with new cabinetry, tile, fixtures, lighting, and vanities  plus refreshed tubs or showers that bring comfort and style.",image:hR},{title:"Flooring, Painting & Drywall",description:"Upgrade to durable LVP/laminate floors, crisp baseboards, smooth paintwork, and patch and texture for a polished look inside and out.",image:dR},{title:"Decks & Outdoor",description:"From new builds and resurfacing to railings, pergolas, and staining  we keep your outdoor spaces strong and stylish.",image:pR},{title:"Tenant Improvements",description:"From office buildouts to reconfigurations, ADA updates, and finish upgrades  we tailor spaces for style and efficiency.",image:mR},{title:"Restaurant & Retail",description:"Light remodels, custom millwork, BOH improvements, and dining area refreshes to elevate both function and guest experience.",image:BG},{title:"Maintenance Contracts",description:"Ongoing repairs, punch list completion, and seasonal upkeep services that keep properties in top condition.",image:zG}],e=[{title:"Luxury Kitchen Remodel",description:"A complete kitchen overhaul with modern cabinetry, countertops, and lighting to create a functional yet stylish space.",images:[UG,HG,VG]},{title:"Luxury Bathroom Remodel",description:"A complete bathroom transformation featuring custom tile work, premium finishes, and modern lighting to create a spa-like atmosphere.",images:[IG,FG,kG]},{title:"Outdoor Deck & Patio",description:"Building a durable and stylish outdoor area including decking, railings, and seating for maximum comfort and longevity.",images:[GG,jG]}],n=oe.useRef([]),i={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,arrows:!1},s=o=>Q.createElement("div",{key:o.title,className:`group relative rounded-2xl shadow-lg overflow-hidden cursor-pointer flex flex-col md:block\r
               transform transition duration-500\r
               md:hover:-translate-y-2`},Q.createElement("img",{src:o.image,alt:o.title,className:`w-full h-64 object-cover transition-transform duration-700\r
                 md:group-hover:scale-110`}),Q.createElement("div",{className:"md:hidden p-4 bg-white text-gray-800"},Q.createElement("h3",{className:"text-lg font-semibold"},o.title),Q.createElement("p",{className:"text-sm mt-2"},o.description)),Q.createElement("div",{className:"hidden md:flex absolute inset-0 flex-col justify-end p-6 bg-gradient-to-t from-black/80 via-black/40 to-transparent text-white opacity-0 transition-opacity duration-500 group-hover:opacity-100 z-10"},Q.createElement("h3",{className:"text-lg font-semibold"},o.title),Q.createElement("p",{className:"text-sm mt-1"},o.description)),Q.createElement("div",{className:"hidden md:flex absolute inset-0  items-center justify-center bg-black/40 text-white text-2xl font-bold transition-opacity duration-500 group-hover:opacity-0 z-20"},o.title));return Q.createElement("section",{className:"py-20 bg-gradient-to-b from-white to-gray-50"},Q.createElement("div",{className:"container mx-auto max-w-full  "},Q.createElement("h2",{className:"text-4xl sm:text-6xl font-bold text-center text-gray-800 mb-4"},"Our Services"),Q.createElement("p",{className:"text-center font-medium text-gray-600 mb-12 max-w-2xl mx-auto px-4 sm:px-0"},"We offer a wide range of services to meet all your construction needs, from initial planning to final touches."),Q.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 px-5 pl-8 lg:grid-cols-3 gap-10"},t.map(o=>s(o))),Q.createElement("div",{className:"relative w-full my-36"},Q.createElement("img",{src:WG,alt:"Banner",className:"w-full h-[300px] md:h-[400px] lg:h-[500px] object-cover  shadow-lg"}),Q.createElement("div",{className:"absolute inset-0 bg-black/50 "}),Q.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-4"},Q.createElement("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white drop-shadow-lg mb-4"},"Our Projects"),Q.createElement("p",{className:"text-base sm:text-lg font-medium text-gray-200 max-w-2xl"},"Explore our completed projects that showcase quality craftsmanship, modern design, and attention to every detail."))),Q.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 px-4 sm:px-0"},e.map((o,c)=>{n.current[c]=n.current[c]||Q.createRef();const u=o.title==="Outdoor Deck & Patio";return Q.createElement("div",{key:c,className:`flex flex-col md:flex-row items-center gap-6 w-full max-w-3xl mx-auto 
          ${u?"lg:col-span-2 justify-center":""}`},Q.createElement("div",{className:"relative w-full md:w-1/2"},Q.createElement(NG,{ref:n.current[c],...i,className:"!overflow-visible"},o.images.map((f,h)=>Q.createElement("div",{key:h,className:"flex justify-center px-1"},Q.createElement("div",{key:h,className:"flex justify-center px-1"},Q.createElement("div",{className:"w-full h-80 rounded-2xl overflow-hidden shadow-lg flex items-center justify-center bg-gray-100"},Q.createElement("img",{src:f,alt:`${o.title} ${h+1}`,className:"w-full h-full object-cover"})))))),Q.createElement("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-transparent text-white text-2xl z-20",onClick:()=>n.current[c].current.slickPrev()},""),Q.createElement("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-transparent text-white text-2xl z-20",onClick:()=>n.current[c].current.slickNext()},"")),Q.createElement("div",{className:"w-full md:w-1/2 flex flex-col justify-center mt-4 md:mt-0"},Q.createElement("h3",{className:"text-2xl font-semibold mb-2 text-gray-600"},o.title),Q.createElement("p",{className:"text-gray-800 text-base"},o.description)))}))))};var Ef=t=>t.type==="checkbox",Va=t=>t instanceof Date,Vn=t=>t==null;const wR=t=>typeof t=="object";var cn=t=>!Vn(t)&&!Array.isArray(t)&&wR(t)&&!Va(t),XG=t=>cn(t)&&t.target?Ef(t.target)?t.target.checked:t.target.value:t,YG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ZG=(t,e)=>t.has(YG(e)),KG=t=>{const e=t.constructor&&t.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},Zx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Zx&&(t instanceof Blob||i))&&(n||cn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!KG(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=xn(t[s]));else return t;return e}var Xp=t=>/^\w*$/.test(t),on=t=>t===void 0,Kx=t=>Array.isArray(t)?t.filter(Boolean):[],Qx=t=>Kx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,n)=>{if(!e||!cn(t))return n;const i=(Xp(e)?[e]:Qx(e)).reduce((s,o)=>Vn(s)?s:s[o],t);return on(i)||i===t?on(t[e])?n:t[e]:i},dr=t=>typeof t=="boolean",It=(t,e,n)=>{let i=-1;const s=Xp(e)?[e]:Qx(e),o=s.length,c=o-1;for(;++i<o;){const u=s[i];let f=n;if(i!==c){const h=t[u];f=cn(h)||Array.isArray(h)?h:isNaN(+s[i+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=f,t=t[u]}};const AE={BLUR:"blur",FOCUS_OUT:"focusout"},Qi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QG=Q.createContext(null);QG.displayName="HookFormContext";var JG=(t,e,n,i=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const c=o;return e._proxyFormState[c]!==Qi.all&&(e._proxyFormState[c]=!i||Qi.all),t[c]}});return s};const $G=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;var ui=t=>typeof t=="string",e5=(t,e,n,i,s)=>ui(t)?(i&&e.watch.add(t),je(n,t,s)):Array.isArray(t)?t.map(o=>(i&&e.watch.add(o),je(n,o))):(i&&(e.watchAll=!0),n),_0=t=>Vn(t)||!wR(t);function Gs(t,e,n=new WeakSet){if(_0(t)||_0(e))return t===e;if(Va(t)&&Va(e))return t.getTime()===e.getTime();const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const o of i){const c=t[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(Va(c)&&Va(u)||cn(c)&&cn(u)||Array.isArray(c)&&Array.isArray(u)?!Gs(c,u,n):c!==u)return!1}}return!0}var t5=(t,e,n,i,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:s||!0}}:{},Mu=t=>Array.isArray(t)?t:[t],CE=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}};function SR(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const s=t[i],o=e[i];if(s&&cn(s)&&o){const c=SR(s,o);cn(c)&&(n[i]=c)}else t[i]&&(n[i]=o)}return n}var Qn=t=>cn(t)&&!Object.keys(t).length,Jx=t=>t.type==="file",Ji=t=>typeof t=="function",Mp=t=>{if(!Zx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MR=t=>t.type==="select-multiple",$x=t=>t.type==="radio",n5=t=>$x(t)||Ef(t),uv=t=>Mp(t)&&t.isConnected;function i5(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=on(t)?i++:t[e[i++]];return t}function r5(t){for(const e in t)if(t.hasOwnProperty(e)&&!on(t[e]))return!1;return!0}function sn(t,e){const n=Array.isArray(e)?e:Xp(e)?[e]:Qx(e),i=n.length===1?t:i5(t,n),s=n.length-1,o=n[s];return i&&delete i[o],s!==0&&(cn(i)&&Qn(i)||Array.isArray(i)&&r5(i))&&sn(t,n.slice(0,-1)),t}var s5=t=>{for(const e in t)if(Ji(t[e]))return!0;return!1};function ER(t){return Array.isArray(t)||cn(t)&&!s5(t)}function w0(t,e={}){for(const n in t)ER(t[n])?(e[n]=Array.isArray(t[n])?[]:{},w0(t[n],e[n])):Vn(t[n])||(e[n]=!0);return e}function ol(t,e,n){n||(n=w0(e));for(const i in t)ER(t[i])?on(e)||_0(n[i])?n[i]=w0(t[i],Array.isArray(t[i])?[]:{}):ol(t[i],Vn(e)?{}:e[i],n[i]):n[i]=!Gs(t[i],e[i]);return n}const RE={value:!1,isValid:!1},LE={value:!0,isValid:!0};var TR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!on(t[0].attributes.value)?on(t[0].value)||t[0].value===""?LE:{value:t[0].value,isValid:!0}:LE:RE}return RE},AR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>on(t)?t:e?t===""?NaN:t&&+t:n&&ui(t)?new Date(t):i?i(t):t;const OE={isValid:!1,value:null};var CR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,OE):OE;function DE(t){const e=t.ref;return Jx(e)?e.files:$x(e)?CR(t.refs).value:MR(e)?[...e.selectedOptions].map(({value:n})=>n):Ef(e)?TR(t.refs).value:AR(on(e.value)?t.ref.value:e.value,t)}var a5=(t,e,n,i)=>{const s={};for(const o of t){const c=je(e,o);c&&It(s,o,c._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:i}},Ep=t=>t instanceof RegExp,uu=t=>on(t)?t:Ep(t)?t.source:cn(t)?Ep(t.value)?t.value.source:t.value:t,PE=t=>({isOnSubmit:!t||t===Qi.onSubmit,isOnBlur:t===Qi.onBlur,isOnChange:t===Qi.onChange,isOnAll:t===Qi.all,isOnTouch:t===Qi.onTouched});const NE="AsyncFunction";var o5=t=>!!t&&!!t.validate&&!!(Ji(t.validate)&&t.validate.constructor.name===NE||cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===NE)),l5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),BE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const Eu=(t,e,n,i)=>{for(const s of n||Object.keys(t)){const o=je(t,s);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],s)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(Eu(u,e))break}else if(cn(u)&&Eu(u,e))break}}};function zE(t,e,n){const i=je(t,n);if(i||Xp(n))return{error:i,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),c=je(e,o),u=je(t,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};s.pop()}return{name:n}}var c5=(t,e,n,i)=>{n(t);const{name:s,...o}=t;return Qn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!i||Qi.all))},u5=(t,e,n)=>!t||!e||t===e||Mu(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),f5=(t,e,n,i,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?i.isOnBlur:s.isOnBlur)?!t:(n?i.isOnChange:s.isOnChange)?t:!0,h5=(t,e)=>!Kx(je(t,e)).length&&sn(t,e),d5=(t,e,n)=>{const i=Mu(je(t,n));return It(i,"root",e[n]),It(t,n,i),t};function UE(t,e,n="validate"){if(ui(t)||Array.isArray(t)&&t.every(ui)||dr(t)&&!t)return{type:n,message:ui(t)?t:"",ref:e}}var al=t=>cn(t)&&!Ep(t)?t:{value:t,message:""},HE=async(t,e,n,i,s,o)=>{const{ref:c,refs:u,required:f,maxLength:h,minLength:p,min:m,max:g,pattern:v,validate:x,name:S,valueAsNumber:E,mount:w}=t._f,b=je(n,S);if(!w||e.has(S))return{};const R=u?u[0]:c,D=W=>{s&&R.reportValidity&&(R.setCustomValidity(dr(W)?"":W||""),R.reportValidity())},C={},A=$x(c),O=Ef(c),z=A||O,N=(E||Jx(c))&&on(c.value)&&on(b)||Mp(c)&&c.value===""||b===""||Array.isArray(b)&&!b.length,P=t5.bind(null,S,i,C),G=(W,I,k,j=Zr.maxLength,V=Zr.minLength)=>{const T=W?I:k;C[S]={type:W?j:V,message:T,ref:c,...P(W?j:V,T)}};if(o?!Array.isArray(b)||!b.length:f&&(!z&&(N||Vn(b))||dr(b)&&!b||O&&!TR(u).isValid||A&&!CR(u).isValid)){const{value:W,message:I}=ui(f)?{value:!!f,message:f}:al(f);if(W&&(C[S]={type:Zr.required,message:I,ref:R,...P(Zr.required,I)},!i))return D(I),C}if(!N&&(!Vn(m)||!Vn(g))){let W,I;const k=al(g),j=al(m);if(!Vn(b)&&!isNaN(b)){const V=c.valueAsNumber||b&&+b;Vn(k.value)||(W=V>k.value),Vn(j.value)||(I=V<j.value)}else{const V=c.valueAsDate||new Date(b),T=M=>new Date(new Date().toDateString()+" "+M),re=c.type=="time",Y=c.type=="week";ui(k.value)&&b&&(W=re?T(b)>T(k.value):Y?b>k.value:V>new Date(k.value)),ui(j.value)&&b&&(I=re?T(b)<T(j.value):Y?b<j.value:V<new Date(j.value))}if((W||I)&&(G(!!W,k.message,j.message,Zr.max,Zr.min),!i))return D(C[S].message),C}if((h||p)&&!N&&(ui(b)||o&&Array.isArray(b))){const W=al(h),I=al(p),k=!Vn(W.value)&&b.length>+W.value,j=!Vn(I.value)&&b.length<+I.value;if((k||j)&&(G(k,W.message,I.message),!i))return D(C[S].message),C}if(v&&!N&&ui(b)){const{value:W,message:I}=al(v);if(Ep(W)&&!b.match(W)&&(C[S]={type:Zr.pattern,message:I,ref:c,...P(Zr.pattern,I)},!i))return D(I),C}if(x){if(Ji(x)){const W=await x(b,n),I=UE(W,R);if(I&&(C[S]={...I,...P(Zr.validate,I.message)},!i))return D(I.message),C}else if(cn(x)){let W={};for(const I in x){if(!Qn(W)&&!i)break;const k=UE(await x[I](b,n),R,I);k&&(W={...k,...P(I,k.message)},D(k.message),i&&(C[S]=W))}if(!Qn(W)&&(C[S]={ref:R,...W},!i))return C}}return D(!0),C};const p5={mode:Qi.onSubmit,reValidateMode:Qi.onChange,shouldFocusError:!0};function m5(t={}){let e={...p5,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},s=cn(e.defaultValues)||cn(e.values)?xn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:xn(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const g={array:CE(),state:CE()},v=e.criteriaMode===Qi.all,x=F=>U=>{clearTimeout(h),h=setTimeout(F,U)},S=async F=>{if(!e.disabled&&(p.isValid||m.isValid||F)){const U=e.resolver?Qn((await O()).errors):await N(i,!0);U!==n.isValid&&g.state.next({isValid:U})}},E=(F,U)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((F||Array.from(u.mount)).forEach(ee=>{ee&&(U?It(n.validatingFields,ee,U):sn(n.validatingFields,ee))}),g.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},w=(F,U=[],ee,he,ge=!0,le=!0)=>{if(he&&ee&&!e.disabled){if(c.action=!0,le&&Array.isArray(je(i,F))){const _e=ee(je(i,F),he.argA,he.argB);ge&&It(i,F,_e)}if(le&&Array.isArray(je(n.errors,F))){const _e=ee(je(n.errors,F),he.argA,he.argB);ge&&It(n.errors,F,_e),h5(n.errors,F)}if((p.touchedFields||m.touchedFields)&&le&&Array.isArray(je(n.touchedFields,F))){const _e=ee(je(n.touchedFields,F),he.argA,he.argB);ge&&It(n.touchedFields,F,_e)}(p.dirtyFields||m.dirtyFields)&&(n.dirtyFields=ol(s,o)),g.state.next({name:F,isDirty:G(F,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else It(o,F,U)},b=(F,U)=>{It(n.errors,F,U),g.state.next({errors:n.errors})},R=F=>{n.errors=F,g.state.next({errors:n.errors,isValid:!1})},D=(F,U,ee,he)=>{const ge=je(i,F);if(ge){const le=je(o,F,on(ee)?je(s,F):ee);on(le)||he&&he.defaultChecked||U?It(o,F,U?le:DE(ge._f)):k(F,le),c.mount&&S()}},C=(F,U,ee,he,ge)=>{let le=!1,_e=!1;const Re={name:F};if(!e.disabled){if(!ee||he){(p.isDirty||m.isDirty)&&(_e=n.isDirty,n.isDirty=Re.isDirty=G(),le=_e!==Re.isDirty);const ze=Gs(je(s,F),U);_e=!!je(n.dirtyFields,F),ze?sn(n.dirtyFields,F):It(n.dirtyFields,F,!0),Re.dirtyFields=n.dirtyFields,le=le||(p.dirtyFields||m.dirtyFields)&&_e!==!ze}if(ee){const ze=je(n.touchedFields,F);ze||(It(n.touchedFields,F,ee),Re.touchedFields=n.touchedFields,le=le||(p.touchedFields||m.touchedFields)&&ze!==ee)}le&&ge&&g.state.next(Re)}return le?Re:{}},A=(F,U,ee,he)=>{const ge=je(n.errors,F),le=(p.isValid||m.isValid)&&dr(U)&&n.isValid!==U;if(e.delayError&&ee?(f=x(()=>b(F,ee)),f(e.delayError)):(clearTimeout(h),f=null,ee?It(n.errors,F,ee):sn(n.errors,F)),(ee?!Gs(ge,ee):ge)||!Qn(he)||le){const _e={...he,...le&&dr(U)?{isValid:U}:{},errors:n.errors,name:F};n={...n,..._e},g.state.next(_e)}},O=async F=>{E(F,!0);const U=await e.resolver(o,e.context,a5(F||u.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return E(F),U},z=async F=>{const{errors:U}=await O(F);if(F)for(const ee of F){const he=je(U,ee);he?It(n.errors,ee,he):sn(n.errors,ee)}else n.errors=U;return U},N=async(F,U,ee={valid:!0})=>{for(const he in F){const ge=F[he];if(ge){const{_f:le,..._e}=ge;if(le){const Re=u.array.has(le.name),ze=ge._f&&o5(ge._f);ze&&p.validatingFields&&E([le.name],!0);const Be=await HE(ge,u.disabled,o,v,e.shouldUseNativeValidation&&!U,Re);if(ze&&p.validatingFields&&E([le.name]),Be[le.name]&&(ee.valid=!1,U))break;!U&&(je(Be,le.name)?Re?d5(n.errors,Be,le.name):It(n.errors,le.name,Be[le.name]):sn(n.errors,le.name))}!Qn(_e)&&await N(_e,U,ee)}}return ee.valid},P=()=>{for(const F of u.unMount){const U=je(i,F);U&&(U._f.refs?U._f.refs.every(ee=>!uv(ee)):!uv(U._f.ref))&&me(F)}u.unMount=new Set},G=(F,U)=>!e.disabled&&(F&&U&&It(o,F,U),!Gs(M(),s)),W=(F,U,ee)=>e5(F,u,{...c.mount?o:on(U)?s:ui(F)?{[F]:U}:U},ee,U),I=F=>Kx(je(c.mount?o:s,F,e.shouldUnregister?je(s,F,[]):[])),k=(F,U,ee={})=>{const he=je(i,F);let ge=U;if(he){const le=he._f;le&&(!le.disabled&&It(o,F,AR(U,le)),ge=Mp(le.ref)&&Vn(U)?"":U,MR(le.ref)?[...le.ref.options].forEach(_e=>_e.selected=ge.includes(_e.value)):le.refs?Ef(le.ref)?le.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(ge)?_e.checked=!!ge.find(Re=>Re===_e.value):_e.checked=ge===_e.value||!!ge)}):le.refs.forEach(_e=>_e.checked=_e.value===ge):Jx(le.ref)?le.ref.value="":(le.ref.value=ge,le.ref.type||g.state.next({name:F,values:xn(o)})))}(ee.shouldDirty||ee.shouldTouch)&&C(F,ge,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Y(F)},j=(F,U,ee)=>{for(const he in U){if(!U.hasOwnProperty(he))return;const ge=U[he],le=F+"."+he,_e=je(i,le);(u.array.has(F)||cn(ge)||_e&&!_e._f)&&!Va(ge)?j(le,ge,ee):k(le,ge,ee)}},V=(F,U,ee={})=>{const he=je(i,F),ge=u.array.has(F),le=xn(U);It(o,F,le),ge?(g.array.next({name:F,values:xn(o)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&ee.shouldDirty&&g.state.next({name:F,dirtyFields:ol(s,o),isDirty:G(F,le)})):he&&!he._f&&!Vn(le)?j(F,le,ee):k(F,le,ee),BE(F,u)&&g.state.next({...n,name:F}),g.state.next({name:c.mount?F:void 0,values:xn(o)})},T=async F=>{c.mount=!0;const U=F.target;let ee=U.name,he=!0;const ge=je(i,ee),le=ze=>{he=Number.isNaN(ze)||Va(ze)&&isNaN(ze.getTime())||Gs(ze,je(o,ee,ze))},_e=PE(e.mode),Re=PE(e.reValidateMode);if(ge){let ze,Be;const Ye=U.type?DE(ge._f):XG(F),mt=F.type===AE.BLUR||F.type===AE.FOCUS_OUT,pn=!l5(ge._f)&&!e.resolver&&!je(n.errors,ee)&&!ge._f.deps||f5(mt,je(n.touchedFields,ee),n.isSubmitted,Re,_e),Hi=BE(ee,u,mt);It(o,ee,Ye),mt?(!U||!U.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(F),f&&f(0)):ge._f.onChange&&ge._f.onChange(F);const rr=C(ee,Ye,mt),yi=!Qn(rr)||Hi;if(!mt&&g.state.next({name:ee,type:F.type,values:xn(o)}),pn)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?mt&&S():mt||S()),yi&&g.state.next({name:ee,...Hi?{}:rr});if(!mt&&Hi&&g.state.next({...n}),e.resolver){const{errors:Cr}=await O([ee]);if(le(Ye),he){const Vi=zE(n.errors,i,ee),so=zE(Cr,i,Vi.name||ee);ze=so.error,ee=so.name,Be=Qn(Cr)}}else E([ee],!0),ze=(await HE(ge,u.disabled,o,v,e.shouldUseNativeValidation))[ee],E([ee]),le(Ye),he&&(ze?Be=!1:(p.isValid||m.isValid)&&(Be=await N(i,!0)));he&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&Y(ge._f.deps),A(ee,Be,ze,rr))}},re=(F,U)=>{if(je(n.errors,U)&&F.focus)return F.focus(),1},Y=async(F,U={})=>{let ee,he;const ge=Mu(F);if(e.resolver){const le=await z(on(F)?F:ge);ee=Qn(le),he=F?!ge.some(_e=>je(le,_e)):ee}else F?(he=(await Promise.all(ge.map(async le=>{const _e=je(i,le);return await N(_e&&_e._f?{[le]:_e}:_e)}))).every(Boolean),!(!he&&!n.isValid)&&S()):he=ee=await N(i);return g.state.next({...!ui(F)||(p.isValid||m.isValid)&&ee!==n.isValid?{}:{name:F},...e.resolver||!F?{isValid:ee}:{},errors:n.errors}),U.shouldFocus&&!he&&Eu(i,re,F?ge:u.mount),he},M=(F,U)=>{let ee={...c.mount?o:s};return U&&(ee=SR(U.dirtyFields?n.dirtyFields:n.touchedFields,ee)),on(F)?ee:ui(F)?je(ee,F):F.map(he=>je(ee,he))},B=(F,U)=>({invalid:!!je((U||n).errors,F),isDirty:!!je((U||n).dirtyFields,F),error:je((U||n).errors,F),isValidating:!!je(n.validatingFields,F),isTouched:!!je((U||n).touchedFields,F)}),J=F=>{F&&Mu(F).forEach(U=>sn(n.errors,U)),g.state.next({errors:F?n.errors:{}})},ie=(F,U,ee)=>{const he=(je(i,F,{_f:{}})._f||{}).ref,ge=je(n.errors,F)||{},{ref:le,message:_e,type:Re,...ze}=ge;It(n.errors,F,{...ze,...U,ref:he}),g.state.next({name:F,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&he&&he.focus&&he.focus()},ae=(F,U)=>Ji(F)?g.state.subscribe({next:ee=>"values"in ee&&F(W(void 0,U),ee)}):W(F,U,!0),te=F=>g.state.subscribe({next:U=>{u5(F.name,U.name,F.exact)&&c5(U,F.formState||p,q,F.reRenderRoot)&&F.callback({values:{...o},...n,...U,defaultValues:s})}}).unsubscribe,pe=F=>(c.mount=!0,m={...m,...F.formState},te({...F,formState:m})),me=(F,U={})=>{for(const ee of F?Mu(F):u.mount)u.mount.delete(ee),u.array.delete(ee),U.keepValue||(sn(i,ee),sn(o,ee)),!U.keepError&&sn(n.errors,ee),!U.keepDirty&&sn(n.dirtyFields,ee),!U.keepTouched&&sn(n.touchedFields,ee),!U.keepIsValidating&&sn(n.validatingFields,ee),!e.shouldUnregister&&!U.keepDefaultValue&&sn(s,ee);g.state.next({values:xn(o)}),g.state.next({...n,...U.keepDirty?{isDirty:G()}:{}}),!U.keepIsValid&&S()},Le=({disabled:F,name:U})=>{(dr(F)&&c.mount||F||u.disabled.has(U))&&(F?u.disabled.add(U):u.disabled.delete(U))},De=(F,U={})=>{let ee=je(i,F);const he=dr(U.disabled)||dr(e.disabled);return It(i,F,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:F}},name:F,mount:!0,...U}}),u.mount.add(F),ee?Le({disabled:dr(U.disabled)?U.disabled:e.disabled,name:F}):D(F,!0,U.value),{...he?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:uu(U.min),max:uu(U.max),minLength:uu(U.minLength),maxLength:uu(U.maxLength),pattern:uu(U.pattern)}:{},name:F,onChange:T,onBlur:T,ref:ge=>{if(ge){De(F,U),ee=je(i,F);const le=on(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,_e=n5(le),Re=ee._f.refs||[];if(_e?Re.find(ze=>ze===le):le===ee._f.ref)return;It(i,F,{_f:{...ee._f,..._e?{refs:[...Re.filter(uv),le,...Array.isArray(je(s,F))?[{}]:[]],ref:{type:le.type,name:F}}:{ref:le}}}),D(F,!1,void 0,le)}else ee=je(i,F,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(ZG(u.array,F)&&c.action)&&u.unMount.add(F)}}},Ie=()=>e.shouldFocusError&&Eu(i,re,u.mount),Ue=F=>{dr(F)&&(g.state.next({disabled:F}),Eu(i,(U,ee)=>{const he=je(i,ee);he&&(U.disabled=he._f.disabled||F,Array.isArray(he._f.refs)&&he._f.refs.forEach(ge=>{ge.disabled=he._f.disabled||F}))},0,!1))},xe=(F,U)=>async ee=>{let he;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ge=xn(o);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:_e}=await O();n.errors=le,ge=xn(_e)}else await N(i);if(u.disabled.size)for(const le of u.disabled)sn(ge,le);if(sn(n.errors,"root"),Qn(n.errors)){g.state.next({errors:{}});try{await F(ge,ee)}catch(le){he=le}}else U&&await U({...n.errors},ee),Ie(),setTimeout(Ie);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},Ee=(F,U={})=>{je(i,F)&&(on(U.defaultValue)?V(F,xn(je(s,F))):(V(F,U.defaultValue),It(s,F,xn(U.defaultValue))),U.keepTouched||sn(n.touchedFields,F),U.keepDirty||(sn(n.dirtyFields,F),n.isDirty=U.defaultValue?G(F,xn(je(s,F))):G()),U.keepError||(sn(n.errors,F),p.isValid&&S()),g.state.next({...n}))},Se=(F,U={})=>{const ee=F?xn(F):s,he=xn(ee),ge=Qn(F),le=ge?s:he;if(U.keepDefaultValues||(s=ee),!U.keepValues){if(U.keepDirtyValues){const _e=new Set([...u.mount,...Object.keys(ol(s,o))]);for(const Re of Array.from(_e))je(n.dirtyFields,Re)?It(le,Re,je(o,Re)):V(Re,je(le,Re))}else{if(Zx&&on(F))for(const _e of u.mount){const Re=je(i,_e);if(Re&&Re._f){const ze=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Mp(ze)){const Be=ze.closest("form");if(Be){Be.reset();break}}}}if(U.keepFieldsRef)for(const _e of u.mount)V(_e,je(le,_e));else i={}}o=e.shouldUnregister?U.keepDefaultValues?xn(s):{}:xn(le),g.array.next({values:{...le}}),g.state.next({values:{...le}})}u={mount:U.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!U.keepIsValid||!!U.keepDirtyValues,c.watch=!!e.shouldUnregister,g.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Gs(F,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:U.keepDirtyValues?U.keepDefaultValues&&o?ol(s,o):n.dirtyFields:U.keepDefaultValues&&F?ol(s,F):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ne=(F,U)=>Se(Ji(F)?F(o):F,U),Oe=(F,U={})=>{const ee=je(i,F),he=ee&&ee._f;if(he){const ge=he.refs?he.refs[0]:he.ref;ge.focus&&(ge.focus(),U.shouldSelect&&Ji(ge.select)&&ge.select())}},q=F=>{n={...n,...F}},Te={control:{register:De,unregister:me,getFieldState:B,handleSubmit:xe,setError:ie,_subscribe:te,_runSchema:O,_focusError:Ie,_getWatch:W,_getDirty:G,_setValid:S,_setFieldArray:w,_setDisabledField:Le,_setErrors:R,_getFieldArray:I,_reset:Se,_resetDefaultValues:()=>Ji(e.defaultValues)&&e.defaultValues().then(F=>{Ne(F,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ue,_subjects:g,_proxyFormState:p,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(F){c=F},get _defaultValues(){return s},get _names(){return u},set _names(F){u=F},get _formState(){return n},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:pe,trigger:Y,register:De,handleSubmit:xe,watch:ae,setValue:V,getValues:M,reset:Ne,resetField:Ee,clearErrors:J,unregister:me,setError:ie,setFocus:Oe,getFieldState:B};return{...Te,formControl:Te}}function g5(t={}){const e=Q.useRef(void 0),n=Q.useRef(void 0),[i,s]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ji(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Ji(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...u}=m5(t);e.current={...u,formState:i}}const o=e.current.control;return o._options=t,$G(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Q.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Q.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Q.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),Q.useEffect(()=>{t.values&&!Gs(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,s(c=>({...c}))):o._resetDefaultValues()},[o,t.values]),Q.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=JG(i,o),e.current}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),VE=t=>{const e=v5(t);return e.charAt(0).toUpperCase()+e.slice(1)},RR=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),x5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=oe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c,...u},f)=>oe.createElement("svg",{ref:f,...b5,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:RR("lucide",s),...!o&&!x5(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>oe.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=(t,e)=>{const n=oe.forwardRef(({className:i,...s},o)=>oe.createElement(_5,{ref:o,iconNode:e,className:RR(`lucide-${y5(VE(t))}`,`lucide-${t}`,i),...s}));return n.displayName=VE(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S5=eb("mail",w5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],E5=eb("map-pin",M5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],A5=eb("phone",T5);class Yp{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const C5=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},ll={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:C5()},R5=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},L5=async(t,e,n={})=>{const i=await fetch(ll.origin+t,{method:"POST",headers:n,body:e}),s=await i.text(),o=new Yp(i.status,s);if(i.ok)return o;throw o},O5=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},D5=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},P5=t=>t.webdriver||!t.languages||t.languages.length===0,N5=()=>new Yp(451,"Unavailable For Headless Browser"),B5=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},z5=t=>!t.list?.length||!t.watchVariable,U5=(t,e)=>t instanceof FormData?t.get(e):t[e],H5=(t,e)=>{if(z5(t))return!1;B5(t.list,t.watchVariable);const n=U5(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},V5=()=>new Yp(403,"Forbidden"),I5=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},F5=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},k5=async(t,e,n)=>{if(!e.throttle||!n)return!1;I5(e.throttle,e.id);const i=e.id||t;return await F5(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},G5=()=>new Yp(429,"Too Many Requests"),j5=async(t,e,n,i)=>{const s=R5(i),o=s.publicKey||ll.publicKey,c=s.blockHeadless||ll.blockHeadless,u=s.storageProvider||ll.storageProvider,f={...ll.blockList,...s.blockList},h={...ll.limitRate,...s.limitRate};return c&&P5(navigator)?Promise.reject(N5()):(O5(o,t,e),D5(n),n&&H5(f,n)?Promise.reject(V5()):await k5(location.pathname,h,u)?Promise.reject(G5()):L5("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},W5=()=>{const{register:t,handleSubmit:e,reset:n,formState:{errors:i}}=g5(),[s,o]=oe.useState(!1),c=u=>{const f={fullName:u.fullName,email:u.email,phone:u.phone,message:u.message};j5("","",f,"").then(()=>{o(!0),n()},h=>{console.error("EmailJS Error:",h),alert("Failed to send message. Try again later.")})};return Q.createElement("section",{className:"py-20 px-6 bg-gray-100"},Q.createElement("div",{className:"container mx-auto flex flex-col lg:flex-row gap-12"},Q.createElement("div",{className:"w-full lg:w-1/2 mb-12 lg:mb-0"},Q.createElement("h2",{className:"text-3xl sm:text-5xl font-bold mb-4"},"Get in Touch"),Q.createElement("p",{className:"text-lg sm:text-xl text-gray-600 mb-8"},"Wed love to hear about your project. Reach out anytime."),Q.createElement("div",{className:"space-y-6"},Q.createElement("div",{className:"flex flex-col items-start"},Q.createElement(E5,{className:"text-[#163c6e] mb-2",size:40}),Q.createElement("h4",{className:"text-2xl font-semibold"},"Our Address"),Q.createElement("p",null,"Charlotte, NC & Surrounding Areas")),Q.createElement("div",{className:"flex flex-col items-start"},Q.createElement(A5,{className:"text-[#163c6e] mb-2",size:40}),Q.createElement("h4",{className:"text-xl font-semibold"},"Phone Number"),Q.createElement("p",null,"(980) 395-2025")),Q.createElement("div",{className:"flex flex-col items-start"},Q.createElement(S5,{className:"text-[#163c6e] mb-2",size:40}),Q.createElement("h4",{className:"text-xl font-semibold"},"Email Address"),Q.createElement("p",null,"info@truebuildpropertysolution.com")))),Q.createElement("div",{className:"bg-white p-8 md:p-12 w-full lg:w-1/2 rounded-xl shadow-2xl"},Q.createElement("h3",{className:"text-4xl font-bold mb-8"},"Need Construction Help?"),Q.createElement("form",{onSubmit:e(c),className:"space-y-6"},Q.createElement("input",{type:"text",placeholder:"Full Name",...t("fullName",{required:"Full name is required"}),className:`w-full px-4 py-3 bg-gray-100 rounded-lg border ${i.fullName?"border-red-500":"border-gray-200"}`}),i.fullName&&Q.createElement("p",{className:"text-red-500 text-sm"},i.fullName.message),Q.createElement("input",{type:"email",placeholder:"Email Address",...t("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email address"}}),className:`w-full px-4 py-3 bg-gray-100 rounded-lg border ${i.email?"border-red-500":"border-gray-200"}`}),i.email&&Q.createElement("p",{className:"text-red-500 text-sm"},i.email.message),Q.createElement("input",{type:"tel",placeholder:"(+1) (XXX) (XXX) (XXXX)",...t("phone",{required:"Phone number is required",pattern:{value:/^\+1\d{10}$/,message:"Phone number must be +1 followed by 10 digits"}}),className:`w-full px-4 py-3 bg-gray-100 rounded-lg border ${i.phone?"border-red-500":"border-gray-200"}`}),i.phone&&Q.createElement("p",{className:"text-red-500 text-sm"},i.phone.message),Q.createElement("textarea",{placeholder:"Message",rows:"5",...t("message",{required:"Message is required"}),className:`w-full px-4 py-3 bg-gray-100 rounded-lg border ${i.message?"border-red-500":"border-gray-200"}`}),i.message&&Q.createElement("p",{className:"text-red-500 text-sm"},i.message.message),Q.createElement("button",{type:"submit",className:"w-full px-8 py-4 bg-[#163c6e] text-white font-semibold rounded-lg shadow-lg hover:bg-[#163c6e]"},"Send Message")))),s&&Q.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50"},Q.createElement("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg"},Q.createElement("h2",{className:"text-2xl font-bold mb-4 text-green-600"},"Success!"),Q.createElement("p",{className:"mb-6"},"Your message has been sent successfully. We will get back to you soon."),Q.createElement("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#163c6e] text-white rounded-lg hover:bg-[#c05621]"},"Close"))))};var LR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IE=Q.createContext&&Q.createContext(LR),q5=["attr","size","title"];function X5(t,e){if(t==null)return{};var n=Y5(t,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Y5(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tp.apply(this,arguments)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(i){Z5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Z5(t,e,n){return e=K5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t){var e=Q5(t,"string");return typeof e=="symbol"?e:e+""}function Q5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OR(t){return t&&t.map((e,n)=>Q.createElement(e.tag,Ap({key:n},e.attr),OR(e.child)))}function Zp(t){return e=>Q.createElement(J5,Tp({attr:Ap({},t.attr)},e),OR(t.child))}function J5(t){var e=n=>{var{attr:i,size:s,title:o}=t,c=X5(t,q5),u=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Q.createElement("svg",Tp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:f,style:Ap(Ap({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Q.createElement("title",null,o),t.children)};return IE!==void 0?Q.createElement(IE.Consumer,null,n=>e(n)):e(LR)}function $5(t){return Zp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function e6(t){return Zp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function t6(t){return Zp({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function n6(t){return Zp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const DR="/assets/logo-BnOGmO33.png",i6=()=>{const t=Fl(),[e,n]=oe.useState(!1),i=o=>{t(o),window.scrollTo({top:0,behavior:"smooth"}),n(!1)},s=()=>Q.createElement("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>i("/")},Q.createElement("div",{className:"flex flex-col items-start leading-none"},Q.createElement("div",{className:"text-[#163c6e] font-extrabold text-3xl tracking-tighter"},"TRUEBUILD"),Q.createElement("div",{className:"text-white text-xs font-medium tracking-widest uppercase -mt-1"},"Property Solution")),Q.createElement("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center"},Q.createElement("span",{className:"text-lg font-bold text-[#4b912b]"},Q.createElement("img",{src:DR,alt:""}))));return Q.createElement(Q.Fragment,null,Q.createElement("div",{className:"bg-[#163c6e] text-white p-2 hidden sm:block"},Q.createElement("div",{className:"container mx-auto flex justify-between items-center px-6"},Q.createElement("div",{className:"flex items-center space-x-2 flex-1 text-sm"},Q.createElement(t6,null),Q.createElement("span",null,"Charlotte, NC & Surrounding Areas")),Q.createElement("div",{className:"flex space-x-6 text-sm"},Q.createElement("div",{className:"flex items-center space-x-2"},Q.createElement(n6,null),Q.createElement("span",null,"(980) 395-2025")),Q.createElement("div",{className:"flex items-center space-x-2"},Q.createElement(e6,null),Q.createElement("span",null,"info@truebuildpropertysolution.com"))))),Q.createElement("nav",{className:"bg-[#4b912b] text-white p-4 sticky top-0 z-50"},Q.createElement("div",{className:"container mx-auto flex justify-between items-center"},Q.createElement(s,null),Q.createElement("div",{className:"hidden lg:flex items-center space-x-6"},Q.createElement("button",{onClick:()=>i("/"),className:"p-2 hover:text-[#163c6e]"},"Home"),Q.createElement("button",{onClick:()=>i("/services"),className:"p-2 hover:text-[#163c6e]"},"Services"),Q.createElement("button",{onClick:()=>i("/contact"),className:"p-2 hover:text-[#163c6e]"},"Contact Us")),Q.createElement("div",{className:"hidden lg:flex items-center"},Q.createElement(Ml.button,{onClick:()=>i("/contact"),className:"px-5 py-2 bg-white text-[#163c6e] font-semibold rounded-full shadow-lg group",whileHover:{scale:1.05}},Q.createElement("span",{className:"block group-hover:-translate-y-1 transition-transform duration-300"},"Get a Quote"))),Q.createElement("div",{className:"lg:hidden flex items-center"},Q.createElement("button",{onClick:()=>n(!0)},Q.createElement($5,{size:24}))))))},r6="/assets/bg-DWTLWKcb.jpg",s6=({onNavClick:t})=>{const e=n=>{window.scrollTo({top:0,behavior:"smooth"}),t(n)};return Q.createElement("footer",{className:"relative bg-gray-900 text-gray-400 pb-10 pt-24 overflow-hidden"},Q.createElement("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${r6})`}}),Q.createElement("div",{className:"absolute inset-0 bg-black/60"}),Q.createElement("div",{className:"relative container mx-auto px-6"},Q.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 items-start"},Q.createElement("div",{className:"col-span-1 flex flex-col space-y-4"},Q.createElement("div",{className:"flex items-center space-x-4"},Q.createElement("img",{src:DR,alt:"",className:"h-10"}),Q.createElement("h3",{className:"text-3xl font-bold text-white"},"TrueBuild")),Q.createElement("p",{className:"text-sm"},"TrueBuild Property Solution is a locally owned and operated construction company based in Charlotte, NC.")),Q.createElement("div",{className:"col-span-1"},Q.createElement("h4",{className:"text-white font-semibold mb-4"},"Quick Links"),Q.createElement("ul",{className:"space-y-2 text-sm"},Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("home"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Home")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Our Services")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("contact"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Contact Us")))),Q.createElement("div",{className:"col-span-1"},Q.createElement("h4",{className:"text-white font-semibold mb-4"},"Our Services"),Q.createElement("ul",{className:"space-y-2 text-sm"},Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Kitchens & Bathrooms")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Flooring, Painting & Drywall")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Decks & Outdoor")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Tenant Improvements")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Restaurant & Retail")),Q.createElement("li",null,Q.createElement("button",{onClick:()=>e("services"),className:"hover:text-[#163c6e] transition-colors duration-300"},"Maintenance Contracts")))),Q.createElement("div",{className:"col-span-1"},Q.createElement("h4",{className:"text-white font-semibold mb-4"},"Contact Us"),Q.createElement("p",{className:"text-sm mb-2"},"(980) 395-2025"),Q.createElement("p",{className:"text-sm mb-2"},"info@truebuildpropertysolution.com"),Q.createElement("p",{className:"text-sm mb-2"},"Charlotte, NC & Surrounding Areas"))),Q.createElement("div",{className:"mt-8 pt-6 border-t border-gray-700 relative z-10"},Q.createElement("p",{className:"text-center text-sm text-gray-400"}," ",new Date().getFullYear()," TrueBuild. All Rights Reserved."))))},a6=()=>(oe.useEffect(()=>{const t=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?n.target.classList.add("animate-in-view"):n.target.classList.remove("animate-in-view")})},{threshold:.1});return document.querySelectorAll(".animate-on-scroll").forEach(e=>{t.observe(e)}),()=>t.disconnect()},[]),Q.createElement(lD,null,Q.createElement("style",null,`
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
          body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
          }

          @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
          }

          .card-hover-effect:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 10px 20px rgba(255, 126, 48, 0.4),
                        0 4px 6px rgba(255, 126, 48, 0.2);
          }

          .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
          }

          .animate-on-scroll.animate-in-view {
            opacity: 1;
            transform: translateY(0);
          }

          @keyframes animateContactBg {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
          }

          .animated-contact-bg {
            animation: animateContactBg 20s linear infinite alternate;
          }
        `),Q.createElement(i6,null),Q.createElement("main",{className:"min-h-screen"},Q.createElement(VO,null,Q.createElement(Od,{path:"/",element:Q.createElement(nG,null)}),Q.createElement(Od,{path:"/services",element:Q.createElement(qG,null)}),Q.createElement(Od,{path:"/contact",element:Q.createElement(W5,null)}))),Q.createElement(s6,null)));ZL.createRoot(document.getElementById("root")).render(Q.createElement(oe.StrictMode,null,Q.createElement(a6,null)));
